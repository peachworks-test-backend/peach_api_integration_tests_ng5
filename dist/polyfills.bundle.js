!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),i=e[t[0]];return function(e,t,o){i.apply(this,[e,t,o].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=i(o),a=n(3),s=i(a),c=n(5),u=i(c),l=n(7),d=i(l),m=n(9),f=i(m),p=n(10),h=i(p),v=n(12),g=i(v),_=n(14),b=i(_),$=n(16),y=i($),k=n(18),E=(i(k),n(19));i(E);n(21),n(25);var w=n(39),C=i(w),A=n(43),I=i(A),x=n(44),M=i(x),T=n(45),S=i(T),N=n(46),D=i(N),O=n(47),L=i(O),H=n(48),P=i(H),q=n(49),j=i(q),B=n(50),R=i(B),U=n(51),F=i(U),V=n(52),G=i(V),z=n(53),Y=i(z),W=n(54),K=i(W),X=n(55),J=i(X),Q=n(56),Z=i(Q),ee=n(57),te=i(ee),ne=n(58),ie=i(ne),oe=n(59),re=i(oe),ae=n(60),se=i(ae),ce=n(61),ue=i(ce),le=n(62),de=i(le),me=n(63),fe=i(me),pe=n(64),he=i(pe),ve=n(65),ge=i(ve),_e=n(66),be=i(_e),$e=n(67),ye=i($e),ke=n(68),Ee=i(ke),we=n(69),Ce=i(we),Ae=n(70),Ie=i(Ae),xe=n(71),Me=i(xe),Te=n(72),Se=(i(Te),n(73)),Ne=i(Se);s["default"].module(r["default"].framework.angular.module,[u["default"],d["default"],f["default"],h["default"],g["default"],b["default"],y["default"],"ngPeach.ui",I["default"].moduleName,M["default"].moduleName,S["default"].moduleName,D["default"].moduleName,L["default"].moduleName,P["default"].moduleName,j["default"].moduleName,R["default"].moduleName,F["default"].moduleName,G["default"].moduleName,Y["default"].moduleName,K["default"].moduleName,J["default"].moduleName,Z["default"].moduleName,te["default"].moduleName,ie["default"].moduleName,re["default"].moduleName]).config(C["default"]).controller("AddActiveLocationController",se["default"]).controller("BulkAddItemsController",ue["default"]).controller("CountGroupsController",de["default"]).controller("CountsController",fe["default"]).controller("EditCountController",he["default"]).controller("EditCountGroupController",ge["default"]).controller("EditInvoiceController",be["default"]).controller("EditItemController",ye["default"]).controller("EditVendorController",Ee["default"]).controller("IntroController",Ce["default"]).controller("InvoicesController",Ie["default"]).controller("ItemUnitsController",Me["default"]).controller("VendorsController",Ne["default"]),t["default"]=r["default"].framework.angular.module},function(e,t){e.exports={framework:{angular:{module:"fictionalOctoTribble",version:"1.4.8"}}}},function(e,t,n){n(4),e.exports=angular},function(e,t){/**
	 * @license AngularJS v1.4.8
	 * (c) 2010-2015 Google, Inc. http://angularjs.org
	 * License: MIT
	 */
!function(e,t,n){"use strict";function i(e,t){return t=t||Error,function(){var n,i,o=2,r=arguments,a=r[0],s="["+(e?e+":":"")+a+"] ",c=r[1];for(s+=c.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+o;return n<r.length?be(r[n]):e}),s+="\nhttp://errors.angularjs.org/1.4.8/"+(e?e+"/":"")+a,i=o,n="?";i<r.length;i++,n="&")s+=n+"p"+(i-o)+"="+encodeURIComponent(be(r[i]));return new t(s)}}function o(e){if(null==e||x(e))return!1;if(Ri(e)||E(e)||Mi&&e instanceof Mi)return!0;var t="length"in Object(e)&&e.length;return w(t)&&(t>=0&&t-1 in e||"function"==typeof e.item)}function r(e,t,n){var i,a;if(e)if(A(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if(Ri(e)||o(e)){var s="object"!=typeof e;for(i=0,a=e.length;a>i;i++)(s||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,n,e);else if(k(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)wi.call(e,i)&&t.call(n,e[i],i,e);return e}function a(e,t,n){for(var i=Object.keys(e).sort(),o=0;o<i.length;o++)t.call(n,e[i[o]],i[o]);return i}function s(e){return function(t,n){e(n,t)}}function c(){return++ji}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function l(e,t,n){for(var i=e.$$hashKey,o=0,r=t.length;r>o;++o){var a=t[o];if(y(a)||A(a))for(var s=Object.keys(a),c=0,d=s.length;d>c;c++){var m=s[c],f=a[m];n&&y(f)?C(f)?e[m]=new Date(f.valueOf()):I(f)?e[m]=new RegExp(f):f.nodeName?e[m]=f.cloneNode(!0):H(f)?e[m]=f.clone():(y(e[m])||(e[m]=Ri(f)?[]:{}),l(e[m],[f],!0)):e[m]=f}}return u(e,i),e}function d(e){return l(e,Ni.call(arguments,1),!1)}function m(e){return l(e,Ni.call(arguments,1),!0)}function f(e){return parseInt(e,10)}function p(e,t){return d(Object.create(e),t)}function h(){}function v(e){return e}function g(e){return function(){return e}}function _(e){return A(e.toString)&&e.toString!==Li}function b(e){return"undefined"==typeof e}function $(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function k(e){return null!==e&&"object"==typeof e&&!Hi(e)}function E(e){return"string"==typeof e}function w(e){return"number"==typeof e}function C(e){return"[object Date]"===Li.call(e)}function A(e){return"function"==typeof e}function I(e){return"[object RegExp]"===Li.call(e)}function x(e){return e&&e.window===e}function M(e){return e&&e.$evalAsync&&e.$watch}function T(e){return"[object File]"===Li.call(e)}function S(e){return"[object FormData]"===Li.call(e)}function N(e){return"[object Blob]"===Li.call(e)}function D(e){return"boolean"==typeof e}function O(e){return e&&A(e.then)}function L(e){return e&&w(e.length)&&Ui.test(Li.call(e))}function H(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function P(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function q(e){return Ei(e.nodeName||e[0]&&e[0].nodeName)}function j(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function B(e,t){function n(e,t){var n,o=t.$$hashKey;if(Ri(e))for(var r=0,a=e.length;a>r;r++)t.push(i(e[r]));else if(k(e))for(n in e)t[n]=i(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=i(e[n]));else for(n in e)wi.call(e,n)&&(t[n]=i(e[n]));return u(t,o),t}function i(e){if(!y(e))return e;var t=o.indexOf(e);if(-1!==t)return a[t];if(x(e)||M(e))throw Pi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i,r=!1;return Ri(e)?(i=[],r=!0):L(e)?i=new e.constructor(e):C(e)?i=new Date(e.getTime()):I(e)?(i=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),i.lastIndex=e.lastIndex):A(e.cloneNode)?i=e.cloneNode(!0):(i=Object.create(Hi(e)),r=!0),o.push(e),a.push(i),r?n(e,i):i}var o=[],a=[];if(t){if(L(t))throw Pi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Pi("cpi","Can't copy! Source and destination are identical.");return Ri(t)?t.length=0:r(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),o.push(e),a.push(t),n(e,t)}return i(e)}function R(e,t){if(Ri(e)){t=t||[];for(var n=0,i=e.length;i>n;n++)t[n]=e[n]}else if(y(e)){t=t||{};for(var o in e)("$"!==o.charAt(0)||"$"!==o.charAt(1))&&(t[o]=e[o])}return t||e}function U(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i,o,r=typeof e,a=typeof t;if(r==a&&"object"==r){if(!Ri(e)){if(C(e))return C(t)?U(e.getTime(),t.getTime()):!1;if(I(e))return I(t)?e.toString()==t.toString():!1;if(M(e)||M(t)||x(e)||x(t)||Ri(t)||C(t)||I(t))return!1;o=ve();for(i in e)if("$"!==i.charAt(0)&&!A(e[i])){if(!U(e[i],t[i]))return!1;o[i]=!0}for(i in t)if(!(i in o)&&"$"!==i.charAt(0)&&$(t[i])&&!A(t[i]))return!1;return!0}if(!Ri(t))return!1;if((n=e.length)==t.length){for(i=0;n>i;i++)if(!U(e[i],t[i]))return!1;return!0}}return!1}function F(e,t,n){return e.concat(Ni.call(t,n))}function V(e,t){return Ni.call(e,t||0)}function G(e,t){var n=arguments.length>2?V(arguments,2):[];return!A(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,F(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function z(e,i){var o=i;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?o=n:x(i)?o="$WINDOW":i&&t===i?o="$DOCUMENT":M(i)&&(o="$SCOPE"),o}function Y(e,t){return"undefined"==typeof e?n:(w(t)||(t=t?2:null),JSON.stringify(e,z,t))}function W(e){return E(e)?JSON.parse(e):e}function K(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function X(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function J(e,t,n){n=n?-1:1;var i=K(t,e.getTimezoneOffset());return X(e,n*(i-e.getTimezoneOffset()))}function Q(e){e=Mi(e).clone();try{e.empty()}catch(t){}var n=Mi("<div>").append(e).html();try{return e[0].nodeType===Qi?Ei(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Ei(t)})}catch(t){return Ei(n)}}function Z(e){try{return decodeURIComponent(e)}catch(t){}}function ee(e){var t={};return r((e||"").split("&"),function(e){var n,i,o;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(i=e.substring(0,n),o=e.substring(n+1)),i=Z(i),$(i)&&(o=$(o)?Z(o):!0,wi.call(t,i)?Ri(t[i])?t[i].push(o):t[i]=[t[i],o]:t[i]=o))}),t}function te(e){var t=[];return r(e,function(e,n){Ri(e)?r(e,function(e){t.push(ie(n,!0)+(e===!0?"":"="+ie(e,!0)))}):t.push(ie(n,!0)+(e===!0?"":"="+ie(e,!0)))}),t.length?t.join("&"):""}function ne(e){return ie(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ie(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function oe(e,t){var n,i,o=Yi.length;for(i=0;o>i;++i)if(n=Yi[i]+t,E(n=e.getAttribute(n)))return n;return null}function re(e,t){var n,i,o={};r(Yi,function(t){var o=t+"app";!n&&e.hasAttribute&&e.hasAttribute(o)&&(n=e,i=e.getAttribute(o))}),r(Yi,function(t){var o,r=t+"app";!n&&(o=e.querySelector("["+r.replace(":","\\:")+"]"))&&(n=o,i=o.getAttribute(r))}),n&&(o.strictDi=null!==oe(n,"strict-di"),t(n,i?[i]:[],o))}function ae(n,i,o){y(o)||(o={});var a={strictDi:!1};o=d(a,o);var s=function(){if(n=Mi(n),n.injector()){var e=n[0]===t?"document":Q(n);throw Pi("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",n)}]),o.debugInfoEnabled&&i.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),i.unshift("ng");var r=et(i,o.strictDi);return r.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),r},c=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return e&&c.test(e.name)&&(o.debugInfoEnabled=!0,e.name=e.name.replace(c,"")),e&&!u.test(e.name)?s():(e.name=e.name.replace(u,""),qi.resumeBootstrap=function(e){return r(e,function(e){i.push(e)}),s()},void(A(qi.resumeDeferredBootstrap)&&qi.resumeDeferredBootstrap()))}function se(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ce(e){var t=qi.element(e).injector();if(!t)throw Pi("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ue(e,t){return t=t||"_",e.replace(Wi,function(e,n){return(n?t:"")+e.toLowerCase()})}function le(){var t;if(!Ki){var i=zi();Ti=b(i)?e.jQuery:i?e[i]:n,Ti&&Ti.fn.on?(Mi=Ti,d(Ti.fn,{scope:_o.scope,isolateScope:_o.isolateScope,controller:_o.controller,injector:_o.injector,inheritedData:_o.inheritedData}),t=Ti.cleanData,Ti.cleanData=function(e){var n;if(Bi)Bi=!1;else for(var i,o=0;null!=(i=e[o]);o++)n=Ti._data(i,"events"),n&&n.$destroy&&Ti(i).triggerHandler("$destroy");t(e)}):Mi=xe,qi.element=Mi,Ki=!0}}function de(e,t,n){if(!e)throw Pi("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function me(e,t,n){return n&&Ri(e)&&(e=e[e.length-1]),de(A(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function fe(e,t){if("hasOwnProperty"===e)throw Pi("badname","hasOwnProperty is not a valid {0} name",t)}function pe(e,t,n){if(!t)return e;for(var i,o=t.split("."),r=e,a=o.length,s=0;a>s;s++)i=o[s],e&&(e=(r=e)[i]);return!n&&A(e)?G(r,e):e}function he(e){for(var t,n=e[0],i=e[e.length-1],o=1;n!==i&&(n=n.nextSibling);o++)(t||e[o]!==n)&&(t||(t=Mi(Ni.call(e,0,o))),t.push(n));return t||e}function ve(){return Object.create(null)}function ge(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),o=i("ng"),r=t(e,"angular",Object);return r.$$minErr=r.$$minErr||i,t(r,"module",function(){var e={};return function(i,r,a){var s=function(e,t){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid {0} name",t)};return s(i,"module"),r&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,t,n,i){return i||(i=o),function(){return i[n||"push"]([e,t,arguments]),l}}function t(e,t){return function(n,r){return r&&A(r)&&(r.$$moduleName=i),o.push([e,t,arguments]),l}}if(!r)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var o=[],s=[],c=[],u=e("$injector","invoke","push",s),l={_invokeQueue:o,_configBlocks:s,_runBlocks:c,requires:r,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:u,run:function(e){return c.push(e),this}};return a&&u(a),l})}})}function _e(e){var t=[];return JSON.stringify(e,function(e,n){if(n=z(e,n),y(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function be(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):b(e)?"undefined":"string"!=typeof e?_e(e):e}function $e(t){d(t,{bootstrap:ae,copy:B,extend:d,merge:m,equals:U,element:Mi,forEach:r,injector:et,noop:h,bind:G,toJson:Y,fromJson:W,identity:v,isUndefined:b,isDefined:$,isString:E,isFunction:A,isObject:y,isNumber:w,isElement:H,isArray:Ri,version:no,isDate:C,lowercase:Ei,uppercase:Ci,callbacks:{counter:0},getTestability:ce,$$minErr:i,$$csp:Gi,reloadWithDebugInfo:se}),(Si=ge(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:bn}),e.provider("$compile",lt).directive({a:_r,input:Lr,textarea:Lr,form:Er,script:Ia,select:Ta,style:Na,option:Sa,ngBind:qr,ngBindHtml:Br,ngBindTemplate:jr,ngClass:Ur,ngClassEven:Vr,ngClassOdd:Fr,ngCloak:Gr,ngController:zr,ngForm:wr,ngHide:ya,ngIf:Kr,ngInclude:Xr,ngInit:Qr,ngNonBindable:ma,ngPluralize:va,ngRepeat:ga,ngShow:$a,ngStyle:ka,ngSwitch:Ea,ngSwitchWhen:wa,ngSwitchDefault:Ca,ngOptions:ha,ngTransclude:Aa,ngModel:ua,ngList:Zr,ngChange:Rr,pattern:Oa,ngPattern:Oa,required:Da,ngRequired:Da,minlength:Ha,ngMinlength:Ha,maxlength:La,ngMaxlength:La,ngValue:Pr,ngModelOptions:da}).directive({ngInclude:Jr}).directive(br).directive(Yr),e.provider({$anchorScroll:tt,$animate:Do,$animateCss:Oo,$$animateQueue:No,$$AnimateRunner:So,$browser:st,$cacheFactory:ct,$controller:ht,$document:vt,$exceptionHandler:gt,$filter:Dn,$$forceReflow:jo,$interpolate:St,$interval:Nt,$http:It,$httpParamSerializer:bt,$httpParamSerializerJQLike:$t,$httpBackend:Mt,$xhrFactory:xt,$location:zt,$log:Yt,$parse:fn,$rootScope:_n,$q:pn,$$q:hn,$sce:En,$sceDelegate:kn,$sniffer:wn,$templateCache:ut,$templateRequest:Cn,$$testability:An,$timeout:In,$window:Tn,$$rAF:gn,$$jqLite:Ke,$$HashMap:ko,$$cookieReader:Nn})}])}function ye(){return++oo}function ke(e){return e.replace(so,function(e,t,n,i){return i?n.toUpperCase():n}).replace(co,"Moz$1")}function Ee(e){return!fo.test(e)}function we(e){var t=e.nodeType;return t===Xi||!t||t===eo}function Ce(e){for(var t in io[e.ng339])return!0;return!1}function Ae(e,t){var n,i,o,a,s=t.createDocumentFragment(),c=[];if(Ee(e))c.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),i=(po.exec(e)||["",""])[1].toLowerCase(),o=vo[i]||vo._default,n.innerHTML=o[1]+e.replace(ho,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;c=F(c,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",r(c,function(e){s.appendChild(e)}),s}function Ie(e,n){n=n||t;var i;return(i=mo.exec(e))?[n.createElement(i[1])]:(i=Ae(e,n))?i.childNodes:[]}function xe(e){if(e instanceof xe)return e;var t;if(E(e)&&(e=Fi(e),t=!0),!(this instanceof xe)){if(t&&"<"!=e.charAt(0))throw lo("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new xe(e)}t?qe(this,Ie(e)):qe(this,e)}function Me(e){return e.cloneNode(!0)}function Te(e,t){if(t||Ne(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,o=n.length;o>i;i++)Ne(n[i])}function Se(e,t,n,i){if($(i))throw lo("offargs","jqLite#off() does not support the `selector` argument");var o=De(e),a=o&&o.events,s=o&&o.handle;if(s)if(t){var c=function(t){var i=a[t];$(n)&&j(i||[],n),$(n)&&i&&i.length>0||(ao(e,t,s),delete a[t])};r(t.split(" "),function(e){c(e),uo[e]&&c(uo[e])})}else for(t in a)"$destroy"!==t&&ao(e,t,s),delete a[t]}function Ne(e,t){var i=e.ng339,o=i&&io[i];if(o){if(t)return void delete o.data[t];o.handle&&(o.events.$destroy&&o.handle({},"$destroy"),Se(e)),delete io[i],e.ng339=n}}function De(e,t){var i=e.ng339,o=i&&io[i];return t&&!o&&(e.ng339=i=ye(),o=io[i]={events:{},data:{},handle:n}),o}function Oe(e,t,n){if(we(e)){var i=$(n),o=!i&&t&&!y(t),r=!t,a=De(e,!o),s=a&&a.data;if(i)s[t]=n;else{if(r)return s;if(o)return s&&s[t];d(s,t)}}}function Le(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function He(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",Fi((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Fi(t)+" "," ")))})}function Pe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=Fi(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Fi(n))}}function qe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;n>i;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function je(e,t){return Be(e,"$"+(t||"ngController")+"Controller")}function Be(e,t,n){e.nodeType==eo&&(e=e.documentElement);for(var i=Ri(t)?t:[t];e;){for(var o=0,r=i.length;r>o;o++)if($(n=Mi.data(e,i[o])))return n;e=e.parentNode||e.nodeType===to&&e.host}}function Re(e){for(Te(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ue(e,t){t||Te(e);var n=e.parentNode;n&&n.removeChild(e)}function Fe(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Mi(n).on("load",t)}function Ve(e,t){var n=bo[t.toLowerCase()];return n&&$o[q(e)]&&n}function Ge(e){return yo[e]}function ze(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var o=t[i||n.type],r=o?o.length:0;if(r){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=o.specialHandlerWrapper||Ye;r>1&&(o=R(o));for(var c=0;r>c;c++)n.isImmediatePropagationStopped()||s(e,n,o[c])}};return n.elem=e,n}function Ye(e,t,n){n.call(e,t)}function We(e,t,n){var i=t.relatedTarget;(!i||i!==e&&!go.call(e,i))&&n.call(e,t)}function Ke(){this.$get=function(){return d(xe,{hasClass:function(e,t){return e.attr&&(e=e[0]),Le(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Pe(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),He(e,t)}})}}function Xe(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"==i||"object"==i&&null!==e?e.$$hashKey=i+":"+(t||c)():i+":"+e}function Je(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function Qe(e){var t=e.toString().replace(Ao,""),n=t.match(Eo);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ze(e,t,n){var i,o,a,s;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw E(n)&&n||(n=e.name||Qe(e)),Io("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=e.toString().replace(Ao,""),a=o.match(Eo),r(a[1].split(wo),function(e){e.replace(Co,function(e,t,n){i.push(n)})})}e.$inject=i}}else Ri(e)?(s=e.length-1,me(e[s],"fn"),i=e.slice(0,s)):me(e,"fn",!0);return i}function et(e,t){function i(e){return function(t,n){return y(t)?void r(t,s(e)):e(t,n)}}function o(e,t){if(fe(e,"service"),(A(t)||Ri(t))&&(t=w.instantiate(t)),!t.$get)throw Io("pget","Provider '{0}' must define $get factory method.",e);return k[e+v]=t}function a(e,t){return function(){var n=I.invoke(t,this);if(b(n))throw Io("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function c(e,t,n){return o(e,{$get:n!==!1?a(e,t):t})}function u(e,t){return c(e,["$injector",function(e){return e.instantiate(t)}])}function l(e,t){return c(e,g(t),!1)}function d(e,t){fe(e,"constant"),k[e]=t,C[e]=t}function m(e,t){var n=w.get(e+v),i=n.$get;n.$get=function(){var e=I.invoke(i,n);return I.invoke(t,null,{$delegate:e})}}function f(e){de(b(e)||Ri(e),"modulesToLoad","not an array");var t,n=[];return r(e,function(e){function i(e){var t,n;for(t=0,n=e.length;n>t;t++){var i=e[t],o=w.get(i[0]);o[i[1]].apply(o,i[2])}}if(!$.get(e)){$.put(e,!0);try{E(e)?(t=Si(e),n=n.concat(f(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):A(e)?n.push(w.invoke(e)):Ri(e)?n.push(w.invoke(e)):me(e,"module")}catch(o){throw Ri(e)&&(e=e[e.length-1]),o.message&&o.stack&&-1==o.stack.indexOf(o.message)&&(o=o.message+"\n"+o.stack),Io("modulerr","Failed to instantiate module {0} due to:\n{1}",e,o.stack||o.message||o)}}}),n}function p(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===h)throw Io("cdep","Circular dependency found: {0}",t+" <- "+_.join(" <- "));return e[t]}try{return _.unshift(t),e[t]=h,e[t]=n(t,i)}catch(o){throw e[t]===h&&delete e[t],o}finally{_.shift()}}function o(e,n,o,r){"string"==typeof o&&(r=o,o=null);var a,s,c,u=[],l=et.$$annotate(e,t,r);for(s=0,a=l.length;a>s;s++){if(c=l[s],"string"!=typeof c)throw Io("itkn","Incorrect injection token! Expected service name as string, got {0}",c);u.push(o&&o.hasOwnProperty(c)?o[c]:i(c,r))}return Ri(e)&&(e=e[a]),e.apply(n,u)}function r(e,t,n){var i=Object.create((Ri(e)?e[e.length-1]:e).prototype||null),r=o(e,i,t,n);return y(r)||A(r)?r:i}return{invoke:o,instantiate:r,get:i,annotate:et.$$annotate,has:function(t){return k.hasOwnProperty(t+v)||e.hasOwnProperty(t)}}}t=t===!0;var h={},v="Provider",_=[],$=new Je([],!0),k={$provide:{provider:i(o),factory:i(c),service:i(u),value:i(l),constant:i(d),decorator:m}},w=k.$injector=p(k,function(e,t){throw qi.isString(t)&&_.push(t),Io("unpr","Unknown provider: {0}",_.join(" <- "))}),C={},I=C.$injector=p(C,function(e,t){var i=w.get(e+v,t);return I.invoke(i.$get,i,n,e)});return r(f(e),function(e){e&&I.invoke(e)}),I}function tt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function o(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===q(e)?(t=e,!0):void 0}),t}function r(){var e=s.yOffset;if(A(e))e=e();else if(H(e)){var n=e[0],i=t.getComputedStyle(n);e="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else w(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=r();if(n){var i=e.getBoundingClientRect().top;t.scrollBy(0,i-n)}}else t.scrollTo(0,0)}function s(e){e=E(e)?e:n.hash();var t;e?(t=c.getElementById(e))?a(t):(t=o(c.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var c=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&Fe(function(){i.$evalAsync(s)})}),s}]}function nt(e,t){return e||t?e?t?(Ri(e)&&(e=e.join(" ")),Ri(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function it(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Mo)return n}}function ot(e){E(e)&&(e=e.split(" "));var t=ve();return r(e,function(e){e.length&&(t[e]=!0)}),t}function rt(e){return y(e)?e:{}}function at(e,t,n,i){function o(e){try{e.apply(null,V(arguments,1))}finally{if(_--,0===_)for(;$.length;)try{$.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){C=null,u(),l()}function c(){try{return f.state}catch(e){}}function u(){y=c(),y=b(y)?null:y,U(y,x)&&(y=x),x=y}function l(){(E!==d.url()||k!==y)&&(E=d.url(),k=y,r(A,function(e){e(d.url(),y)}))}var d=this,m=(t[0],e.location),f=e.history,p=e.setTimeout,v=e.clearTimeout,g={};d.isMock=!1;var _=0,$=[];d.$$completeOutstandingRequest=o,d.$$incOutstandingRequestCount=function(){_++},d.notifyWhenNoOutstandingRequests=function(e){0===_?e():$.push(e)};var y,k,E=m.href,w=t.find("base"),C=null;u(),k=y,d.url=function(t,n,o){if(b(o)&&(o=null),m!==e.location&&(m=e.location),f!==e.history&&(f=e.history),t){var r=k===o;if(E===t&&(!i.history||r))return d;var s=E&&Pt(E)===Pt(t);return E=t,k=o,!i.history||s&&r?((!s||C)&&(C=t),n?m.replace(t):s?m.hash=a(t):m.href=t,m.href!==t&&(C=t)):(f[n?"replaceState":"pushState"](o,"",t),u(),k=y),d}return C||m.href.replace(/%27/g,"'")},d.state=function(){return y};var A=[],I=!1,x=null;d.onUrlChange=function(t){return I||(i.history&&Mi(e).on("popstate",s),Mi(e).on("hashchange",s),I=!0),A.push(t),t},d.$$applicationDestroyed=function(){Mi(e).off("hashchange popstate",s)},d.$$checkUrlChange=l,d.baseHref=function(){var e=w.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},d.defer=function(e,t){var n;return _++,n=p(function(){delete g[n],o(e)},t||0),g[n]=!0,n},d.defer.cancel=function(e){return g[e]?(delete g[e],v(e),o(h),!0):!1}}function st(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new at(e,i,t,n)}]}function ct(){this.$get=function(){function e(e,n){function o(e){e!=m&&(f?f==e&&(f=e.n):f=e,r(e.n,e.p),r(e,m),m=e,m.n=null)}function r(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=d({},n,{id:e}),c=ve(),u=n&&n.capacity||Number.MAX_VALUE,l=ve(),m=null,f=null;return t[e]={put:function(e,t){if(!b(t)){if(u<Number.MAX_VALUE){var n=l[e]||(l[e]={key:e});o(n)}return e in c||a++,c[e]=t,a>u&&this.remove(f.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=l[e];if(!t)return;o(t)}return c[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=l[e];if(!t)return;t==m&&(m=t.p),t==f&&(f=t.n),r(t.n,t.p),delete l[e]}e in c&&(delete c[e],a--)},removeAll:function(){c=ve(),a=0,l=ve(),m=f=null},destroy:function(){c=null,s=null,l=null,delete t[e]},info:function(){return d({},s,{size:a})}}}var t={};return e.info=function(){var e={};return r(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function ut(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function lt(e,i){function o(e,t,n){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,o={};return r(e,function(e,r){var a=e.match(i);if(!a)throw Lo("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,e,n?"controller bindings definition":"isolate scope definition");o[r]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||r}}),o}function a(e,t){var n={isolateScope:null,bindToController:null};if(y(e.scope)&&(e.bindToController===!0?(n.bindToController=o(e.scope,t,!0),n.isolateScope={}):n.isolateScope=o(e.scope,t,!1)),y(e.bindToController)&&(n.bindToController=o(e.bindToController,t,!0)),y(n.bindToController)){var i=e.controller,r=e.controllerAs;if(!i)throw Lo("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!pt(i,r))throw Lo("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function c(e){var t=e.charAt(0);if(!t||t!==Ei(t))throw Lo("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Lo("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var u={},l="Directive",m=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,_=P("ngSrc,ngSrcset,src,srcset"),k=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/;this.directive=function I(t,n){return fe(t,"directive"),E(t)?(c(t),de(n,"directiveFactory"),u.hasOwnProperty(t)||(u[t]=[],e.factory(t+l,["$injector","$exceptionHandler",function(e,n){var i=[];return r(u[t],function(o,r){try{var s=e.invoke(o);A(s)?s={compile:g(s)}:!s.compile&&s.link&&(s.compile=g(s.link)),s.priority=s.priority||0,s.index=r,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var c=s.$$bindings=a(s,s.name);y(c.isolateScope)&&(s.$$isolateBindings=c.isolateScope),s.$$moduleName=o.$$moduleName,i.push(s)}catch(u){n(u)}}),i}])),u[t].push(n)):r(t,s(I)),this},this.aHrefSanitizationWhitelist=function(e){return $(e)?(i.aHrefSanitizationWhitelist(e),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(i.imgSrcSanitizationWhitelist(e),this):i.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(e){return $(e)?(C=e,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,i,o,a,s,c,g,$,I,x,T){function S(e,t){try{e.addClass(t)}catch(n){}}function N(e,t,n,i,o){e instanceof Mi||(e=Mi(e)),r(e,function(t,n){t.nodeType==Qi&&t.nodeValue.match(/\S+/)&&(e[n]=Mi(t).wrap("<span></span>").parent()[0])});var a=O(e,t,e,n,i,o);N.$$addScopeClass(e);var s=null;return function(t,n,i){de(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new()),i=i||{};var r=i.parentBoundTranscludeFn,c=i.transcludeControllers,u=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),s||(s=D(u));var l;if(l="html"!==s?Mi(Z(s,Mi("<div>").append(e).html())):n?_o.clone.call(e):e,c)for(var d in c)l.data("$"+d+"Controller",c[d].instance);return N.$$addScopeInfo(l,t),n&&n(l,t),a&&a(t,l,l,r),l}}function D(e){var t=e&&e[0];return t&&"foreignobject"!==q(t)&&t.toString().match(/SVG/)?"svg":"html"}function O(e,t,i,o,r,a){function s(e,i,o,r){var a,s,c,u,l,d,m,f,v;if(p){var g=i.length;for(v=new Array(g),l=0;l<h.length;l+=3)m=h[l],v[m]=i[m]}else v=i;for(l=0,d=h.length;d>l;)c=v[h[l++]],a=h[l++],s=h[l++],a?(a.scope?(u=e.$new(),N.$$addScopeInfo(Mi(c),u)):u=e,f=a.transcludeOnThisElement?L(e,a.transclude,r):!a.templateOnThisElement&&r?r:!r&&t?L(e,t):null,a(s,u,c,o,f)):s&&s(e,c.childNodes,n,r)}for(var c,u,l,d,m,f,p,h=[],v=0;v<e.length;v++)c=new ae,u=H(e[v],[],c,0===v?o:n,r),l=u.length?R(u,e[v],c,t,i,null,[],[],a):null,l&&l.scope&&N.$$addScopeClass(c.$$element),m=l&&l.terminal||!(d=e[v].childNodes)||!d.length?null:O(d,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:t),(l||m)&&(h.push(v,l,m),f=!0,p=p||l),a=null;return f?s:null}function L(e,t,n){var i=function(i,o,r,a,s){return i||(i=e.$new(!1,s),i.$$transcluded=!0),t(i,o,{parentBoundTranscludeFn:n,transcludeControllers:r,futureParentElement:a})};return i}function H(e,t,n,i,o){var r,a,s=e.nodeType,c=n.$attr;switch(s){case Xi:G(t,dt(q(e)),"E",i,o);for(var u,l,d,p,h,v,g=e.attributes,_=0,b=g&&g.length;b>_;_++){var $=!1,k=!1;u=g[_],l=u.name,h=Fi(u.value),p=dt(l),(v=me.test(p))&&(l=l.replace(Ho,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var w=p.match(fe);w&&z(w[1])&&($=l,k=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),d=dt(l.toLowerCase()),c[d]=l,(v||!n.hasOwnProperty(d))&&(n[d]=h,Ve(e,d)&&(n[d]=!0)),te(e,t,h,d,v),G(t,d,"A",i,o,$,k)}if(a=e.className,y(a)&&(a=a.animVal),E(a)&&""!==a)for(;r=f.exec(a);)d=dt(r[2]),G(t,d,"C",i,o)&&(n[d]=Fi(r[3])),a=a.substr(r.index+r[0].length);break;case Qi:if(11===xi)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===Qi;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);J(t,e.nodeValue);break;case Zi:try{r=m.exec(e.nodeValue),r&&(d=dt(r[1]),G(t,d,"M",i,o)&&(n[d]=Fi(r[2])))}catch(C){}}return t.sort(K),t}function P(e,t,n){var i=[],o=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Lo("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==Xi&&(e.hasAttribute(t)&&o++,e.hasAttribute(n)&&o--),i.push(e),e=e.nextSibling}while(o>0)}else i.push(e);return Mi(i)}function B(e,t,n){return function(i,o,r,a,s){return o=P(o[0],t,n),e(i,o,r,a,s)}}function R(e,i,r,a,s,u,l,d,m){function f(e,t,n,i){e&&(n&&(e=B(e,n,i)),e.require=g.require,e.directiveName=_,(T===g||g.$$isolateScope)&&(e=ie(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=B(t,n,i)),t.require=g.require,t.directiveName=_,(T===g||g.$$isolateScope)&&(t=ie(t,{isolateScope:!0})),d.push(t))}function p(e,t,n,i){var o;if(E(t)){var r=t.match(k),a=t.substring(r[0].length),s=r[1]||r[3],c="?"===r[2];if("^^"===s?n=n.parent():(o=i&&i[a],o=o&&o.instance),!o){var u="$"+a+"Controller";o=s?n.inheritedData(u):n.data(u)}if(!o&&!c)throw Lo("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(Ri(t)){o=[];for(var l=0,d=t.length;d>l;l++)o[l]=p(e,t[l],n,i)}return o||null}function h(e,t,n,i,o,r){var a=ve();for(var s in i){var u=i[s],l={$scope:u===T||u.$$isolateScope?o:r,$element:e,$attrs:t,$transclude:n},d=u.controller;"@"==d&&(d=t[u.name]);var m=c(d,l,!0,u.controllerAs);a[u.name]=m,q||e.data("$"+u.name+"Controller",m.instance)}return a}function v(e,t,o,a,s){function c(e,t,i){var o;return M(e)||(i=t,t=e,e=n),q&&(o=v),i||(i=q?_.parent():_),s(e,t,o,i,D)}var u,m,f,v,g,_,b,$,y;i===o?(b=r,_=r.$$element):(_=Mi(o),b=new ae(_,r)),f=t,T?m=t.$new(!0):I&&(f=t.$parent),s&&(g=c,g.$$boundTransclude=s),x&&(v=h(_,b,g,x,m,t)),T&&(N.$$addScopeInfo(_,m,!0,!(S&&(S===T||S===T.$$originalDirective))),N.$$addScopeClass(_,!0),m.$$isolateBindings=T.$$isolateBindings,$=re(t,b,m,m.$$isolateBindings,T),$&&m.$on("$destroy",$));for(var k in v){var E=x[k],w=v[k],C=E.$$bindings.bindToController;w.identifier&&C&&(y=re(f,b,w.instance,C,E));var A=w();A!==w.instance&&(w.instance=A,_.data("$"+E.name+"Controller",A),y&&y(),y=re(f,b,w.instance,C,E))}for(G=0,z=l.length;z>G;G++)u=l[G],oe(u,u.isolateScope?m:t,_,b,u.require&&p(u.directiveName,u.require,_,v),g);var D=t;for(T&&(T.template||null===T.templateUrl)&&(D=m),e&&e(D,o.childNodes,n,s),G=d.length-1;G>=0;G--)u=d[G],oe(u,u.isolateScope?m:t,_,b,u.require&&p(u.directiveName,u.require,_,v),g)}m=m||{};for(var g,_,b,$,w,C=-Number.MAX_VALUE,I=m.newScopeDirective,x=m.controllerDirectives,T=m.newIsolateScopeDirective,S=m.templateDirective,D=m.nonTlbTranscludeDirective,O=!1,L=!1,q=m.hasElementTranscludeDirective,j=r.$$element=Mi(i),R=u,U=a,G=0,z=e.length;z>G;G++){g=e[G];var K=g.$$start,J=g.$$end;if(K&&(j=P(i,K,J)),b=n,C>g.priority)break;if((w=g.scope)&&(g.templateUrl||(y(w)?(X("new/isolated scope",T||I,g,j),T=g):X("new/isolated scope",T,g,j)),
I=I||g),_=g.name,!g.templateUrl&&g.controller&&(w=g.controller,x=x||ve(),X("'"+_+"' controller",x[_],g,j),x[_]=g),(w=g.transclude)&&(O=!0,g.$$tlb||(X("transclusion",D,g,j),D=g),"element"==w?(q=!0,C=g.priority,b=j,j=r.$$element=Mi(t.createComment(" "+_+": "+r[_]+" ")),i=j[0],ne(s,V(b),i),U=N(b,a,C,R&&R.name,{nonTlbTranscludeDirective:D})):(b=Mi(Me(i)).contents(),j.empty(),U=N(b,a,n,n,{needsNewScope:g.$$isolateScope||g.$$newScope}))),g.template)if(L=!0,X("template",S,g,j),S=g,w=A(g.template)?g.template(j,r):g.template,w=le(w),g.replace){if(R=g,b=Ee(w)?[]:ft(Z(g.templateNamespace,Fi(w))),i=b[0],1!=b.length||i.nodeType!==Xi)throw Lo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",_,"");ne(s,j,i);var ee={$attr:{}},te=H(i,[],ee),se=e.splice(G+1,e.length-(G+1));(T||I)&&F(te,T,I),e=e.concat(te).concat(se),Y(r,ee),z=e.length}else j.html(w);if(g.templateUrl)L=!0,X("template",S,g,j),S=g,g.replace&&(R=g),v=W(e.splice(G,e.length-G),j,r,s,O&&U,l,d,{controllerDirectives:x,newScopeDirective:I!==g&&I,newIsolateScopeDirective:T,templateDirective:S,nonTlbTranscludeDirective:D}),z=e.length;else if(g.compile)try{$=g.compile(j,r,U),A($)?f(null,$,K,J):$&&f($.pre,$.post,K,J)}catch(ce){o(ce,Q(j))}g.terminal&&(v.terminal=!0,C=Math.max(C,g.priority))}return v.scope=I&&I.scope===!0,v.transcludeOnThisElement=O,v.templateOnThisElement=L,v.transclude=U,m.hasElementTranscludeDirective=q,v}function F(e,t,n){for(var i=0,o=e.length;o>i;i++)e[i]=p(e[i],{$$isolateScope:t,$$newScope:n})}function G(t,n,i,r,a,s,c){if(n===a)return null;var d=null;if(u.hasOwnProperty(n))for(var m,f=e.get(n+l),h=0,v=f.length;v>h;h++)try{m=f[h],(b(r)||r>m.priority)&&-1!=m.restrict.indexOf(i)&&(s&&(m=p(m,{$$start:s,$$end:c})),t.push(m),d=m)}catch(g){o(g)}return d}function z(t){if(u.hasOwnProperty(t))for(var n,i=e.get(t+l),o=0,r=i.length;r>o;o++)if(n=i[o],n.multiElement)return!0;return!1}function Y(e,t){var n=t.$attr,i=e.$attr,o=e.$$element;r(e,function(i,o){"$"!=o.charAt(0)&&(t[o]&&t[o]!==i&&(i+=("style"===o?";":" ")+t[o]),e.$set(o,i,!0,n[o]))}),r(t,function(t,r){"class"==r?(S(o,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==r?(o.attr("style",o.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==r.charAt(0)||e.hasOwnProperty(r)||(e[r]=t,i[r]=n[r])})}function W(e,t,n,i,o,s,c,u){var l,d,m=[],f=t[0],h=e.shift(),v=p(h,{templateUrl:null,transclude:null,replace:null,$$originalDirective:h}),g=A(h.templateUrl)?h.templateUrl(t,n):h.templateUrl,_=h.templateNamespace;return t.empty(),a(g).then(function(a){var p,b,$,k;if(a=le(a),h.replace){if($=Ee(a)?[]:ft(Z(_,Fi(a))),p=$[0],1!=$.length||p.nodeType!==Xi)throw Lo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h.name,g);b={$attr:{}},ne(i,t,p);var E=H(p,[],b);y(h.scope)&&F(E,!0),e=E.concat(e),Y(n,b)}else p=f,t.html(a);for(e.unshift(v),l=R(e,p,n,o,t,h,s,c,u),r(i,function(e,n){e==p&&(i[n]=t[0])}),d=O(t[0].childNodes,o);m.length;){var w=m.shift(),C=m.shift(),A=m.shift(),I=m.shift(),x=t[0];if(!w.$$destroyed){if(C!==f){var M=C.className;u.hasElementTranscludeDirective&&h.replace||(x=Me(p)),ne(A,Mi(C),x),S(Mi(x),M)}k=l.transcludeOnThisElement?L(w,l.transclude,I):I,l(d,w,x,i,k)}}m=null}),function(e,t,n,i,o){var r=o;t.$$destroyed||(m?m.push(t,n,i,r):(l.transcludeOnThisElement&&(r=L(t,l.transclude,o)),l(d,t,n,i,r)))}}function K(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function X(e,t,n,i){function o(e){return e?" (module: "+e+")":""}if(t)throw Lo("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,o(t.$$moduleName),n.name,o(n.$$moduleName),e,Q(i))}function J(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),i=!!t.length;return i&&N.$$addBindingClass(t),function(e,t){var o=t.parent();i||N.$$addBindingClass(o),N.$$addBindingInfo(o,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function Z(e,n){switch(e=Ei(e||"html")){case"svg":case"math":var i=t.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function ee(e,t){if("srcdoc"==t)return I.HTML;var n=q(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?I.RESOURCE_URL:void 0}function te(e,t,n,o,r){var a=ee(e,o);r=_[o]||r;var s=i(n,!0,a,r);if(s){if("multiple"===o&&"select"===q(e))throw Lo("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Q(e));t.push({priority:100,compile:function(){return{pre:function(e,t,c){var u=c.$$observers||(c.$$observers=ve());if(w.test(o))throw Lo("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var l=c[o];l!==n&&(s=l&&i(l,!0,a,r),n=l),s&&(c[o]=s(e),(u[o]||(u[o]=[])).$$inter=!0,(c.$$observers&&c.$$observers[o].$$scope||e).$watch(s,function(e,t){"class"===o&&e!=t?c.$updateClass(e,t):c.$set(o,e)}))}}}})}}function ne(e,n,i){var o,r,a=n[0],s=n.length,c=a.parentNode;if(e)for(o=0,r=e.length;r>o;o++)if(e[o]==a){e[o++]=i;for(var u=o,l=u+s-1,d=e.length;d>u;u++,l++)d>l?e[u]=e[l]:delete e[u];e.length-=s-1,e.context===a&&(e.context=i);break}c&&c.replaceChild(i,a);var m=t.createDocumentFragment();m.appendChild(a),Mi.hasData(a)&&(Mi.data(i,Mi.data(a)),Ti?(Bi=!0,Ti.cleanData([a])):delete Mi.cache[a[Mi.expando]]);for(var f=1,p=n.length;p>f;f++){var h=n[f];Mi(h).remove(),m.appendChild(h),delete n[f]}n[0]=i,n.length=1}function ie(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function oe(e,t,n,i,r,a){try{e(t,n,i,r,a)}catch(s){o(s,Q(n))}}function re(e,t,n,o,a){var c=[];return r(o,function(o,r){var u,l,d,m,f=o.attrName,p=o.optional,v=o.mode;switch(v){case"@":p||wi.call(t,f)||(n[r]=t[f]=void 0),t.$observe(f,function(e){E(e)&&(n[r]=e)}),t.$$observers[f].$$scope=e,E(t[f])&&(n[r]=i(t[f])(e));break;case"=":if(!wi.call(t,f)){if(p)break;t[f]=void 0}if(p&&!t[f])break;l=s(t[f]),m=l.literal?U:function(e,t){return e===t||e!==e&&t!==t},d=l.assign||function(){throw u=n[r]=l(e),Lo("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",t[f],a.name)},u=n[r]=l(e);var g=function(t){return m(t,n[r])||(m(t,u)?d(e,t=n[r]):n[r]=t),u=t};g.$stateful=!0;var _;_=o.collection?e.$watchCollection(t[f],g):e.$watch(s(t[f],g),null,l.literal),c.push(_);break;case"&":if(l=t.hasOwnProperty(f)?s(t[f]):h,l===h&&p)break;n[r]=function(t){return l(e,t)}}}),c.length&&function(){for(var e=0,t=c.length;t>e;++e)c[e]()}}var ae=function(e,t){if(t){var n,i,o,r=Object.keys(t);for(n=0,i=r.length;i>n;n++)o=r[n],this[o]=t[o]}else this.$attr={};this.$$element=e};ae.prototype={$normalize:dt,$addClass:function(e){e&&e.length>0&&x.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&x.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=mt(e,t);n&&n.length&&x.addClass(this.$$element,n);var i=mt(t,e);i&&i.length&&x.removeClass(this.$$element,i)},$set:function(e,t,n,i){var a,s=this.$$element[0],c=Ve(s,e),u=Ge(e),l=e;if(c?(this.$$element.prop(e,t),i=c):u&&(this[u]=t,l=u),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e],i||(this.$attr[e]=i=ue(e,"-"))),a=q(this.$$element),"a"===a&&"href"===e||"img"===a&&"src"===e)this[e]=t=T(t,"src"===e);else if("img"===a&&"srcset"===e){for(var d="",m=Fi(t),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(m)?f:/(,)/,h=m.split(p),v=Math.floor(h.length/2),g=0;v>g;g++){var _=2*g;d+=T(Fi(h[_]),!0),d+=" "+Fi(h[_+1])}var $=Fi(h[2*g]).split(/\s/);d+=T(Fi($[0]),!0),2===$.length&&(d+=" "+Fi($[1])),this[e]=t=d}n!==!1&&(null===t||b(t)?this.$$element.removeAttr(i):this.$$element.attr(i,t));var y=this.$$observers;y&&r(y[l],function(e){try{e(t)}catch(n){o(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=ve()),o=i[e]||(i[e]=[]);return o.push(t),g.$evalAsync(function(){o.$$inter||!n.hasOwnProperty(e)||b(n[e])||t(n[e])}),function(){j(o,t)}}};var se=i.startSymbol(),ce=i.endSymbol(),le="{{"==se||"}}"==ce?v:function(e){return e.replace(/\{\{/g,se).replace(/}}/g,ce)},me=/^ngAttr[A-Z]/,fe=/^(.+)Start$/;return N.$$addBindingInfo=C?function(e,t){var n=e.data("$binding")||[];Ri(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:h,N.$$addBindingClass=C?function(e){S(e,"ng-binding")}:h,N.$$addScopeInfo=C?function(e,t,n,i){var o=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(o,t)}:h,N.$$addScopeClass=C?function(e,t){S(e,t?"ng-isolate-scope":"ng-scope")}:h,N}]}function dt(e){return ke(e.replace(Ho,""))}function mt(e,t){var n="",i=e.split(/\s+/),o=t.split(/\s+/);e:for(var r=0;r<i.length;r++){for(var a=i[r],s=0;s<o.length;s++)if(a==o[s])continue e;n+=(n.length>0?" ":"")+a}return n}function ft(e){e=Mi(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===Zi&&Di.call(e,t,1)}return e}function pt(e,t){if(t&&E(t))return t;if(E(e)){var n=qo.exec(e);if(n)return n[3]}}function ht(){var e={},t=!1;this.register=function(t,n){fe(t,"controller"),y(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(o,r){function a(e,t,n,o){if(!e||!y(e.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",o,t);e.$scope[t]=n}return function(i,s,c,u){var l,m,f,p;if(c=c===!0,u&&E(u)&&(p=u),E(i)){if(m=i.match(qo),!m)throw Po("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);f=m[1],p=p||m[3],i=e.hasOwnProperty(f)?e[f]:pe(s.$scope,f,!0)||(t?pe(r,f,!0):n),me(i,f,!0)}if(c){var h=(Ri(i)?i[i.length-1]:i).prototype;l=Object.create(h||null),p&&a(s,p,l,f||i.name);var v;return v=d(function(){var e=o.invoke(i,l,s,f);return e!==l&&(y(e)||A(e))&&(l=e,p&&a(s,p,l,f||i.name)),l},{instance:l,identifier:p})}return l=o.instantiate(i,s,f),p&&a(s,p,l,f||i.name),l}}]}function vt(){this.$get=["$window",function(e){return Mi(e.document)}]}function gt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function _t(e){return y(e)?C(e)?e.toISOString():Y(e):e}function bt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||b(e)||(Ri(e)?r(e,function(e,i){t.push(ie(n)+"="+ie(_t(e)))}):t.push(ie(n)+"="+ie(_t(e))))}),t.join("&")}}}function $t(){this.$get=function(){return function(e){function t(e,i,o){null===e||b(e)||(Ri(e)?r(e,function(e,n){t(e,i+"["+(y(e)?n:"")+"]")}):y(e)&&!C(e)?a(e,function(e,n){t(e,i+(o?"":"[")+n+(o?"":"]"))}):n.push(ie(i)+"="+ie(_t(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function yt(e,t){if(E(e)){var n=e.replace(Vo,"").trim();if(n){var i=t("Content-Type");(i&&0===i.indexOf(Bo)||kt(n))&&(e=W(n))}}return e}function kt(e){var t=e.match(Uo);return t&&Fo[t[0]].test(e)}function Et(e){function t(e,t){e&&(i[e]=i[e]?i[e]+", "+t:t)}var n,i=ve();return E(e)?r(e.split("\n"),function(e){n=e.indexOf(":"),t(Ei(Fi(e.substr(0,n))),Fi(e.substr(n+1)))}):y(e)&&r(e,function(e,n){t(Ei(n),Fi(e))}),i}function wt(e){var t;return function(n){if(t||(t=Et(e)),n){var i=t[Ei(n)];return void 0===i&&(i=null),i}return t}}function Ct(e,t,n,i){return A(i)?i(e,t,n):(r(i,function(i){e=i(e,t,n)}),e)}function At(e){return e>=200&&300>e}function It(){var e=this.defaults={transformResponse:[yt],transformRequest:[function(e){return!y(e)||T(e)||N(e)||S(e)?e:Y(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:R(Ro),put:R(Ro),patch:R(Ro)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return $(e)?(t=!!e,this):t};var o=!0;this.useLegacyPromiseExtensions=function(e){return $(e)?(o=!!e,this):o};var a=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,c,u,l,m,f){function p(t){function a(e){var t=d({},e);return t.data=Ct(e.data,e.headers,e.status,u.transformResponse),At(e.status)?t:m.reject(t)}function s(e,t){var n,i={};return r(e,function(e,o){A(e)?(n=e(t),null!=n&&(i[o]=n)):i[o]=e}),i}function c(t){var n,i,o,r=e.headers,a=d({},t.headers);r=d({},r.common,r[Ei(t.method)]);e:for(n in r){i=Ei(n);for(o in a)if(Ei(o)===i)continue e;a[n]=r[n]}return s(a,R(t))}if(!qi.isObject(t))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var u=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);u.headers=c(t),u.method=Ci(u.method),u.paramSerializer=E(u.paramSerializer)?f.get(u.paramSerializer):u.paramSerializer;var l=function(t){var i=t.headers,o=Ct(t.data,wt(i),n,t.transformRequest);return b(o)&&r(i,function(e,t){"content-type"===Ei(t)&&delete i[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,o).then(a,a)},p=[l,n],h=m.when(u);for(r(w,function(e){(e.request||e.requestError)&&p.unshift(e.request,e.requestError),(e.response||e.responseError)&&p.push(e.response,e.responseError)});p.length;){var v=p.shift(),_=p.shift();h=h.then(v,_)}return o?(h.success=function(e){return me(e,"fn"),h.then(function(t){e(t.data,t.status,t.headers,u)}),h},h.error=function(e){return me(e,"fn"),h.then(null,function(t){e(t.data,t.status,t.headers,u)}),h}):(h.success=zo("success"),h.error=zo("error")),h}function h(e){r(arguments,function(e){p[e]=function(t,n){return p(d({},n||{},{method:e,url:t}))}})}function v(e){r(arguments,function(e){p[e]=function(t,n,i){return p(d({},i||{},{method:e,url:t,data:n}))}})}function g(i,o){function r(e,n,i,o){function r(){a(n,e,i,o)}f&&(At(e)?f.put(w,[e,n,Et(i),o]):f.remove(w)),t?l.$applyAsync(r):(r(),l.$$phase||l.$apply())}function a(e,t,n,o){t=t>=-1?t:0,(At(t)?v.resolve:v.reject)({data:e,status:t,headers:wt(n),config:i,statusText:o})}function u(e){a(e.data,e.status,R(e.headers()),e.statusText)}function d(){var e=p.pendingRequests.indexOf(i);-1!==e&&p.pendingRequests.splice(e,1)}var f,h,v=m.defer(),g=v.promise,E=i.headers,w=_(i.url,i.paramSerializer(i.params));if(p.pendingRequests.push(i),g.then(d,d),!i.cache&&!e.cache||i.cache===!1||"GET"!==i.method&&"JSONP"!==i.method||(f=y(i.cache)?i.cache:y(e.cache)?e.cache:k),f&&(h=f.get(w),$(h)?O(h)?h.then(u,u):Ri(h)?a(h[1],h[0],R(h[2]),h[3]):a(h,200,{},"OK"):f.put(w,g)),b(h)){var C=Mn(i.url)?c()[i.xsrfCookieName||e.xsrfCookieName]:n;C&&(E[i.xsrfHeaderName||e.xsrfHeaderName]=C),s(i.method,w,o,r,E,i.timeout,i.withCredentials,i.responseType)}return g}function _(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var k=u("$http");e.paramSerializer=E(e.paramSerializer)?f.get(e.paramSerializer):e.paramSerializer;var w=[];return r(a,function(e){w.unshift(E(e)?f.get(e):f.invoke(e))}),p.pendingRequests=[],h("get","delete","head","jsonp"),v("post","put","patch"),p.defaults=e,p}]}function xt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Mt(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,i){return Tt(e,i,e.defer,t.angular.callbacks,n[0])}]}function Tt(e,t,n,i,o){function a(e,t,n){var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=e,r.async=!0,a=function(e){ao(r,"load",a),ao(r,"error",a),o.body.removeChild(r),r=null;var s=-1,c="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),c=e.type,s="error"===e.type?404:200),n&&n(s,c)},ro(r,"load",a),ro(r,"error",a),o.body.appendChild(r),a}return function(o,s,c,u,l,d,m,f){function p(){_&&_(),y&&y.abort()}function v(t,i,o,r,a){$(w)&&n.cancel(w),_=y=null,t(i,o,r,a),e.$$completeOutstandingRequest(h)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==Ei(o)){var g="_"+(i.counter++).toString(36);i[g]=function(e){i[g].data=e,i[g].called=!0};var _=a(s.replace("JSON_CALLBACK","angular.callbacks."+g),g,function(e,t){v(u,e,i[g].data,"",t),i[g]=h})}else{var y=t(o,s);y.open(o,s,!0),r(l,function(e,t){$(e)&&y.setRequestHeader(t,e)}),y.onload=function(){var e=y.statusText||"",t="response"in y?y.response:y.responseText,n=1223===y.status?204:y.status;0===n&&(n=t?200:"file"==xn(s).protocol?404:0),v(u,n,t,y.getAllResponseHeaders(),e)};var k=function(){v(u,-1,null,null,"")};if(y.onerror=k,y.onabort=k,m&&(y.withCredentials=!0),f)try{y.responseType=f}catch(E){if("json"!==f)throw E}y.send(b(c)?null:c)}if(d>0)var w=n(p,d);else O(d)&&d.then(p)}}function St(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,o){function r(e){return"\\\\\\"+e}function a(n){return n.replace(m,e).replace(f,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=Y(e)}return e}function c(r,c,m,f){function p(e){try{return e=x(e),f&&!$(e)?e:s(e)}catch(t){i(Yo.interr(r,t))}}f=!!f;for(var h,v,g,_=0,y=[],k=[],E=r.length,w=[],C=[];E>_;){if(-1==(h=r.indexOf(e,_))||-1==(v=r.indexOf(t,h+u))){_!==E&&w.push(a(r.substring(_)));break}_!==h&&w.push(a(r.substring(_,h))),g=r.substring(h+u,v),y.push(g),k.push(n(g,p)),_=v+l,C.push(w.length),w.push("")}if(m&&w.length>1&&Yo.throwNoconcat(r),!c||y.length){var I=function(e){for(var t=0,n=y.length;n>t;t++){if(f&&b(e[t]))return;w[C[t]]=e[t]}return w.join("")},x=function(e){return m?o.getTrusted(m,e):o.valueOf(e)};return d(function(e){var t=0,n=y.length,o=new Array(n);try{for(;n>t;t++)o[t]=k[t](e);return I(o)}catch(a){i(Yo.interr(r,a))}},{exp:r,expressions:y,$$watchDelegate:function(e,t){var n;return e.$watchGroup(k,function(i,o){var r=I(i);A(t)&&t.call(this,r,i!==o?n:r,e),n=r})}})}}var u=e.length,l=t.length,m=new RegExp(e.replace(/./g,r),"g"),f=new RegExp(t.replace(/./g,r),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function Nt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,i){function o(o,a,s,c){var u=arguments.length>4,l=u?V(arguments,4):[],d=t.setInterval,m=t.clearInterval,f=0,p=$(c)&&!c,h=(p?i:n).defer(),v=h.promise;return s=$(s)?s:0,v.then(null,null,u?function(){o.apply(null,l)}:o),v.$$intervalId=d(function(){h.notify(f++),s>0&&f>=s&&(h.resolve(f),m(v.$$intervalId),delete r[v.$$intervalId]),p||e.$apply()},a),r[v.$$intervalId]=h,v}var r={};return o.cancel=function(e){return e&&e.$$intervalId in r?(r[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete r[e.$$intervalId],!0):!1},o}]}function Dt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ne(t[n]);return t.join("/")}function Ot(e,t){var n=xn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||Ko[n.protocol]||null}function Lt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var i=xn(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=ee(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Ht(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function Pt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function qt(e){return e.replace(/(#.+)|#$/,"$1")}function jt(e){return e.substr(0,Pt(e).lastIndexOf("/")+1)}function Bt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Rt(e,t,n){this.$$html5=!0,n=n||"",Ot(e,this),this.$$parse=function(e){var n=Ht(t,e);if(!E(n))throw Xo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Lt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=te(this.$$search),n=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Dt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var r,a,s;return $(r=Ht(e,i))?(a=r,s=$(r=Ht(n,r))?t+(Ht("/",r)||r):e+a):$(r=Ht(t,i))?s=t+r:t==i+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Ut(e,t,n){Ot(e,this),this.$$parse=function(i){function o(e,t,n){var i,o=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),o.exec(t)?e:(i=o.exec(e),i?i[1]:e)}var r,a=Ht(e,i)||Ht(t,i);b(a)||"#"!==a.charAt(0)?this.$$html5?r=a:(r="",b(a)&&(e=i,this.replace())):(r=Ht(n,a),b(r)&&(r=a)),Lt(r,this),this.$$path=o(this.$$path,r,e),this.$$compose()},this.$$compose=function(){var t=te(this.$$search),i=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Dt(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Pt(e)==Pt(t)?(this.$$parse(t),!0):!1}}function Ft(e,t,n){this.$$html5=!0,Ut.apply(this,arguments),this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var r,a;return e==Pt(i)?r=i:(a=Ht(t,i))?r=e+n+a:t===i+"/"&&(r=t),r&&this.$$parse(r),!!r},this.$$compose=function(){var t=te(this.$$search),i=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Dt(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url}}function Vt(e){return function(){return this[e]}}function Gt(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function zt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return $(t)?(e=t,this):e},this.html5Mode=function(e){return D(e)?(t.enabled=e,this):y(e)?(D(e.enabled)&&(t.enabled=e.enabled),D(e.requireBase)&&(t.requireBase=e.requireBase),D(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,o,r,a){function s(e,t,n){var o=u.url(),r=u.$$state;try{i.url(e,t,n),u.$$state=i.state()}catch(a){throw u.url(o),u.$$state=r,a}}function c(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,l,d,m=i.baseHref(),f=i.url();if(t.enabled){if(!m&&t.requireBase)throw Xo("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=Bt(f)+(m||"/"),l=o.history?Rt:Ft}else d=Pt(f),l=Ut;var p=jt(d);u=new l(d,p,"#"+e),u.$$parseLinkUrl(f,f),u.$$state=i.state();var h=/^\s*(javascript|mailto):/i;r.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var o=Mi(e.target);"a"!==q(o[0]);)if(o[0]===r[0]||!(o=o.parent())[0])return;var s=o.prop("href"),c=o.attr("href")||o.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=xn(s.animVal).href),h.test(s)||!s||o.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(s,c)&&(e.preventDefault(),u.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),qt(u.absUrl())!=qt(f)&&i.url(u.absUrl(),!0);var v=!0;return i.onUrlChange(function(e,t){return b(Ht(p,e))?void(a.location.href=e):(n.$evalAsync(function(){var i,o=u.absUrl(),r=u.$$state;e=qt(e),u.$$parse(e),u.$$state=t,i=n.$broadcast("$locationChangeStart",e,o,t,r).defaultPrevented,u.absUrl()===e&&(i?(u.$$parse(o),u.$$state=r,s(o,!1,r)):(v=!1,c(o,r)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=qt(i.url()),t=qt(u.absUrl()),r=i.state(),a=u.$$replace,l=e!==t||u.$$html5&&o.history&&r!==u.$$state;(v||l)&&(v=!1,n.$evalAsync(function(){var t=u.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,u.$$state,r).defaultPrevented;u.absUrl()===t&&(i?(u.$$parse(e),u.$$state=r):(l&&s(t,a,r===u.$$state?null:u.$$state),c(e,r)))})),u.$$replace=!1}),u}]}function Yt(){var e=!0,t=this;this.debugEnabled=function(t){return $(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||h,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var e=[];return r(arguments,function(t){e.push(i(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Wt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Qo("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Kt(e,t){if(e+="",!E(e))throw Qo("iseccst","Cannot convert object to primitive value! Expression: {0}",t);return e}function Xt(e,t){if(e){if(e.constructor===e)throw Qo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw Qo("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Qo("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Qo("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Jt(e,t){if(e){if(e.constructor===e)throw Qo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===Zo||e===er||e===tr)throw Qo("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Qt(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw Qo("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function Zt(e,t){return"undefined"!=typeof e?e:t}function en(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function tn(e,t){var n=e(t);return!n.$stateful}function nn(e,t){var n,i;switch(e.type){case rr.Program:n=!0,r(e.body,function(e){nn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case rr.Literal:e.constant=!0,e.toWatch=[];break;case rr.UnaryExpression:nn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case rr.BinaryExpression:nn(e.left,t),nn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case rr.LogicalExpression:nn(e.left,t),nn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case rr.ConditionalExpression:nn(e.test,t),nn(e.alternate,t),nn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case rr.Identifier:e.constant=!1,e.toWatch=[e];break;case rr.MemberExpression:nn(e.object,t),e.computed&&nn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case rr.CallExpression:n=e.filter?tn(t,e.callee.name):!1,i=[],r(e.arguments,function(e){nn(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&tn(t,e.callee.name)?i:[e];break;case rr.AssignmentExpression:nn(e.left,t),nn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case rr.ArrayExpression:n=!0,i=[],r(e.elements,function(e){nn(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case rr.ObjectExpression:n=!0,i=[],r(e.properties,function(e){nn(e.value,t),n=n&&e.value.constant,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case rr.ThisExpression:e.constant=!1,e.toWatch=[]}}function on(e){if(1==e.length){var t=e[0].expression,i=t.toWatch;return 1!==i.length?i:i[0]!==t?i:n}}function rn(e){return e.type===rr.Identifier||e.type===rr.MemberExpression}function an(e){return 1===e.body.length&&rn(e.body[0].expression)?{type:rr.AssignmentExpression,left:e.body[0].expression,right:{type:rr.NGValueParameter},operator:"="}:void 0}function sn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===rr.Literal||e.body[0].expression.type===rr.ArrayExpression||e.body[0].expression.type===rr.ObjectExpression)}function cn(e){return e.constant}function un(e,t){this.astBuilder=e,this.$filter=t}function ln(e,t){this.astBuilder=e,this.$filter=t}function dn(e){return"constructor"==e}function mn(e){return A(e.valueOf)?e.valueOf():sr.call(e)}function fn(){var e=ve(),t=ve();this.$get=["$filter",function(i){function o(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=mn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function a(e,t,i,r,a){var s,c=r.inputs;if(1===c.length){var u=o;return c=c[0],e.$watch(function(e){var t=c(e);return o(t,u)||(s=r(e,n,n,[t]),u=t&&mn(t)),s},t,i,a)}for(var l=[],d=[],m=0,f=c.length;f>m;m++)l[m]=o,d[m]=null;return e.$watch(function(e){for(var t=!1,i=0,a=c.length;a>i;i++){var u=c[i](e);(t||(t=!o(u,l[i])))&&(d[i]=u,l[i]=u&&mn(u))}return t&&(s=r(e,n,n,d)),s},t,i,a)}function s(e,t,n,i){var o,r;return o=e.$watch(function(e){return i(e)},function(e,n,i){r=e,A(t)&&t.apply(this,arguments),$(e)&&i.$$postDigest(function(){$(r)&&o()})},n)}function c(e,t,n,i){function o(e){var t=!0;return r(e,function(e){$(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return i(e)},function(e,n,i){s=e,A(t)&&t.call(this,e,n,i),o(e)&&i.$$postDigest(function(){o(s)&&a()})},n)}function u(e,t,n,i){var o;return o=e.$watch(function(e){return i(e)},function(e,n,i){A(t)&&t.apply(this,arguments),o()},n)}function l(e,t){if(!t)return e;var n=e.$$watchDelegate,i=!1,o=n!==c&&n!==s,r=o?function(n,o,r,a){var s=i&&a?a[0]:e(n,o,r,a);return t(s,n,o)}:function(n,i,o,r){var a=e(n,i,o,r),s=t(a,n,i);return $(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==a?r.$$watchDelegate=e.$$watchDelegate:t.$stateful||(r.$$watchDelegate=a,i=!e.inputs,r.inputs=e.inputs?e.inputs:[e]),r}var d=Gi().noUnsafeEval,m={csp:d,expensiveChecks:!1},f={csp:d,expensiveChecks:!0};return function(n,o,r){var d,p,v;switch(typeof n){case"string":n=n.trim(),v=n;var g=r?t:e;if(d=g[v],!d){":"===n.charAt(0)&&":"===n.charAt(1)&&(p=!0,n=n.substring(2));var _=r?f:m,b=new or(_),$=new ar(b,i,_);d=$.parse(n),d.constant?d.$$watchDelegate=u:p?d.$$watchDelegate=d.literal?c:s:d.inputs&&(d.$$watchDelegate=a),g[v]=d}return l(d,o);case"function":return l(n,o);default:return h}}}]}function pn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return vn(function(t){e.$evalAsync(t)},t)}]}function hn(){this.$get=["$browser","$exceptionHandler",function(e,t){return vn(function(t){e.defer(t)},t)}]}function vn(e,t){function o(e,t,n){function i(t){return function(n){o||(o=!0,t.call(e,n))}}var o=!1;return[i(t),i(n)]}function a(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function c(e){var i,o,r;r=e.pending,e.processScheduled=!1,e.pending=n;for(var a=0,s=r.length;s>a;++a){o=r[a][0],i=r[a][e.status];try{A(i)?o.resolve(i(e.value)):1===e.status?o.resolve(e.value):o.reject(e.value)}catch(c){o.reject(c),t(c)}}}function u(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){c(t)}))}function l(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function m(e){var t=new l,n=0,i=Ri(e)?[]:{};return r(e,function(e,o){n++,_(e).then(function(e){i.hasOwnProperty(o)||(i[o]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(o)||t.reject(e)})}),0===n&&t.resolve(i),t.promise}var f=i("$q",TypeError),p=function(){return new l};d(a.prototype,{then:function(e,t,n){if(b(e)&&b(t)&&b(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&u(this.$$state),i.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return g(t,!0,e)},function(t){return g(t,!1,e)},t)}}),d(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(f("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,i;i=o(this,this.$$resolve,this.$$reject);try{(y(e)||A(e))&&(n=e&&e.then),A(n)?(this.promise.$$state.status=-1,n.call(e,i[0],i[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,u(this.promise.$$state))}catch(r){i[1](r),t(r)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,u(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&e(function(){for(var e,o,r=0,a=i.length;a>r;r++){o=i[r][0],e=i[r][3];try{o.notify(A(e)?e(n):n);
}catch(s){t(s)}}})}});var h=function(e){var t=new l;return t.reject(e),t.promise},v=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},g=function(e,t,n){var i=null;try{A(n)&&(i=n())}catch(o){return v(o,!1)}return O(i)?i.then(function(){return v(e,t)},function(e){return v(e,!1)}):v(e,t)},_=function(e,t,n,i){var o=new l;return o.resolve(e),o.promise.then(t,n,i)},$=_,k=function E(e){function t(e){i.resolve(e)}function n(e){i.reject(e)}if(!A(e))throw f("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof E))return new E(e);var i=new l;return e(t,n),i.promise};return k.defer=p,k.reject=h,k.when=_,k.resolve=$,k.all=m,k}function gn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,o=!!n,r=o?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return r.supported=o,r}]}function _n(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=c(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=i("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,u,l,d){function m(e){e.currentScope.$$destroyed=!0}function f(e){9===xi&&(e.$$childHead&&f(e.$$childHead),e.$$nextSibling&&f(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function p(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function v(e){if(C.$$phase)throw n("inprog","{0} already in progress",C.$$phase);C.$$phase=e}function g(){C.$$phase=null}function _(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function $(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function k(){}function E(){for(;M.length;)try{M.shift()()}catch(e){u(e)}s=null}function w(){null===s&&(s=d.defer(function(){C.$apply(E)}))}p.prototype={constructor:p,$new:function(t,n){var i;return n=n||this,t?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!=this)&&i.$on("$destroy",m),i},$watch:function(e,t,n,i){var o=l(e);if(o.$$watchDelegate)return o.$$watchDelegate(this,t,n,o,e);var r=this,s=r.$$watchers,c={fn:t,last:k,get:o,exp:i||e,eq:!!n};return a=null,A(t)||(c.fn=h),s||(s=r.$$watchers=[]),s.unshift(c),_(this,1),function(){j(s,c)>=0&&_(r,-1),a=null}},$watchGroup:function(e,t){function n(){c=!1,u?(u=!1,t(o,o,s)):t(o,i,s)}var i=new Array(e.length),o=new Array(e.length),a=[],s=this,c=!1,u=!0;if(!e.length){var l=!0;return s.$evalAsync(function(){l&&t(o,o,s)}),function(){l=!1}}return 1===e.length?this.$watch(e[0],function(e,n,r){o[0]=e,i[0]=n,t(o,e===n?o:i,r)}):(r(e,function(e,t){var r=s.$watch(e,function(e,r){o[t]=e,i[t]=r,c||(c=!0,s.$evalAsync(n))});a.push(r)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){r=e;var t,n,i,s,c;if(!b(r)){if(y(r))if(o(r)){a!==f&&(a=f,v=a.length=0,d++),t=r.length,v!==t&&(d++,a.length=v=t);for(var u=0;t>u;u++)c=a[u],s=r[u],i=c!==c&&s!==s,i||c===s||(d++,a[u]=s)}else{a!==p&&(a=p={},v=0,d++),t=0;for(n in r)wi.call(r,n)&&(t++,s=r[n],c=a[n],n in a?(i=c!==c&&s!==s,i||c===s||(d++,a[n]=s)):(v++,a[n]=s,d++));if(v>t){d++;for(n in a)wi.call(r,n)||(v--,delete a[n])}}else a!==r&&(a=r,d++);return d}}function i(){if(h?(h=!1,t(r,r,c)):t(r,s,c),u)if(y(r))if(o(r)){s=new Array(r.length);for(var e=0;e<r.length;e++)s[e]=r[e]}else{s={};for(var n in r)wi.call(r,n)&&(s[n]=r[n])}else s=r}n.$stateful=!0;var r,a,s,c=this,u=t.length>1,d=0,m=l(e,n),f=[],p={},h=!0,v=0;return this.$watch(m,i)},$digest:function(){var e,i,o,r,c,l,m,f,p,h,_=t,b=this,$=[];v("$digest"),d.$$checkUrlChange(),this===C&&null!==s&&(d.defer.cancel(s),E()),a=null;do{for(l=!1,f=b;I.length;){try{h=I.shift(),h.scope.$eval(h.expression,h.locals)}catch(y){u(y)}a=null}e:do{if(r=f.$$watchers)for(c=r.length;c--;)try{if(e=r[c])if((i=e.get(f))===(o=e.last)||(e.eq?U(i,o):"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))){if(e===a){l=!1;break e}}else l=!0,a=e,e.last=e.eq?B(i,null):i,e.fn(i,o===k?i:o,f),5>_&&(p=4-_,$[p]||($[p]=[]),$[p].push({msg:A(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:i,oldVal:o}))}catch(y){u(y)}if(!(m=f.$$watchersCount&&f.$$childHead||f!==b&&f.$$nextSibling))for(;f!==b&&!(m=f.$$nextSibling);)f=f.$parent}while(f=m);if((l||I.length)&&!_--)throw g(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,$)}while(l||I.length);for(g();x.length;)try{x.shift()()}catch(y){u(y)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&d.$$applicationDestroyed(),_(this,-this.$$watchersCount);for(var t in this.$$listenerCount)$(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h,this.$on=this.$watch=this.$watchGroup=function(){return h},this.$$listeners={},this.$$nextSibling=null,f(this)}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){C.$$phase||I.length||d.defer(function(){I.length&&C.$digest()}),I.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){x.push(e)},$apply:function(e){try{v("$apply");try{return this.$eval(e)}finally{g()}}catch(t){u(t)}finally{try{C.$digest()}catch(t){throw u(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&M.push(t),w()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var o=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,$(o,1,e))}},$emit:function(e,t){var n,i,o,r=[],a=this,s=!1,c={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=F([c],arguments,1);do{for(n=a.$$listeners[e]||r,c.currentScope=a,i=0,o=n.length;o>i;i++)if(n[i])try{n[i].apply(null,l)}catch(d){u(d)}else n.splice(i,1),i--,o--;if(s)return c.currentScope=null,c;a=a.$parent}while(a);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,i=n,o=n,r={name:e,targetScope:n,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return r;for(var a,s,c,l=F([r],arguments,1);i=o;){for(r.currentScope=i,a=i.$$listeners[e]||[],s=0,c=a.length;c>s;s++)if(a[s])try{a[s].apply(null,l)}catch(d){u(d)}else a.splice(s,1),s--,c--;if(!(o=i.$$listenerCount[e]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(o=i.$$nextSibling);)i=i.$parent}return r.currentScope=null,r}};var C=new p,I=C.$$asyncQueue=[],x=C.$$postDigestQueue=[],M=C.$$applyAsyncQueue=[];return C}]}function bn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return $(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(t=e,this):t},this.$get=function(){return function(n,i){var o,r=i?t:e;return o=xn(n).href,""===o||o.match(r)?n:"unsafe:"+o}}}function $n(e){if("self"===e)return e;if(E(e)){if(e.indexOf("***")>-1)throw cr("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Vi(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(I(e))return new RegExp("^"+e.source+"$");throw cr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function yn(e){var t=[];return $(e)&&r(e,function(e){t.push($n(e))}),t}function kn(){this.SCE_CONTEXTS=ur;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=yn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=yn(e)),t},this.$get=["$injector",function(n){function i(e,t){return"self"===e?Mn(t):!!e.exec(t.href)}function o(n){var o,r,a=xn(n.toString()),s=!1;for(o=0,r=e.length;r>o;o++)if(i(e[o],a)){s=!0;break}if(s)for(o=0,r=t.length;r>o;o++)if(i(t[o],a)){s=!1;break}return s}function r(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw cr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||b(t)||""===t)return t;if("string"!=typeof t)throw cr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof l?e.$$unwrapTrustedValue():e}function c(e,t){if(null===t||b(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===ur.RESOURCE_URL){if(o(t))return t;throw cr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===ur.HTML)return u(t);throw cr("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw cr("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var l=r(),d={};return d[ur.HTML]=r(l),d[ur.CSS]=r(l),d[ur.URL]=r(l),d[ur.JS]=r(l),d[ur.RESOURCE_URL]=r(d[ur.URL]),{trustAs:a,getTrusted:c,valueOf:s}}]}function En(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>xi)throw cr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=R(ur);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=v),i.parseAs=function(e,n){var o=t(n);return o.literal&&o.constant?o:t(n,function(t){return i.getTrusted(e,t)})};var o=i.parseAs,a=i.getTrusted,s=i.trustAs;return r(ur,function(e,t){var n=Ei(t);i[ke("parse_as_"+n)]=function(t){return o(e,t)},i[ke("get_trusted_"+n)]=function(t){return a(e,t)},i[ke("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function wn(){this.$get=["$window","$document",function(e,t){var n,i,o={},r=f((/android (\d+)/.exec(Ei((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,u=s.body&&s.body.style,l=!1,d=!1;if(u){for(var m in u)if(i=c.exec(m)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),l=!!("transition"in u||n+"Transition"in u),d=!!("animation"in u||n+"Animation"in u),!r||l&&d||(l=E(u.webkitTransition),d=E(u.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>r||a),hasEvent:function(e){if("input"===e&&11>=xi)return!1;if(b(o[e])){var t=s.createElement("div");o[e]="on"+e in t}return o[e]},csp:Gi(),vendorPrefix:n,transitions:l,animations:d,android:r}}]}function Cn(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,i){function o(r,a){function s(e){if(!a)throw Lo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",r,e.status,e.statusText);return n.reject(e)}o.totalPendingRequests++,E(r)&&e.get(r)||(r=i.getTrustedResourceUrl(r));var c=t.defaults&&t.defaults.transformResponse;Ri(c)?c=c.filter(function(e){return e!==yt}):c===yt&&(c=null);var u={cache:e,transformResponse:c};return t.get(r,u)["finally"](function(){o.totalPendingRequests--}).then(function(t){return e.put(r,t.data),t.data},s)}return o.totalPendingRequests=0,o}]}function An(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={};return i.findBindings=function(e,t,n){var i=e.getElementsByClassName("ng-binding"),o=[];return r(i,function(e){var i=qi.element(e).data("$binding");i&&r(i,function(i){if(n){var r=new RegExp("(^|\\s)"+Vi(t)+"(\\s|\\||$)");r.test(i)&&o.push(e)}else-1!=i.indexOf(t)&&o.push(e)})}),o},i.findModels=function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],o=0;o<i.length;++o){var r=n?"=":"*=",a="["+i[o]+"model"+r+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},i.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},i}]}function In(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,o){function r(r,s,c){A(r)||(c=s,s=r,r=h);var u,l=V(arguments,3),d=$(c)&&!c,m=(d?i:n).defer(),f=m.promise;return u=t.defer(function(){try{m.resolve(r.apply(null,l))}catch(t){m.reject(t),o(t)}finally{delete a[f.$$timeoutId]}d||e.$apply()},s),f.$$timeoutId=u,a[u]=m,f}var a={};return r.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},r}]}function xn(e){var t=e;return xi&&(lr.setAttribute("href",t),t=lr.href),lr.setAttribute("href",t),{href:lr.href,protocol:lr.protocol?lr.protocol.replace(/:$/,""):"",host:lr.host,search:lr.search?lr.search.replace(/^\?/,""):"",hash:lr.hash?lr.hash.replace(/^#/,""):"",hostname:lr.hostname,port:lr.port,pathname:"/"===lr.pathname.charAt(0)?lr.pathname:"/"+lr.pathname}}function Mn(e){var t=E(e)?xn(e):e;return t.protocol===dr.protocol&&t.host===dr.host}function Tn(){this.$get=g(e)}function Sn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},i={},o="";return function(){var e,r,a,s,c,u=n.cookie||"";if(u!==o)for(o=u,e=o.split("; "),i={},a=0;a<e.length;a++)r=e[a],s=r.indexOf("="),s>0&&(c=t(r.substring(0,s)),b(i[c])&&(i[c]=t(r.substring(s+1))));return i}}function Nn(){this.$get=Sn}function Dn(e){function t(i,o){if(y(i)){var a={};return r(i,function(e,n){a[n]=t(n,e)}),a}return e.factory(i+n,o)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",qn),t("date",Jn),t("filter",On),t("json",Qn),t("limitTo",Zn),t("lowercase",vr),t("number",jn),t("orderBy",ei),t("uppercase",gr)}function On(){return function(e,t,n){if(!o(e)){if(null==e)return e;throw i("filter")("notarray","Expected array but received: {0}",e)}var r,a,s=Pn(t);switch(s){case"function":r=t;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":r=Ln(t,n,a);break;default:return e}return Array.prototype.filter.call(e,r)}}function Ln(e,t,n){var i,o=y(e)&&"$"in e;return t===!0?t=U:A(t)||(t=function(e,t){return b(e)?!1:null===e||null===t?e===t:y(t)||y(e)&&!_(e)?!1:(e=Ei(""+e),t=Ei(""+t),-1!==e.indexOf(t))}),i=function(i){return o&&!y(i)?Hn(i,e.$,t,!1):Hn(i,e,t,n)}}function Hn(e,t,n,i,o){var r=Pn(e),a=Pn(t);if("string"===a&&"!"===t.charAt(0))return!Hn(e,t.substring(1),n,i);if(Ri(e))return e.some(function(e){return Hn(e,t,n,i)});switch(r){case"object":var s;if(i){for(s in e)if("$"!==s.charAt(0)&&Hn(e[s],t,n,!0))return!0;return o?!1:Hn(e,t,n,!1)}if("object"===a){for(s in t){var c=t[s];if(!A(c)&&!b(c)){var u="$"===s,l=u?e:e[s];if(!Hn(l,c,n,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Pn(e){return null===e?"null":typeof e}function qn(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return b(n)&&(n=t.CURRENCY_SYM),b(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:Bn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function jn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Bn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Bn(e,t,n,i,o){if(y(e))return"";var r=0>e;e=Math.abs(e);var a=e===1/0;if(!a&&!isFinite(e))return"";var s=e+"",c="",u=!1,l=[];if(a&&(c=""),!a&&-1!==s.indexOf("e")){var d=s.match(/([\d\.]+)e(-?)(\d+)/);d&&"-"==d[2]&&d[3]>o+1?e=0:(c=s,u=!0)}if(a||u)o>0&&1>e&&(c=e.toFixed(o),e=parseFloat(c),c=c.replace(mr,i));else{var m=(s.split(mr)[1]||"").length;b(o)&&(o=Math.min(Math.max(t.minFrac,m),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+o)).toString()+"e"+-o);var f=(""+e).split(mr),p=f[0];f=f[1]||"";var h,v=0,g=t.lgSize,_=t.gSize;if(p.length>=g+_)for(v=p.length-g,h=0;v>h;h++)(v-h)%_===0&&0!==h&&(c+=n),c+=p.charAt(h);for(h=v;h<p.length;h++)(p.length-h)%g===0&&0!==h&&(c+=n),c+=p.charAt(h);for(;f.length<o;)f+="0";o&&"0"!==o&&(c+=i+f.substr(0,o))}return 0===e&&(r=!1),l.push(r?t.negPre:t.posPre,c,r?t.negSuf:t.posSuf),l.join("")}function Rn(e,t,n){var i="";for(0>e&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function Un(e,t,n,i){return n=n||0,function(o){var r=o["get"+e]();return(n>0||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),Rn(r,t,i)}}function Fn(e,t){return function(n,i){var o=n["get"+e](),r=Ci(t?"SHORT"+e:e);return i[r][o]}}function Vn(e,t,n){var i=-1*n,o=i>=0?"+":"";return o+=Rn(Math[i>0?"floor":"ceil"](i/60),2)+Rn(Math.abs(i%60),2)}function Gn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function zn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Yn(e){return function(t){var n=Gn(t.getFullYear()),i=zn(t),o=+i-+n,r=1+Math.round(o/6048e5);return Rn(r,e)}}function Wn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Kn(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function Xn(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function Jn(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),o=0,r=0,a=t[8]?i.setUTCFullYear:i.setFullYear,s=t[8]?i.setUTCHours:i.setHours;t[9]&&(o=f(t[9]+t[10]),r=f(t[9]+t[11])),a.call(i,f(t[1]),f(t[2])-1,f(t[3]));var c=f(t[4]||0)-o,u=f(t[5]||0)-r,l=f(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(i,c,u,l,d),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var a,s,c="",u=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,E(n)&&(n=hr.test(n)?f(n):t(n)),w(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;i;)s=pr.exec(i),s?(u=F(u,s,1),i=u.pop()):(u.push(i),i=null);var l=n.getTimezoneOffset();return o&&(l=K(o,n.getTimezoneOffset()),n=J(n,o,!0)),r(u,function(t){a=fr[t],c+=a?a(n,e.DATETIME_FORMATS,l):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function Qn(){return function(e,t){return b(t)&&(t=2),Y(e,t)}}function Zn(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):f(t),isNaN(t)?e:(w(e)&&(e=e.toString()),Ri(e)||E(e)?(n=!n||isNaN(n)?0:f(n),n=0>n?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function ei(e){function t(t,n){return n=n?-1:1,t.map(function(t){var i=1,o=v;if(A(t))o=t;else if(E(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(i="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(o=e(t),o.constant))){var r=o();o=function(e){return e[r]}}return{get:o,descending:i*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function i(e,t){return"function"==typeof e.valueOf&&(e=e.valueOf(),n(e))?e:_(e)&&(e=e.toString(),n(e))?e:t}function r(e,t){var n=typeof e;return null===e?(n="string",e="null"):"string"===n?e=e.toLowerCase():"object"===n&&(e=i(e,t)),{value:e,type:n}}function a(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}return function(e,n,i){function s(e,t){return{value:e,predicateValues:u.map(function(n){return r(n.get(e),t)})}}function c(e,t){for(var n=0,i=0,o=u.length;o>i&&!(n=a(e.predicateValues[i],t.predicateValues[i])*u[i].descending);++i);return n}if(!o(e))return e;Ri(n)||(n=[n]),0===n.length&&(n=["+"]);var u=t(n,i);u.push({get:function(){return{}},descending:i?-1:1});var l=Array.prototype.map.call(e,s);return l.sort(c),e=l.map(function(e){return e.value})}}function ti(e){return A(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function ni(e,t){e.$name=t}function ii(e,t,i,o,a){var s=this,c=[];s.$error={},s.$$success={},s.$pending=n,s.$name=a(t.name||t.ngForm||"")(i),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=$r,s.$rollbackViewValue=function(){r(c,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){r(c,function(e){e.$commitViewValue()})},s.$addControl=function(e){fe(e.$name,"input"),c.push(e),e.$name&&(s[e.$name]=e),e.$$parentForm=s},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],r(s.$pending,function(t,n){s.$setValidity(n,null,e)}),r(s.$error,function(t,n){s.$setValidity(n,null,e)}),r(s.$$success,function(t,n){s.$setValidity(n,null,e)}),j(c,e),e.$$parentForm=$r},_i({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];if(i){var o=i.indexOf(n);-1===o&&i.push(n)}else e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(j(i,n),0===i.length&&delete e[t])},$animate:o}),s.$setDirty=function(){o.removeClass(e,na),o.addClass(e,ia),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){o.setClass(e,na,ia+" "+yr),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,r(c,function(e){e.$setPristine()})},s.$setUntouched=function(){r(c,function(e){e.$setUntouched()})},s.$setSubmitted=function(){o.addClass(e,yr),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function oi(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function ri(e,t,n,i,o,r){ai(e,t,n,i,o,r),oi(i)}function ai(e,t,n,i,o,r){var a=Ei(t[0].type);if(!o.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,c()})}var c=function(e){if(u&&(r.defer.cancel(u),u=null),!s){var o=t.val(),c=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(o=Fi(o)),(i.$viewValue!==o||""===o&&i.$$hasNativeValidators)&&i.$setViewValue(o,c)}};if(o.hasEvent("input"))t.on("input",c);else{var u,l=function(e,t,n){u||(u=r.defer(function(){u=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||l(e,this,this.value)}),o.hasEvent("paste")&&t.on("paste cut",l)}t.on("change",c),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function si(e,t){if(C(e))return e;if(E(e)){Sr.lastIndex=0;var n=Sr.exec(e);if(n){var i=+n[1],o=+n[2],r=0,a=0,s=0,c=0,u=Gn(i),l=7*(o-1);return t&&(r=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=t.getMilliseconds()),new Date(i,0,u.getDate()+l,r,a,s,c)}}return NaN}function ci(e,t){return function(n,i){var o,a;if(C(n))return n;if(E(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Cr.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(o,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function ui(e,t,i,o){return function(r,a,s,c,u,l,d){function m(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return $(e)&&!C(e)?i(e)||n:e}li(r,a,s,c),ai(r,a,s,c,u,l);var p,h=c&&c.$options&&c.$options.timezone;if(c.$$parserName=e,c.$parsers.push(function(e){if(c.$isEmpty(e))return null;if(t.test(e)){var o=i(e,p);return h&&(o=J(o,h)),o}return n}),c.$formatters.push(function(e){if(e&&!C(e))throw sa("datefmt","Expected `{0}` to be a date",e);return m(e)?(p=e,p&&h&&(p=J(p,h,!0)),d("date")(e,o,h)):(p=null,"")}),$(s.min)||s.ngMin){var v;c.$validators.min=function(e){return!m(e)||b(v)||i(e)>=v},s.$observe("min",function(e){v=f(e),c.$validate()})}if($(s.max)||s.ngMax){var g;c.$validators.max=function(e){return!m(e)||b(g)||i(e)<=g},s.$observe("max",function(e){g=f(e),c.$validate()})}}}function li(e,t,i,o){var r=t[0],a=o.$$hasNativeValidators=y(r.validity);a&&o.$parsers.push(function(e){var i=t.prop(ki)||{};return i.badInput&&!i.typeMismatch?n:e})}function di(e,t,i,o,r,a){if(li(e,t,i,o),ai(e,t,i,o,r,a),o.$$parserName="number",o.$parsers.push(function(e){return o.$isEmpty(e)?null:xr.test(e)?parseFloat(e):n}),o.$formatters.push(function(e){if(!o.$isEmpty(e)){if(!w(e))throw sa("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),$(i.min)||i.ngMin){var s;o.$validators.min=function(e){return o.$isEmpty(e)||b(s)||e>=s},i.$observe("min",function(e){$(e)&&!w(e)&&(e=parseFloat(e,10)),s=w(e)&&!isNaN(e)?e:n,o.$validate()})}if($(i.max)||i.ngMax){var c;o.$validators.max=function(e){return o.$isEmpty(e)||b(c)||c>=e},i.$observe("max",function(e){$(e)&&!w(e)&&(e=parseFloat(e,10)),c=w(e)&&!isNaN(e)?e:n,o.$validate()})}}function mi(e,t,n,i,o,r){ai(e,t,n,i,o,r),oi(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||Ar.test(n)}}function fi(e,t,n,i,o,r){ai(e,t,n,i,o,r),oi(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Ir.test(n)}}function pi(e,t,n,i){b(n.name)&&t.attr("name",c());var o=function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)};t.on("click",o),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)}function hi(e,t,n,i,o){var r;if($(i)){if(r=e(i),!r.constant)throw sa("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return r(t)}return o}function vi(e,t,n,i,o,r,a,s){var c=hi(s,e,"ngTrueValue",n.ngTrueValue,!0),u=hi(s,e,"ngFalseValue",n.ngFalseValue,!1),l=function(e){i.$setViewValue(t[0].checked,e&&e.type)};t.on("click",l),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return e===!1},i.$formatters.push(function(e){return U(e,c)}),i.$parsers.push(function(e){return e?c:u})}function gi(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[];e:for(var i=0;i<e.length;i++){for(var o=e[i],r=0;r<t.length;r++)if(o==t[r])continue e;n.push(o)}return n}function o(e){var t=[];return Ri(e)?(r(e,function(e){t=t.concat(o(e))}),t):E(e)?e.split(" "):y(e)?(r(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,c){function u(e){var t=d(e,1);c.$addClass(t)}function l(e){var t=d(e,-1);c.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||ve(),i=[];return r(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),s.data("$classCounts",n),i.join(" ")}function m(e,t){var o=i(t,e),r=i(e,t);o=d(o,1),r=d(r,-1),o&&o.length&&n.addClass(s,o),r&&r.length&&n.removeClass(s,r)}function f(e){if(t===!0||a.$index%2===t){var n=o(e||[]);if(p){if(!U(e,p)){var i=o(p);m(i,n)}}else u(n)}p=R(e)}var p;a.$watch(c[e],f,!0),c.$observe("class",function(t){f(a.$eval(c[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,i){var r=1&n;if(r!==(1&i)){var s=o(a.$eval(c[e]));r===t?u(s):l(s)}})}}}]}function _i(e){function t(e,t,c){b(t)?i("$pending",e,c):o("$pending",e,c),D(t)?t?(d(s.$error,e,c),l(s.$$success,e,c)):(l(s.$error,e,c),d(s.$$success,e,c)):(d(s.$error,e,c),d(s.$$success,e,c)),s.$pending?(r(aa,!0),s.$valid=s.$invalid=n,a("",null)):(r(aa,!1),s.$valid=bi(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var u;u=s.$pending&&s.$pending[e]?n:s.$error[e]?!1:s.$$success[e]?!0:null,a(e,u),s.$$parentForm.$setValidity(e,u,s)}function i(e,t,n){s[e]||(s[e]={}),l(s[e],t,n)}function o(e,t,i){s[e]&&d(s[e],t,i),bi(s[e])&&(s[e]=n)}function r(e,t){t&&!u[e]?(m.addClass(c,e),u[e]=!0):!t&&u[e]&&(m.removeClass(c,e),u[e]=!1)}function a(e,t){e=e?"-"+ue(e,"-"):"",r(ea+e,t===!0),r(ta+e,t===!1)}var s=e.ctrl,c=e.$element,u={},l=e.set,d=e.unset,m=e.$animate;u[ta]=!(u[ea]=c.hasClass(ea)),s.$setValidity=t}function bi(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function $i(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var yi=/^\/(.+)\/([a-z]*)$/,ki="validity",Ei=function(e){return E(e)?e.toLowerCase():e},wi=Object.prototype.hasOwnProperty,Ci=function(e){return E(e)?e.toUpperCase():e},Ai=function(e){return E(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Ii=function(e){return E(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Ei=Ai,Ci=Ii);var xi,Mi,Ti,Si,Ni=[].slice,Di=[].splice,Oi=[].push,Li=Object.prototype.toString,Hi=Object.getPrototypeOf,Pi=i("ng"),qi=e.angular||(e.angular={}),ji=0;xi=t.documentMode,h.$inject=[],v.$inject=[];var Bi,Ri=Array.isArray,Ui=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Fi=function(e){return E(e)?e.trim():e},Vi=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Gi=function(){function e(){try{return new Function(""),!1}catch(e){return!0}}if(!$(Gi.rules)){var n=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Gi.rules={noUnsafeEval:!i||-1!==i.indexOf("no-unsafe-eval"),noInlineStyle:!i||-1!==i.indexOf("no-inline-style")}}else Gi.rules={noUnsafeEval:e(),noInlineStyle:!1}}return Gi.rules},zi=function(){if($(zi.name_))return zi.name_;var e,n,i,o,r=Yi.length;for(n=0;r>n;++n)if(i=Yi[n],e=t.querySelector("["+i.replace(":","\\:")+"jq]")){o=e.getAttribute(i+"jq");break}return zi.name_=o},Yi=["ng-","data-ng-","ng:","x-ng-"],Wi=/[A-Z]/g,Ki=!1,Xi=1,Ji=2,Qi=3,Zi=8,eo=9,to=11,no={full:"1.4.8",major:1,minor:4,dot:8,codeName:"ice-manipulation"};xe.expando="ng339";var io=xe.cache={},oo=1,ro=function(e,t,n){e.addEventListener(t,n,!1)},ao=function(e,t,n){e.removeEventListener(t,n,!1)};xe._data=function(e){return this.cache[e[this.expando]]||{}};var so=/([\:\-\_]+(.))/g,co=/^moz([A-Z])/,uo={mouseleave:"mouseout",mouseenter:"mouseover"},lo=i("jqLite"),mo=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,fo=/<|&#?\w+;/,po=/<([\w:-]+)/,ho=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,vo={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};vo.optgroup=vo.option,vo.tbody=vo.tfoot=vo.colgroup=vo.caption=vo.thead,vo.th=vo.td;var go=Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},_o=xe.prototype={ready:function(n){function i(){o||(o=!0,n())}var o=!1;"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),xe(e).on("load",i))},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Mi(e>=0?this[e]:this[this.length+e])},length:0,push:Oi,sort:[].sort,splice:[].splice},bo={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){bo[Ei(e)]=e});var $o={};r("input,select,option,textarea,button,form,details".split(","),function(e){$o[e]=!0});var yo={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:Oe,removeData:Ne,hasData:Ce},function(e,t){xe[t]=e}),r({data:Oe,inheritedData:Be,scope:function(e){return Mi.data(e,"$scope")||Be(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Mi.data(e,"$isolateScope")||Mi.data(e,"$isolateScopeNoTemplate")},controller:je,injector:function(e){return Be(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Le,css:function(e,t,n){return t=ke(t),$(n)?void(e.style[t]=n):e.style[t];
},attr:function(e,t,i){var o=e.nodeType;if(o!==Qi&&o!==Ji&&o!==Zi){var r=Ei(t);if(bo[r]){if(!$(i))return e[t]||(e.attributes.getNamedItem(t)||h).specified?r:n;i?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if($(i))e.setAttribute(t,i);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}}},prop:function(e,t,n){return $(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return n===Xi||n===Qi?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===q(e)){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return b(t)?e.innerHTML:(Te(e,!0),void(e.innerHTML=t))},empty:Re},function(e,t){xe.prototype[t]=function(t,n){var i,o,r=this.length;if(e!==Re&&b(2==e.length&&e!==Le&&e!==je?t:n)){if(y(t)){for(i=0;r>i;i++)if(e===Oe)e(this[i],t);else for(o in t)e(this[i],o,t[o]);return this}for(var a=e.$dv,s=b(a)?Math.min(r,1):r,c=0;s>c;c++){var u=e(this[c],t,n);a=a?a+u:u}return a}for(i=0;r>i;i++)e(this[i],t,n);return this}}),r({removeData:Ne,on:function(e,t,i,o){if($(o))throw lo("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(we(e)){var r=De(e,!0),a=r.events,s=r.handle;s||(s=r.handle=ze(e,a));for(var c=t.indexOf(" ")>=0?t.split(" "):[t],u=c.length,l=function(t,n,o){var r=a[t];r||(r=a[t]=[],r.specialHandlerWrapper=n,"$destroy"===t||o||ro(e,t,s)),r.push(i)};u--;)t=c[u],uo[t]?(l(uo[t],We),l(t,n,!0)):l(t)}},off:Se,one:function(e,t,n){e=Mi(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;Te(e),r(new xe(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){e.nodeType===Xi&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Xi||n===to){t=new xe(t);for(var i=0,o=t.length;o>i;i++){var r=t[i];e.appendChild(r)}}},prepend:function(e,t){if(e.nodeType===Xi){var n=e.firstChild;r(new xe(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=Mi(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Ue,detach:function(e){Ue(e,!0)},after:function(e,t){var n=e,i=e.parentNode;t=new xe(t);for(var o=0,r=t.length;r>o;o++){var a=t[o];i.insertBefore(a,n.nextSibling),n=a}},addClass:Pe,removeClass:He,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var i=n;b(i)&&(i=!Le(e,t)),(i?Pe:He)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==to?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Me,triggerHandler:function(e,t,n){var i,o,a,s=t.type||t,c=De(e),u=c&&c.events,l=u&&u[s];l&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:h,type:s,target:e},t.type&&(i=d(i,t)),o=R(l),a=n?[i].concat(n):[i],r(o,function(t){i.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){xe.prototype[t]=function(t,n,i){for(var o,r=0,a=this.length;a>r;r++)b(o)?(o=e(this[r],t,n,i),$(o)&&(o=Mi(o))):qe(o,e(this[r],t,n,i));return $(o)?o:this},xe.prototype.bind=xe.prototype.on,xe.prototype.unbind=xe.prototype.off}),Je.prototype={put:function(e,t){this[Xe(e,this.nextUid)]=t},get:function(e){return this[Xe(e,this.nextUid)]},remove:function(e){var t=this[e=Xe(e,this.nextUid)];return delete this[e],t}};var ko=[function(){this.$get=[function(){return Je}]}],Eo=/^[^\(]*\(\s*([^\)]*)\)/m,wo=/,/,Co=/^\s*(_?)(\S+?)\1\s*$/,Ao=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Io=i("$injector");et.$$annotate=Ze;var xo=i("$animate"),Mo=1,To="ng-animate",So=function(){this.$get=["$q","$$rAF",function(e,t){function n(){}return n.all=h,n.chain=h,n.prototype={end:h,cancel:h,resume:h,pause:h,complete:h,then:function(n,i){return e(function(e){t(function(){e()})}).then(n,i)}},n}]},No=function(){var e=new Je,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function o(e,t,n){var i=!1;return t&&(t=E(t)?t.split(" "):Ri(t)?t:[],r(t,function(t){t&&(i=!0,e[t]=n)})),i}function a(){r(t,function(t){var n=e.get(t);if(n){var i=ot(t.attr("class")),o="",a="";r(n,function(e,t){var n=!!i[t];e!==n&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),r(t,function(e){o&&Pe(e,o),a&&He(e,a)}),e.remove(t)}}),t.length=0}function s(n,r,s){var c=e.get(n)||{},u=o(c,r,!0),l=o(c,s,!1);(u||l)&&(e.put(n,c),t.push(n),1===t.length&&i.$$postDigest(a))}return{enabled:h,on:h,off:h,pin:h,push:function(e,t,i,o){return o&&o(),i=i||{},i.from&&e.css(i.from),i.to&&e.css(i.to),(i.addClass||i.removeClass)&&s(e,i.addClass,i.removeClass),new n}}}]},Do=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw xo("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var o=n+"-animation";t.$$registeredAnimations[n.substr(1)]=o,e.factory(o,i)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+To+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw xo("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',To)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i=it(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,o,r){return i=i&&Mi(i),o=o&&Mi(o),i=i||o.parent(),t(n,i,o),e.push(n,"enter",rt(r))},move:function(n,i,o,r){return i=i&&Mi(i),o=o&&Mi(o),i=i||o.parent(),t(n,i,o),e.push(n,"move",rt(r))},leave:function(t,n){return e.push(t,"leave",rt(n),function(){t.remove()})},addClass:function(t,n,i){return i=rt(i),i.addClass=nt(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=rt(i),i.removeClass=nt(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,o){return o=rt(o),o.addClass=nt(o.addClass,n),o.removeClass=nt(o.removeClass,i),e.push(t,"setClass",o)},animate:function(t,n,i,o,r){return r=rt(r),r.from=r.from?d(r.from,n):n,r.to=r.to?d(r.to,i):i,o=o||"ng-inline-animate",r.tempClasses=nt(r.tempClasses,o),e.push(t,"animate",r)}}}]}],Oo=function(){this.$get=["$$rAF","$q",function(e,t){var n=function(){};return n.prototype={done:function(e){this.defer&&this.defer[e===!0?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=t.defer()),this.defer.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)}},function(t,i){function o(){return e(function(){r(),a||s.done(),a=!0}),s}function r(){i.addClass&&(t.addClass(i.addClass),i.addClass=null),i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null),i.to&&(t.css(i.to),i.to=null)}i.cleanupStyles&&(i.from=i.to=null),i.from&&(t.css(i.from),i.from=null);var a,s=new n;return{start:o,end:o}}}]},Lo=i("$compile");lt.$inject=["$provide","$$sanitizeUriProvider"];var Ho=/^((?:x|data)[\:\-_])/i,Po=i("$controller"),qo=/^(\S+)(\s+as\s+(\w+))?$/,jo=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Mi&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Bo="application/json",Ro={"Content-Type":Bo+";charset=utf-8"},Uo=/^\[|^\{(?!\{)/,Fo={"[":/]$/,"{":/}$/},Vo=/^\)\]\}',?\n/,Go=i("$http"),zo=function(e){return function(){throw Go("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},Yo=qi.$interpolateMinErr=i("$interpolate");Yo.throwNoconcat=function(e){throw Yo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Yo.interr=function(e,t){return Yo("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Wo=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Ko={http:80,https:443,ftp:21},Xo=i("$location"),Jo={$$html5:!1,$$replace:!1,absUrl:Vt("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=Wo.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Vt("$$protocol"),host:Vt("$$host"),port:Vt("$$port"),path:Gt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(E(e)||w(e))e=e.toString(),this.$$search=ee(e);else{if(!y(e))throw Xo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=B(e,{}),r(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Gt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([Ft,Ut,Rt],function(e){e.prototype=Object.create(Jo),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Rt||!this.$$html5)throw Xo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(t)?null:t,this}});var Qo=i("$parse"),Zo=Function.prototype.call,er=Function.prototype.apply,tr=Function.prototype.bind,nr=ve();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){nr[e]=!0});var ir={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},or=function(e){this.options=e};or.prototype={constructor:or,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),o=nr[t],r=nr[n],a=nr[i];if(o||r||a){var s=a?i:r?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||"\x0B"===e||""===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=$(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Qo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Ei(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,o=!1;this.index<this.text.length;){var r=this.text.charAt(this.index);if(i+=r,o){if("u"===r){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=ir[r];n+=s||r}o=!1}else if("\\"===r)o=!0;else{if(r===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=r}this.index++}this.throwError("Unterminated quote",t)}};var rr=function(e,t){this.lexer=e,this.options=t};rr.Program="Program",rr.ExpressionStatement="ExpressionStatement",rr.AssignmentExpression="AssignmentExpression",rr.ConditionalExpression="ConditionalExpression",rr.LogicalExpression="LogicalExpression",rr.BinaryExpression="BinaryExpression",rr.UnaryExpression="UnaryExpression",rr.CallExpression="CallExpression",rr.MemberExpression="MemberExpression",rr.Identifier="Identifier",rr.Literal="Literal",rr.ArrayExpression="ArrayExpression",rr.Property="Property",rr.ObjectExpression="ObjectExpression",rr.ThisExpression="ThisExpression",rr.NGValueParameter="NGValueParameter",rr.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:rr.Program,body:e}},expressionStatement:function(){return{type:rr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:rr.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:rr.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:rr.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:rr.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:rr.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:rr.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:rr.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:rr.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:rr.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=B(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:rr.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:rr.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:rr.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:rr.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:rr.Identifier,name:e.text}},constant:function(){return{type:rr.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:rr.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:rr.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:rr.ObjectExpression,properties:t}},throwError:function(e,t){throw Qo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Qo("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Qo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,o){if(this.tokens.length>e){var r=this.tokens[e],a=r.text;if(a===t||a===n||a===i||a===o||!t&&!n&&!i&&!o)return r}return!1},expect:function(e,t,n,i){var o=this.peek(e,t,n,i);return o?(this.tokens.shift(),o):!1},constants:{"true":{type:rr.Literal,value:!0},"false":{type:rr.Literal,value:!1},"null":{type:rr.Literal,value:null},undefined:{type:rr.Literal,value:n},"this":{type:rr.ThisExpression}}},un.prototype={compile:function(e,t){var i=this,o=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},nn(o,i.$filter);var a,s="";if(this.stage="assign",a=an(o)){this.state.computing="assign";var c=this.nextId();this.recurse(a,c),this.return_(c),s="fn.assign="+this.generateFunction("assign","s,v,l")}var u=on(o.body);i.stage="inputs",r(u,function(e,t){var n="fn"+t;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var o=i.nextId();i.recurse(e,o),i.return_(o),i.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(o);var l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",d=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",l)(this.$filter,Wt,Xt,Jt,Kt,Qt,Zt,en,e);return this.state=this.stage=n,d.literal=sn(o),d.constant=cn(o),d},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return r(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return r(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,i,o,a,s){var c,u,l,d,m=this;if(o=o||h,!s&&$(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,i,o,a,!0));switch(e.type){case rr.Program:r(e.body,function(t,i){m.recurse(t.expression,n,n,function(e){u=e}),i!==e.body.length-1?m.current().body.push(u,";"):m.return_(u)});break;case rr.Literal:d=this.escape(e.value),this.assign(t,d),o(d);break;case rr.UnaryExpression:this.recurse(e.argument,n,n,function(e){u=e}),d=e.operator+"("+this.ifDefined(u,0)+")",this.assign(t,d),o(d);break;case rr.BinaryExpression:this.recurse(e.left,n,n,function(e){c=e}),this.recurse(e.right,n,n,function(e){u=e}),d="+"===e.operator?this.plus(c,u):"-"===e.operator?this.ifDefined(c,0)+e.operator+this.ifDefined(u,0):"("+c+")"+e.operator+"("+u+")",this.assign(t,d),o(d);break;case rr.LogicalExpression:t=t||this.nextId(),m.recurse(e.left,t),m.if_("&&"===e.operator?t:m.not(t),m.lazyRecurse(e.right,t)),o(t);break;case rr.ConditionalExpression:t=t||this.nextId(),m.recurse(e.test,t),m.if_(t,m.lazyRecurse(e.alternate,t),m.lazyRecurse(e.consequent,t)),o(t);break;case rr.Identifier:t=t||this.nextId(),i&&(i.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),i.computed=!1,i.name=e.name),Wt(e.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",e.name)),function(){m.if_("inputs"===m.stage||"s",function(){a&&1!==a&&m.if_(m.not(m.nonComputedMember("s",e.name)),m.lazyAssign(m.nonComputedMember("s",e.name),"{}")),m.assign(t,m.nonComputedMember("s",e.name))})},t&&m.lazyAssign(t,m.nonComputedMember("l",e.name))),(m.state.expensiveChecks||dn(e.name))&&m.addEnsureSafeObject(t),o(t);break;case rr.MemberExpression:c=i&&(i.context=this.nextId())||this.nextId(),t=t||this.nextId(),m.recurse(e.object,c,n,function(){m.if_(m.notNull(c),function(){e.computed?(u=m.nextId(),m.recurse(e.property,u),m.getStringValue(u),m.addEnsureSafeMemberName(u),a&&1!==a&&m.if_(m.not(m.computedMember(c,u)),m.lazyAssign(m.computedMember(c,u),"{}")),d=m.ensureSafeObject(m.computedMember(c,u)),m.assign(t,d),i&&(i.computed=!0,i.name=u)):(Wt(e.property.name),a&&1!==a&&m.if_(m.not(m.nonComputedMember(c,e.property.name)),m.lazyAssign(m.nonComputedMember(c,e.property.name),"{}")),d=m.nonComputedMember(c,e.property.name),(m.state.expensiveChecks||dn(e.property.name))&&(d=m.ensureSafeObject(d)),m.assign(t,d),i&&(i.computed=!1,i.name=e.property.name))},function(){m.assign(t,"undefined")}),o(t)},!!a);break;case rr.CallExpression:t=t||this.nextId(),e.filter?(u=m.filter(e.callee.name),l=[],r(e.arguments,function(e){var t=m.nextId();m.recurse(e,t),l.push(t)}),d=u+"("+l.join(",")+")",m.assign(t,d),o(t)):(u=m.nextId(),c={},l=[],m.recurse(e.callee,u,c,function(){m.if_(m.notNull(u),function(){m.addEnsureSafeFunction(u),r(e.arguments,function(e){m.recurse(e,m.nextId(),n,function(e){l.push(m.ensureSafeObject(e))})}),c.name?(m.state.expensiveChecks||m.addEnsureSafeObject(c.context),d=m.member(c.context,c.name,c.computed)+"("+l.join(",")+")"):d=u+"("+l.join(",")+")",d=m.ensureSafeObject(d),m.assign(t,d)},function(){m.assign(t,"undefined")}),o(t)}));break;case rr.AssignmentExpression:if(u=this.nextId(),c={},!rn(e.left))throw Qo("lval","Trying to assing a value to a non l-value");this.recurse(e.left,n,c,function(){m.if_(m.notNull(c.context),function(){m.recurse(e.right,u),m.addEnsureSafeObject(m.member(c.context,c.name,c.computed)),m.addEnsureSafeAssignContext(c.context),d=m.member(c.context,c.name,c.computed)+e.operator+u,m.assign(t,d),o(t||d)})},1);break;case rr.ArrayExpression:l=[],r(e.elements,function(e){m.recurse(e,m.nextId(),n,function(e){l.push(e)})}),d="["+l.join(",")+"]",this.assign(t,d),o(d);break;case rr.ObjectExpression:l=[],r(e.properties,function(e){m.recurse(e.value,m.nextId(),n,function(t){l.push(m.escape(e.key.type===rr.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+l.join(",")+"}",this.assign(t,d),o(d);break;case rr.ThisExpression:this.assign(t,"s"),o("s");break;case rr.NGValueParameter:this.assign(t,"v"),o("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+",text)")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,i,o,r){var a=this;return function(){a.recurse(e,t,n,i,o,r)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(E(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw Qo("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},ln.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,nn(i,n.$filter);var o,a;(o=an(i))&&(a=this.recurse(o));var s,c=on(i.body);c&&(s=[],r(c,function(e,t){var i=n.recurse(e);e.input=i,s.push(i),e.watchId=t}));var u=[];r(i.body,function(e){u.push(n.recurse(e.expression))});var l=0===i.body.length?function(){}:1===i.body.length?u[0]:function(e,t){var n;return r(u,function(i){n=i(e,t)}),n};return a&&(l.assign=function(e,t,n){return a(e,n,t)}),s&&(l.inputs=s),l.literal=sn(i),l.constant=cn(i),l},recurse:function(e,t,i){var o,a,s,c=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case rr.Literal:return this.value(e.value,t);case rr.UnaryExpression:return a=this.recurse(e.argument),this["unary"+e.operator](a,t);case rr.BinaryExpression:return o=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](o,a,t);case rr.LogicalExpression:return o=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](o,a,t);case rr.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case rr.Identifier:return Wt(e.name,c.expression),c.identifier(e.name,c.expensiveChecks||dn(e.name),t,i,c.expression);case rr.MemberExpression:return o=this.recurse(e.object,!1,!!i),e.computed||(Wt(e.property.name,c.expression),a=e.property.name),e.computed&&(a=this.recurse(e.property)),e.computed?this.computedMember(o,a,t,i,c.expression):this.nonComputedMember(o,a,c.expensiveChecks,t,i,c.expression);case rr.CallExpression:return s=[],r(e.arguments,function(e){s.push(c.recurse(e))}),e.filter&&(a=this.$filter(e.callee.name)),e.filter||(a=this.recurse(e.callee,!0)),e.filter?function(e,i,o,r){for(var c=[],u=0;u<s.length;++u)c.push(s[u](e,i,o,r));var l=a.apply(n,c,r);return t?{context:n,name:n,value:l}:l}:function(e,n,i,o){var r,u=a(e,n,i,o);if(null!=u.value){Xt(u.context,c.expression),Jt(u.value,c.expression);for(var l=[],d=0;d<s.length;++d)l.push(Xt(s[d](e,n,i,o),c.expression));r=Xt(u.value.apply(u.context,l),c.expression)}return t?{value:r}:r};case rr.AssignmentExpression:return o=this.recurse(e.left,!0,1),a=this.recurse(e.right),function(e,n,i,r){var s=o(e,n,i,r),u=a(e,n,i,r);return Xt(s.value,c.expression),Qt(s.context),s.context[s.name]=u,t?{value:u}:u};case rr.ArrayExpression:return s=[],r(e.elements,function(e){s.push(c.recurse(e))}),function(e,n,i,o){for(var r=[],a=0;a<s.length;++a)r.push(s[a](e,n,i,o));return t?{value:r}:r};case rr.ObjectExpression:return s=[],r(e.properties,function(e){s.push({key:e.key.type===rr.Identifier?e.key.name:""+e.key.value,value:c.recurse(e.value)})}),function(e,n,i,o){for(var r={},a=0;a<s.length;++a)r[s[a].key]=s[a].value(e,n,i,o);return t?{value:r}:r};case rr.ThisExpression:return function(e){return t?{value:e}:e};case rr.NGValueParameter:return function(e,n,i,o){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,o,r){var a=e(n,i,o,r);return a=$(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,i,o,r){var a=e(n,i,o,r);return a=$(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,i,o,r){var a=!e(n,i,o,r);return t?{value:a}:a}},"binary+":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a),c=t(i,o,r,a),u=en(s,c);return n?{value:u}:u}},"binary-":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a),c=t(i,o,r,a),u=($(s)?s:0)-($(c)?c:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)*t(i,o,r,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)/t(i,o,r,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)%t(i,o,r,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)===t(i,o,r,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)!==t(i,o,r,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)==t(i,o,r,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)!=t(i,o,r,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)<t(i,o,r,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)>t(i,o,r,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)<=t(i,o,r,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)>=t(i,o,r,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)&&t(i,o,r,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)||t(i,o,r,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,i){return function(o,r,a,s){var c=e(o,r,a,s)?t(o,r,a,s):n(o,r,a,s);return i?{value:c}:c}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,i,o,r){return function(a,s,c,u){var l=s&&e in s?s:a;o&&1!==o&&l&&!l[e]&&(l[e]={});var d=l?l[e]:n;return t&&Xt(d,r),i?{context:l,name:e,value:d}:d}},computedMember:function(e,t,n,i,o){return function(r,a,s,c){var u,l,d=e(r,a,s,c);return null!=d&&(u=t(r,a,s,c),u=Kt(u),Wt(u,o),i&&1!==i&&d&&!d[u]&&(d[u]={}),l=d[u],Xt(l,o)),n?{context:d,name:u,value:l}:l}},nonComputedMember:function(e,t,i,o,r,a){return function(s,c,u,l){var d=e(s,c,u,l);r&&1!==r&&d&&!d[t]&&(d[t]={});var m=null!=d?d[t]:n;return(i||dn(t))&&Xt(m,a),o?{context:d,name:t,value:m}:m}},inputs:function(e,t){
return function(n,i,o,r){return r?r[t]:e(n,i,o)}}};var ar=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new rr(this.lexer),this.astCompiler=n.csp?new ln(this.ast,t):new un(this.ast,t)};ar.prototype={constructor:ar,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var sr=(ve(),ve(),Object.prototype.valueOf),cr=i("$sce"),ur={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Lo=i("$compile"),lr=t.createElement("a"),dr=xn(e.location.href);Sn.$inject=["$document"],Dn.$inject=["$provide"],qn.$inject=["$locale"],jn.$inject=["$locale"];var mr=".",fr={yyyy:Un("FullYear",4),yy:Un("FullYear",2,0,!0),y:Un("FullYear",1),MMMM:Fn("Month"),MMM:Fn("Month",!0),MM:Un("Month",2,1),M:Un("Month",1,1),dd:Un("Date",2),d:Un("Date",1),HH:Un("Hours",2),H:Un("Hours",1),hh:Un("Hours",2,-12),h:Un("Hours",1,-12),mm:Un("Minutes",2),m:Un("Minutes",1),ss:Un("Seconds",2),s:Un("Seconds",1),sss:Un("Milliseconds",3),EEEE:Fn("Day"),EEE:Fn("Day",!0),a:Wn,Z:Vn,ww:Yn(2),w:Yn(1),G:Kn,GG:Kn,GGG:Kn,GGGG:Xn},pr=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,hr=/^\-?\d+$/;Jn.$inject=["$locale"];var vr=g(Ei),gr=g(Ci);ei.$inject=["$parse"];var _r=g({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Li.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),br={};r(bo,function(e,t){function n(e,n,o){e.$watch(o[i],function(e){o.$set(t,!!e)})}if("multiple"!=e){var i=dt("ng-"+t),o=n;"checked"===e&&(o=function(e,t,o){o.ngModel!==o[i]&&n(e,t,o)}),br[i]=function(){return{restrict:"A",priority:100,link:o}}}}),r(yo,function(e,t){br[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"==i.ngPattern.charAt(0)){var o=i.ngPattern.match(yi);if(o)return void i.$set("ngPattern",new RegExp(o[1],o[2]))}e.$watch(i[t],function(e){i.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=dt("ng-"+e);br[t]=function(){return{priority:99,link:function(n,i,o){var r=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Li.call(i.prop("href"))&&(a="xlinkHref",o.$attr[a]="xlink:href",r=null),o.$observe(t,function(t){return t?(o.$set(a,t),void(xi&&r&&i.prop(r,o[a]))):void("href"===e&&o.$set(a,null))})}}}});var $r={$addControl:h,$$renameControl:ni,$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h,$setSubmitted:h},yr="ng-submitted";ii.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var kr=function(e){return["$timeout","$parse",function(t,i){function o(e){return""===e?i('this[""]').assign:i(e).assign||h}var r={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:ii,compile:function(i,r){i.addClass(na).addClass(ea);var a=r.name?"name":e&&r.ngForm?"ngForm":!1;return{pre:function(e,i,r,s){var c=s[0];if(!("action"in r)){var u=function(t){e.$apply(function(){c.$commitViewValue(),c.$setSubmitted()}),t.preventDefault()};ro(i[0],"submit",u),i.on("$destroy",function(){t(function(){ao(i[0],"submit",u)},0,!1)})}var l=s[1]||c.$$parentForm;l.$addControl(c);var m=a?o(c.$name):h;a&&(m(e,c),r.$observe(a,function(t){c.$name!==t&&(m(e,n),c.$$parentForm.$$renameControl(c,t),(m=o(c.$name))(e,c))})),i.on("$destroy",function(){c.$$parentForm.$removeControl(c),m(e,n),d(c,$r)})}}}};return r}]},Er=kr(),wr=kr(!0),Cr=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Ar=/^[A-Za-z][A-Za-z\d.+-]*:\/*(?:\w+(?::\w+)?@)?[^\s\/]+(?::\d+)?(?:\/[\w#!:.?+=&%@\-\/]*)?$/,Ir=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,xr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Mr=/^(\d{4})-(\d{2})-(\d{2})$/,Tr=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Sr=/^(\d{4})-W(\d\d)$/,Nr=/^(\d{4})-(\d\d)$/,Dr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Or={text:ri,date:ui("date",Mr,ci(Mr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ui("datetimelocal",Tr,ci(Tr,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:ui("time",Dr,ci(Dr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ui("week",Sr,si,"yyyy-Www"),month:ui("month",Nr,ci(Nr,["yyyy","MM"]),"yyyy-MM"),number:di,url:mi,email:fi,radio:pi,checkbox:vi,hidden:h,button:h,submit:h,reset:h,file:h},Lr=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(o,r,a,s){s[0]&&(Or[Ei(a.type)]||Or.text)(o,r,a,s[0],t,e,n,i)}}}}],Hr=/^(true|false|\d+)$/,Pr=function(){return{restrict:"A",priority:100,compile:function(e,t){return Hr.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},qr=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,function(e){n.textContent=b(e)?"":e})}}}}],jr=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,o){var r=e(i.attr(o.$attr.ngBindTemplate));t.$$addBindingInfo(i,r.expressions),i=i[0],o.$observe("ngBindTemplate",function(e){i.textContent=b(e)?"":e})}}}}],Br=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,o){var r=t(o.ngBindHtml),a=t(o.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(i),function(t,i,o){n.$$addBindingInfo(i,o.ngBindHtml),t.$watch(a,function(){i.html(e.getTrustedHtml(r(t))||"")})}}}}],Rr=g({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Ur=gi("",!0),Fr=gi("Odd",0),Vr=gi("Even",1),Gr=ti({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),zr=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Yr={},Wr={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=dt("ng-"+e);Yr[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(o,r){var a=n(r[t],null,!0);return function(t,n){n.on(e,function(n){var o=function(){a(t,{$event:n})};Wr[e]&&i.$$phase?t.$evalAsync(o):t.$apply(o)})}}}}]});var Kr=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,o,r,a){var s,c,u;n.$watch(o.ngIf,function(n){n?c||a(function(n,r){c=r,n[n.length++]=t.createComment(" end ngIf: "+o.ngIf+" "),s={clone:n},e.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),c&&(c.$destroy(),c=null),s&&(u=he(s.clone),e.leave(u).then(function(){u=null}),s=null))})}}}],Xr=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:qi.noop,compile:function(i,o){var r=o.ngInclude||o.src,a=o.onload||"",s=o.autoscroll;return function(i,o,c,u,l){var d,m,f,p=0,h=function(){m&&(m.remove(),m=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).then(function(){m=null}),m=f,f=null)};i.$watch(r,function(r){var c=function(){!$(s)||s&&!i.$eval(s)||t()},m=++p;r?(e(r,!0).then(function(e){if(m===p){var t=i.$new();u.template=e;var s=l(t,function(e){h(),n.enter(e,null,o).then(c)});d=t,f=s,d.$emit("$includeContentLoaded",r),i.$eval(a)}},function(){m===p&&(h(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(h(),u.template=null)})}}}}],Jr=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,o,r){return/SVG/.test(i[0].toString())?(i.empty(),void e(Ae(r.template,t).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(r.template),void e(i.contents())(n))}}}],Qr=ti({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Zr=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,i,o){var a=t.attr(i.$attr.ngList)||", ",s="false"!==i.ngTrim,c=s?Fi(a):a,u=function(e){if(!b(e)){var t=[];return e&&r(e.split(c),function(e){e&&t.push(s?Fi(e):e)}),t}};o.$parsers.push(u),o.$formatters.push(function(e){return Ri(e)?e.join(a):n}),o.$isEmpty=function(e){return!e||!e.length}}}},ea="ng-valid",ta="ng-invalid",na="ng-pristine",ia="ng-dirty",oa="ng-untouched",ra="ng-touched",aa="ng-pending",sa=i("ngModel"),ca=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,i,o,a,s,c,u,l,d){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(i.name||"",!1)(e),this.$$parentForm=$r;var m,f=a(i.ngModel),p=f.assign,v=f,g=p,_=null,y=this;this.$$setOptions=function(e){if(y.$options=e,e&&e.getterSetter){var t=a(i.ngModel+"()"),n=a(i.ngModel+"($$$p)");v=function(e){var n=f(e);return A(n)&&(n=t(e)),n},g=function(e,t){A(f(e))?n(e,{$$$p:y.$modelValue}):p(e,y.$modelValue)}}else if(!f.assign)throw sa("nonassign","Expression '{0}' is non-assignable. Element: {1}",i.ngModel,Q(o))},this.$render=h,this.$isEmpty=function(e){return b(e)||""===e||null===e||e!==e};var k=0;_i({ctrl:this,$element:o,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:s}),this.$setPristine=function(){y.$dirty=!1,y.$pristine=!0,s.removeClass(o,ia),s.addClass(o,na)},this.$setDirty=function(){y.$dirty=!0,y.$pristine=!1,s.removeClass(o,na),s.addClass(o,ia),y.$$parentForm.$setDirty()},this.$setUntouched=function(){y.$touched=!1,y.$untouched=!0,s.setClass(o,oa,ra)},this.$setTouched=function(){y.$touched=!0,y.$untouched=!1,s.setClass(o,ra,oa)},this.$rollbackViewValue=function(){c.cancel(_),y.$viewValue=y.$$lastCommittedViewValue,y.$render()},this.$validate=function(){if(!w(y.$modelValue)||!isNaN(y.$modelValue)){var e=y.$$lastCommittedViewValue,t=y.$$rawModelValue,i=y.$valid,o=y.$modelValue,r=y.$options&&y.$options.allowInvalid;y.$$runValidators(t,e,function(e){r||i===e||(y.$modelValue=e?t:n,y.$modelValue!==o&&y.$$writeModelToScope())})}},this.$$runValidators=function(e,t,i){function o(){var e=y.$$parserName||"parse";return b(m)?(c(e,null),!0):(m||(r(y.$validators,function(e,t){c(t,null)}),r(y.$asyncValidators,function(e,t){c(t,null)})),c(e,m),m)}function a(){var n=!0;return r(y.$validators,function(i,o){var r=i(e,t);n=n&&r,c(o,r)}),n?!0:(r(y.$asyncValidators,function(e,t){c(t,null)}),!1)}function s(){var i=[],o=!0;r(y.$asyncValidators,function(r,a){var s=r(e,t);if(!O(s))throw sa("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);c(a,n),i.push(s.then(function(){c(a,!0)},function(e){o=!1,c(a,!1)}))}),i.length?l.all(i).then(function(){u(o)},h):u(!0)}function c(e,t){d===k&&y.$setValidity(e,t)}function u(e){d===k&&i(e)}k++;var d=k;return o()&&a()?void s():void u(!1)},this.$commitViewValue=function(){var e=y.$viewValue;c.cancel(_),(y.$$lastCommittedViewValue!==e||""===e&&y.$$hasNativeValidators)&&(y.$$lastCommittedViewValue=e,y.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){y.$modelValue!==a&&y.$$writeModelToScope()}var i=y.$$lastCommittedViewValue,o=i;if(m=b(o)?n:!0)for(var r=0;r<y.$parsers.length;r++)if(o=y.$parsers[r](o),b(o)){m=!1;break}w(y.$modelValue)&&isNaN(y.$modelValue)&&(y.$modelValue=v(e));var a=y.$modelValue,s=y.$options&&y.$options.allowInvalid;y.$$rawModelValue=o,s&&(y.$modelValue=o,t()),y.$$runValidators(o,y.$$lastCommittedViewValue,function(e){s||(y.$modelValue=e?o:n,t())})},this.$$writeModelToScope=function(){g(e,y.$modelValue),r(y.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){y.$viewValue=e,(!y.$options||y.$options.updateOnDefault)&&y.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,i=0,o=y.$options;o&&$(o.debounce)&&(n=o.debounce,w(n)?i=n:w(n[t])?i=n[t]:w(n["default"])&&(i=n["default"])),c.cancel(_),i?_=c(function(){y.$commitViewValue()},i):u.$$phase?y.$commitViewValue():e.$apply(function(){y.$commitViewValue()})},e.$watch(function(){var t=v(e);if(t!==y.$modelValue&&(y.$modelValue===y.$modelValue||t===t)){y.$modelValue=y.$$rawModelValue=t,m=n;for(var i=y.$formatters,o=i.length,r=t;o--;)r=i[o](r);y.$viewValue!==r&&(y.$viewValue=y.$$lastCommittedViewValue=r,y.$render(),y.$$runValidators(t,r,h))}return t})}],ua=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ca,priority:1,compile:function(t){return t.addClass(na).addClass(oa).addClass(ea),{pre:function(e,t,n,i){var o=i[0],r=i[1]||o.$$parentForm;o.$$setOptions(i[2]&&i[2].$options),r.$addControl(o),n.$observe("name",function(e){o.$name!==e&&o.$$parentForm.$$renameControl(o,e)}),e.$on("$destroy",function(){o.$$parentForm.$removeControl(o)})},post:function(t,n,i,o){var r=o[0];r.$options&&r.$options.updateOn&&n.on(r.$options.updateOn,function(e){r.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){r.$touched||(e.$$phase?t.$evalAsync(r.$setTouched):t.$apply(r.$setTouched))})}}}}}],la=/(\s+|^)default(\s+|$)/,da=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=B(e.$eval(t.ngModelOptions)),$(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Fi(this.$options.updateOn.replace(la,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ma=ti({terminal:!0,priority:1e3}),fa=i("ngOptions"),pa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ha=["$compile","$parse",function(e,n){function i(e,t,i){function r(e,t,n,i,o){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=o}function a(e){var t;if(!u&&o(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(pa);if(!s)throw fa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Q(t));var c=s[5]||s[7],u=s[6],l=/ as /.test(s[0])&&s[1],d=s[9],m=n(s[2]?s[1]:c),f=l&&n(l),p=f||m,h=d&&n(d),v=d?function(e,t){return h(i,t)}:function(e){return Xe(e)},g=function(e,t){return v(e,E(e,t))},_=n(s[2]||s[1]),b=n(s[3]||""),$=n(s[4]||""),y=n(s[8]),k={},E=u?function(e,t){return k[u]=t,k[c]=e,k}:function(e){return k[c]=e,k};return{trackBy:d,getTrackByValue:g,getWatchables:n(y,function(e){var t=[];e=e||[];for(var n=a(e),o=n.length,r=0;o>r;r++){var c=e===n?r:n[r],u=(e[c],E(e[c],c)),l=v(e[c],u);if(t.push(l),s[2]||s[1]){var d=_(i,u);t.push(d)}if(s[4]){var m=$(i,u);t.push(m)}}return t}),getOptions:function(){for(var e=[],t={},n=y(i)||[],o=a(n),s=o.length,c=0;s>c;c++){var u=n===o?c:o[c],l=n[u],m=E(l,u),f=p(i,m),h=v(f,m),k=_(i,m),w=b(i,m),C=$(i,m),A=new r(h,f,k,w,C);e.push(A),t[h]=A}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[g(e)]},getViewValueFromOption:function(e){return d?qi.copy(e.viewValue):e.viewValue}}}}}function a(t,n,o,a){function u(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function l(e,t,n,i){var o;return t&&Ei(t.nodeName)===n?o=t:(o=i.cloneNode(!1),t?e.insertBefore(o,t):e.appendChild(o)),o}function d(e){for(var t;e;)t=e.nextSibling,Ue(e),e=t}function m(e){var t=h&&h[0],n=k&&k[0];if(t||n)for(;e&&(e===t||e===n||e.nodeType===Zi||""===e.value);)e=e.nextSibling;return e}function f(){var e=E&&v.readValue();E=w.getOptions();var t={},i=n[0].firstChild;if(y&&n.prepend(h),i=m(i),E.items.forEach(function(e){var o,r,a;e.group?(o=t[e.group],o||(r=l(n[0],i,"optgroup",c),i=r.nextSibling,r.label=e.group,o=t[e.group]={groupElement:r,currentOptionElement:r.firstChild}),a=l(o.groupElement,o.currentOptionElement,"option",s),u(e,a),o.currentOptionElement=a.nextSibling):(a=l(n[0],i,"option",s),u(e,a),i=a.nextSibling)}),Object.keys(t).forEach(function(e){d(t[e].currentOptionElement)}),d(i),p.$render(),!p.$isEmpty(e)){var o=v.readValue();(w.trackBy?U(e,o):e===o)||(p.$setViewValue(o),p.$render())}}var p=a[1];if(p){for(var h,v=a[0],g=o.multiple,_=0,b=n.children(),$=b.length;$>_;_++)if(""===b[_].value){h=b.eq(_);break}var y=!!h,k=Mi(s.cloneNode(!1));k.val("?");var E,w=i(o.ngOptions,n,t),C=function(){y||n.prepend(h),n.val(""),h.prop("selected",!0),h.attr("selected",!0)},A=function(){y||h.remove()},I=function(){n.prepend(k),n.val("?"),k.prop("selected",!0),k.attr("selected",!0)},x=function(){k.remove()};g?(p.$isEmpty=function(e){return!e||0===e.length},v.writeValue=function(e){E.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=E.getOptionFromViewValue(e);t&&!t.disabled&&(t.element.selected=!0)})},v.readValue=function(){var e=n.val()||[],t=[];return r(e,function(e){var n=E.selectValueMap[e];n&&!n.disabled&&t.push(E.getViewValueFromOption(n))}),t},w.trackBy&&t.$watchCollection(function(){return Ri(p.$viewValue)?p.$viewValue.map(function(e){return w.getTrackByValue(e)}):void 0},function(){p.$render()})):(v.writeValue=function(e){var t=E.getOptionFromViewValue(e);t&&!t.disabled?n[0].value!==t.selectValue&&(x(),A(),n[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||y?(x(),C()):(A(),I())},v.readValue=function(){var e=E.selectValueMap[n.val()];return e&&!e.disabled?(A(),x(),E.getViewValueFromOption(e)):null},w.trackBy&&t.$watch(function(){return w.getTrackByValue(p.$viewValue)},function(){p.$render()})),y?(h.remove(),e(h)(t),h.removeClass("ng-scope")):h=Mi(s.cloneNode(!1)),f(),t.$watchCollection(w.getWatchables,f)}}var s=t.createElement("option"),c=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=h},post:a}}}],va=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,c){function u(e){s.text(e||"")}var l,d=c.count,m=c.$attr.when&&s.attr(c.$attr.when),f=c.offset||0,p=a.$eval(m)||{},v={},g=t.startSymbol(),_=t.endSymbol(),$=g+d+"-"+f+_,y=qi.noop;r(c,function(e,t){var n=o.exec(t);if(n){var i=(n[1]?"-":"")+Ei(n[2]);p[i]=s.attr(c.$attr[t])}}),r(p,function(e,n){v[n]=t(e.replace(i,$))}),a.$watch(d,function(t){var i=parseFloat(t),o=isNaN(i);if(o||i in p||(i=e.pluralCat(i-f)),i!==l&&!(o&&w(l)&&isNaN(l))){y();var r=v[i];b(r)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+m),y=h,u()):y=a.$watch(r,u),l=i}})}}}],ga=["$parse","$animate",function(e,a){var s="$$NG_REMOVED",c=i("ngRepeat"),u=function(e,t,n,i,o,r,a){e[n]=i,o&&(e[o]=r),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},l=function(e){return e.clone[0]},d=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,m){var f=m.ngRepeat,p=t.createComment(" end ngRepeat: "+f+" "),h=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw c("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var v=h[1],g=h[2],_=h[3],b=h[4];if(h=v.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!h)throw c("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);var $=h[3]||h[1],y=h[2];if(_&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(_)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(_)))throw c("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",_);var k,E,w,C,A={$id:Xe};return b?k=e(b):(w=function(e,t){return Xe(t)},C=function(e){return e}),function(e,t,i,m,h){k&&(E=function(t,n,i){return y&&(A[y]=t),A[$]=n,A.$index=i,k(e,A)});var v=ve();e.$watchCollection(g,function(i){var m,g,b,k,A,I,x,M,T,S,N,D,O=t[0],L=ve();if(_&&(e[_]=i),o(i))T=i,M=E||w;else{M=E||C,T=[];for(var H in i)wi.call(i,H)&&"$"!==H.charAt(0)&&T.push(H)}for(k=T.length,N=new Array(k),m=0;k>m;m++)if(A=i===T?m:T[m],I=i[A],x=M(A,I,m),v[x])S=v[x],delete v[x],L[x]=S,N[m]=S;else{if(L[x])throw r(N,function(e){e&&e.scope&&(v[e.id]=e)}),c("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,x,I);N[m]={id:x,scope:n,clone:n},L[x]=!0}for(var P in v){if(S=v[P],D=he(S.clone),a.leave(D),D[0].parentNode)for(m=0,g=D.length;g>m;m++)D[m][s]=!0;S.scope.$destroy()}for(m=0;k>m;m++)if(A=i===T?m:T[m],I=i[A],S=N[m],S.scope){b=O;do b=b.nextSibling;while(b&&b[s]);l(S)!=b&&a.move(he(S.clone),null,Mi(O)),O=d(S),u(S.scope,m,$,I,y,A,k)}else h(function(e,t){S.scope=t;var n=p.cloneNode(!1);e[e.length++]=n,a.enter(e,null,Mi(O)),O=n,S.clone=e,L[S.id]=S,u(S.scope,m,$,I,y,A,k)});v=L})}}}}],_a="ng-hide",ba="ng-hide-animate",$a=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,_a,{tempClasses:ba})})}}}],ya=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,_a,{tempClasses:ba})})}}}],ka=ti(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Ea=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,a){var s=o.ngSwitch||o.on,c=[],u=[],l=[],d=[],m=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var i,o;for(i=0,o=l.length;o>i;++i)e.cancel(l[i]);for(l.length=0,i=0,o=d.length;o>i;++i){var s=he(u[i].clone);d[i].$destroy();var f=l[i]=e.leave(s);f.then(m(l,i))}u.length=0,d.length=0,(c=a.cases["!"+n]||a.cases["?"])&&r(c,function(n){n.transclude(function(i,o){d.push(o);var r=n.element;i[i.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:i};u.push(a),e.enter(i,r.parent(),r)})})})}}}],wa=ti({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,o){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:o,element:t})}}),Ca=ti({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,o){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:o,element:t})}}),Aa=ti({restrict:"EAC",link:function(e,t,n,o,r){if(!r)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Q(t));r(function(e){t.empty(),t.append(e)})}}),Ia=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var i=n.id,o=t[0].text;e.put(i,o)}}}}],xa={$setViewValue:h,$render:h},Ma=["$element","$scope","$attrs",function(e,i,o){var r=this,a=new Je;r.ngModelCtrl=xa,r.unknownOption=Mi(t.createElement("option")),r.renderUnknownOption=function(t){var n="? "+Xe(t)+" ?";r.unknownOption.val(n),e.prepend(r.unknownOption),e.val(n)},i.$on("$destroy",function(){r.renderUnknownOption=h}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),e.val()},r.writeValue=function(t){r.hasOption(t)?(r.removeUnknownOption(),e.val(t),""===t&&r.emptyOption.prop("selected",!0)):null==t&&r.emptyOption?(r.removeUnknownOption(),e.val("")):r.renderUnknownOption(t)},r.addOption=function(e,t){fe(e,'"option value"'),""===e&&(r.emptyOption=t);var n=a.get(e)||0;a.put(e,n+1),r.ngModelCtrl.$render(),$i(t)},r.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.remove(e),""===e&&(r.emptyOption=n)):a.put(e,t-1))},r.hasOption=function(e){return!!a.get(e)},r.registerOption=function(e,t,n,i,o){if(i){var a;n.$observe("value",function(e){$(a)&&r.removeOption(a),a=e,r.addOption(e,t)})}else o?e.$watch(o,function(e,i){n.$set("value",e),i!==e&&r.removeOption(i),r.addOption(e,t)}):r.addOption(n.value,t);t.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],Ta=function(){function e(e,t,n,i){var o=i[1];if(o){var a=i[0];if(a.ngModelCtrl=o,o.$render=function(){a.writeValue(o.$viewValue)},t.on("change",function(){e.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return r(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Je(e);r(t.find("option"),function(e){e.selected=$(n.get(e.value))})};var s,c=NaN;e.$watch(function(){c!==o.$viewValue||U(s,o.$viewValue)||(s=R(o.$viewValue),o.$render()),c=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}}return{restrict:"E",require:["select","?ngModel"],controller:Ma,priority:1,link:{pre:e}}},Sa=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if($(n.value))var i=e(n.value,!0);else{var o=e(t.text(),!0);o||n.$set("value",t.text())}return function(e,t,n){var r="$selectController",a=t.parent(),s=a.data(r)||a.parent().data(r);s&&s.registerOption(e,t,n,i,o)}}}}],Na=g({restrict:"E",terminal:!1}),Da=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},Oa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,o,r){if(r){var a,s=o.ngPattern||o.pattern;o.$observe("pattern",function(e){if(E(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,Q(t));a=e||n,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||b(a)||a.test(t)}}}}},La=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var o=-1;n.$observe("maxlength",function(e){var t=f(e);o=isNaN(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(e,t){return 0>o||i.$isEmpty(t)||t.length<=o}}}}},Ha=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var o=0;n.$observe("minlength",function(e){o=f(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=o}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(le(),$e(qi),qi.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function i(e,i){var o=i;n===o&&(o=Math.min(t(e),3));var r=Math.pow(10,o),a=(e*r|0)%r;return{v:o,f:a}}var o={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",pluralCat:function(e,t){var n=0|e,r=i(e,t);return 1==n&&0==r.v?o.ONE:o.OTHER}})}]),void Mi(t).ready(function(){re(t,ae)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},function(e,t,n){n(6),e.exports="ngAnimate"},function(e,t){/**
	 * @license AngularJS v1.4.8
	 * (c) 2010-2015 Google, Inc. http://angularjs.org
	 * License: MIT
	 */
!function(e,t,n){"use strict";function i(e,t,n){if(!e)throw ngMinErr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function o(e,t){return e||t?e?t?(U(e)&&(e=e.join(" ")),U(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function r(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function a(e,t,n){var i="";return e=U(e)?e:e&&F(e)&&e.length?e.split(/\s+/):[],R(e,function(e,o){e&&e.length>0&&(i+=o>0?" ":"",i+=n?t+e:e+t)}),i}function s(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function c(e){if(e instanceof B)switch(e.length){case 0:return[];case 1:if(e[0].nodeType===K)return e;break;default:return B(u(e))}return e.nodeType===K?B(e):void 0}function u(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==K)return n}}function l(e,t,n){R(t,function(t){e.addClass(t,n)})}function d(e,t,n){R(t,function(t){e.removeClass(t,n)})}function m(e){return function(t,n){n.addClass&&(l(e,t,n.addClass),n.addClass=null),n.removeClass&&(d(e,t,n.removeClass),n.removeClass=null)}}function f(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||q;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=q},e.$$prepared=!0}return e}function p(e,t){h(e,t),v(e,t)}function h(e,t){t.from&&(e.css(t.from),t.from=null)}function v(e,t){t.to&&(e.css(t.to),t.to=null)}function g(e,t,n){var i=(t.addClass||"")+" "+(n.addClass||""),o=(t.removeClass||"")+" "+(n.removeClass||""),r=_(e.attr("class"),i,o);n.preparationClasses&&(t.preparationClasses=C(n.preparationClasses,t.preparationClasses),delete n.preparationClasses);var a=t.domOperation!==q?t.domOperation:null;return j(t,n),a&&(t.domOperation=a),r.addClass?t.addClass=r.addClass:t.addClass=null,r.removeClass?t.removeClass=r.removeClass:t.removeClass=null,t}function _(e,t,n){function i(e){F(e)&&(e=e.split(" "));var t={};return R(e,function(e){e.length&&(t[e]=!0)}),t}var o=1,r=-1,a={};e=i(e),t=i(t),R(t,function(e,t){a[t]=o}),n=i(n),R(n,function(e,t){a[t]=a[t]===o?null:r});var s={addClass:"",removeClass:""};return R(a,function(t,n){var i,a;t===o?(i="addClass",a=!e[n]):t===r&&(i="removeClass",a=e[n]),a&&(s[i].length&&(s[i]+=" "),s[i]+=n)}),s}function b(e){return e instanceof t.element?e[0]:e}function $(e,t,n){var i="";t&&(i=a(t,Q,!0)),n.addClass&&(i=C(i,a(n.addClass,X))),n.removeClass&&(i=C(i,a(n.removeClass,J))),i.length&&(n.preparationClasses=i,e.addClass(i))}function y(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function k(e,t){var n=t?"-"+t+"s":"";return w(e,[me,n]),[me,n]}function E(e,t){var n=t?"paused":"",i=H+ce;return w(e,[i,n]),[i,n]}function w(e,t){var n=t[0],i=t[1];e.style[n]=i}function C(e,t){return e?t?e+" "+t:e:t}function A(e){return[de,e+"s"]}function I(e,t){var n=t?le:me;return[n,e+"s"]}function x(e,t,n){var i=Object.create(null),o=e.getComputedStyle(t)||{};return R(n,function(e,t){var n=o[e];if(n){var r=n.charAt(0);("-"===r||"+"===r||r>=0)&&(n=M(n)),0===n&&(n=null),i[t]=n}}),i}function M(e){var t=0,n=e.split(/\s*,\s*/);return R(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function T(e){return 0===e||null!=e}function S(e,t){var n=O,i=e+"s";return t?n+=ie:i+=" linear all",[n,i]}function N(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function D(e,t,n){R(n,function(n){e[n]=z(e[n])?e[n]:t.style.getPropertyValue(n)})}var O,L,H,P,q=t.noop,j=t.extend,B=t.element,R=t.forEach,U=t.isArray,F=t.isString,V=t.isObject,G=t.isUndefined,z=t.isDefined,Y=t.isFunction,W=t.isElement,K=1,X="-add",J="-remove",Q="ng-",Z="-active",ee="ng-animate",te="$$ngAnimateChildren",ne="";G(e.ontransitionend)&&z(e.onwebkittransitionend)?(ne="-webkit-",O="WebkitTransition",L="webkitTransitionEnd transitionend"):(O="transition",L="transitionend"),G(e.onanimationend)&&z(e.onwebkitanimationend)?(ne="-webkit-",H="WebkitAnimation",P="webkitAnimationEnd animationend"):(H="animation",P="animationend");var ie="Duration",oe="Property",re="Delay",ae="TimingFunction",se="IterationCount",ce="PlayState",ue=9999,le=H+re,de=H+ie,me=O+re,fe=O+ie,pe=["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),r=0;r<t.length;r++)t[r]();o||e(function(){o||n()})}}var i,o;return i=t.queue=[],t.waitUntilQuiet=function(t){o&&o(),o=e(function(){o=null,t(),n()})},t}],he=[function(){return function(e,n,i){var o=i.ngAnimateChildren;t.isString(o)&&0===o.length?n.data(te,!0):i.$observe("ngAnimateChildren",function(e){e="on"===e||"true"===e,n.data(te,e)})}}],ve="$$animateCss",ge=1e3,_e=3,be=1.5,$e={transitionDuration:fe,transitionDelay:me,transitionProperty:O+oe,animationDuration:de,animationDelay:le,animationIterationCount:H+se},ye={transitionDuration:fe,transitionDelay:me,animationDuration:de,animationDelay:le},ke=["$animateProvider",function(e){var t=N(),n=N();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$animate",function(e,i,o,c,u,l,d,g){function _(e,t){var n="$$ngAnimateParentKey",i=e.parentNode,o=i[n]||(i[n]=++j);return o+"-"+e.getAttribute("class")+"-"+t}function $(n,i,o,r){var a=t.get(o);return a||(a=x(e,n,r),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(o,a),a}function y(o,r,s,c){var u;if(t.count(s)>0&&(u=n.get(s),!u)){var l=a(r,"-stagger");i.addClass(o,l),u=x(e,o,c),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),i.removeClass(o,l),n.put(s,u)}return u||{}}function C(e){B.push(e),d.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=u(),i=0;i<B.length;i++)B[i](e);B.length=0})}function M(e,t,n){var i=$(e,t,n,$e),o=i.animationDelay,r=i.transitionDelay;return i.maxDelay=o&&r?Math.max(o,r):o||r,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var N=m(i),j=0,B=[];return function(e,n){function u(){m()}function d(){m(!0)}function m(t){V||z&&G||(V=!0,G=!1,n.$$skipPreparationClasses||i.removeClass(e,fe),i.removeClass(e,he),E(F,!1),k(F,!1),R(ie,function(e){F.style[e[0]]=""}),N(e,n),p(e,n),Object.keys(B).length&&R(B,function(e,t){e?F.style.setProperty(t,e):F.style.removeProperty(t)}),n.onDone&&n.onDone(),Y&&Y.complete(!t))}function $(e){Oe.blockTransition&&k(F,e),Oe.blockKeyframeAnimation&&E(F,!!e)}function x(){return Y=new o({end:u,cancel:d}),C(q),m(),{$$willAnimate:!1,start:function(){return Y},end:u}}function j(){function t(){if(!V){if($(!1),R(ie,function(e){var t=e[0],n=e[1];F.style[t]=n}),N(e,n),i.addClass(e,he),Oe.recalculateTimingStyles){if(pe=F.className+" "+fe,Ee=_(F,pe),Ne=M(F,pe,Ee),De=Ne.maxDelay,K=Math.max(De,0),te=Ne.maxDuration,0===te)return void m();Oe.hasTransitions=Ne.transitionDuration>0,Oe.hasAnimations=Ne.animationDuration>0}if(Oe.applyAnimationDelay&&(De="boolean"!=typeof n.delay&&T(n.delay)?parseFloat(n.delay):De,K=Math.max(De,0),Ne.animationDelay=De,Le=I(De,!0),ie.push(Le),F.style[Le[0]]=Le[1]),ee=K*ge,ne=te*ge,n.easing){var t,s=n.easing;Oe.hasTransitions&&(t=O+ae,ie.push([t,s]),F.style[t]=s),Oe.hasAnimations&&(t=H+ae,ie.push([t,s]),F.style[t]=s)}Ne.transitionDuration&&u.push(L),Ne.animationDuration&&u.push(P),a=Date.now();var l=ee+be*ne,d=a+l,f=e.data(ve)||[],p=!0;if(f.length){var h=f[0];p=d>h.expectedEndTime,p?c.cancel(h.timer):f.push(m)}if(p){var g=c(o,l,!1);f[0]={timer:g,expectedEndTime:d},f.push(m),e.data(ve,f)}e.on(u.join(" "),r),n.to&&(n.cleanupStyles&&D(B,F,Object.keys(n.to)),v(e,n))}}function o(){var t=e.data(ve);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(ve)}}function r(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||t.timeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(_e));Math.max(n-a,0)>=ee&&i>=te&&(z=!0,m())}if(!V){if(!F.parentNode)return void m();var a,u=[],l=function(e){if(z)G&&e&&(G=!1,m());else if(G=!e,Ne.animationDuration){var t=E(F,G);G?ie.push(t):s(ie,t)}},d=Te>0&&(Ne.transitionDuration&&0===we.transitionDuration||Ne.animationDuration&&0===we.animationDuration)&&Math.max(we.animationDelay,we.transitionDelay);d?c(t,Math.floor(d*Te*ge),!1):t(),W.resume=function(){l(!0)},W.pause=function(){l(!1)}}}var B={},F=b(e);if(!F||!F.parentNode||!g.enabled())return x();n=f(n);var V,G,z,Y,W,K,ee,te,ne,ie=[],re=e.attr("class"),se=r(n);if(0===n.duration||!l.animations&&!l.transitions)return x();var ce=n.event&&U(n.event)?n.event.join(" "):n.event,le=ce&&n.structural,de="",me="";le?de=a(ce,Q,!0):ce&&(de=ce),n.addClass&&(me+=a(n.addClass,X)),n.removeClass&&(me.length&&(me+=" "),me+=a(n.removeClass,J)),n.applyClassesEarly&&me.length&&N(e,n);var fe=[de,me].join(" ").trim(),pe=re+" "+fe,he=a(fe,Z),$e=se.to&&Object.keys(se.to).length>0,ke=(n.keyframeStyle||"").length>0;if(!ke&&!$e&&!fe)return x();var Ee,we;if(n.stagger>0){var Ce=parseFloat(n.stagger);we={transitionDelay:Ce,animationDelay:Ce,transitionDuration:0,animationDuration:0}}else Ee=_(F,pe),we=y(F,fe,Ee,ye);n.$$skipPreparationClasses||i.addClass(e,fe);var Ae;if(n.transitionStyle){var Ie=[O,n.transitionStyle];w(F,Ie),ie.push(Ie)}if(n.duration>=0){Ae=F.style[O].length>0;var xe=S(n.duration,Ae);w(F,xe),ie.push(xe)}if(n.keyframeStyle){var Me=[H,n.keyframeStyle];w(F,Me),ie.push(Me)}var Te=we?n.staggerIndex>=0?n.staggerIndex:t.count(Ee):0,Se=0===Te;Se&&!n.skipBlocking&&k(F,ue);var Ne=M(F,pe,Ee),De=Ne.maxDelay;K=Math.max(De,0),te=Ne.maxDuration;var Oe={};if(Oe.hasTransitions=Ne.transitionDuration>0,Oe.hasAnimations=Ne.animationDuration>0,Oe.hasTransitionAll=Oe.hasTransitions&&"all"==Ne.transitionProperty,Oe.applyTransitionDuration=$e&&(Oe.hasTransitions&&!Oe.hasTransitionAll||Oe.hasAnimations&&!Oe.hasTransitions),Oe.applyAnimationDuration=n.duration&&Oe.hasAnimations,Oe.applyTransitionDelay=T(n.delay)&&(Oe.applyTransitionDuration||Oe.hasTransitions),Oe.applyAnimationDelay=T(n.delay)&&Oe.hasAnimations,Oe.recalculateTimingStyles=me.length>0,(Oe.applyTransitionDuration||Oe.applyAnimationDuration)&&(te=n.duration?parseFloat(n.duration):te,Oe.applyTransitionDuration&&(Oe.hasTransitions=!0,Ne.transitionDuration=te,Ae=F.style[O+oe].length>0,ie.push(S(te,Ae))),Oe.applyAnimationDuration&&(Oe.hasAnimations=!0,Ne.animationDuration=te,ie.push(A(te)))),0===te&&!Oe.recalculateTimingStyles)return x();if(null!=n.delay){var Le=parseFloat(n.delay);Oe.applyTransitionDelay&&ie.push(I(Le)),Oe.applyAnimationDelay&&ie.push(I(Le,!0))}return null==n.duration&&Ne.transitionDuration>0&&(Oe.recalculateTimingStyles=Oe.recalculateTimingStyles||Se),ee=K*ge,ne=te*ge,n.skipBlocking||(Oe.blockTransition=Ne.transitionDuration>0,Oe.blockKeyframeAnimation=Ne.animationDuration>0&&we.animationDelay>0&&0===we.animationDuration),n.from&&(n.cleanupStyles&&D(B,F,Object.keys(n.from)),h(e,n)),Oe.blockTransition||Oe.blockKeyframeAnimation?$(te):n.skipBlocking||k(F,!1),{$$willAnimate:!0,end:u,start:function(){return V?void 0:(W={end:u,cancel:d,resume:null,pause:null},Y=new o(W),C(j),Y)}}}}]}],Ee=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor",o="ng-anchor-out",r="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,a,s,c,u,l,d){function f(e){return e.replace(/\bng-\S+\b/g,"")}function p(e,t){return F(e)&&(e=e.split(" ")),F(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function h(t,a,c){function u(e){var t={},n=b(e).getBoundingClientRect();return R(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=_.scrollTop;break;case"left":i+=_.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function l(){var t=e(v,{addClass:o,delay:!0,from:u(a)});return t.$$willAnimate?t:null}function d(e){return e.attr("class")||""}function m(){var t=f(d(c)),n=p(t,g),i=p(g,t),a=e(v,{to:u(c),addClass:r+" "+n,removeClass:o+" "+i,delay:!0});return a.$$willAnimate?a:null}function h(){v.remove(),a.removeClass(n),c.removeClass(n)}var v=B(b(a).cloneNode(!0)),g=f(d(v));a.addClass(n),c.addClass(n),v.addClass(i),y.append(v);var $,k=l();if(!k&&($=m(),!$))return h();var E=k||$;return{start:function(){function e(){n&&n.end()}var t,n=E.start();return n.done(function(){return n=null,!$&&($=m())?(n=$.start(),n.done(function(){n=null,h(),t.complete()}),n):(h(),void t.complete())}),t=new s({end:e,cancel:e})}}}function v(e,t,n,i){var o=g(e,q),r=g(t,q),a=[];return R(i,function(e){var t=e.out,i=e["in"],o=h(n,t,i);o&&a.push(o)}),o||r||0!==a.length?{start:function(){function e(){R(t,function(e){e.end()})}var t=[];o&&t.push(o.start()),r&&t.push(r.start()),R(a,function(e){t.push(e.start())});var n=new s({end:e,cancel:e});return s.all(t,function(e){n.complete(e)}),n}}:void 0}function g(t){var n=t.element,i=t.options||{};t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=C(i.event,i.preparationClasses));var o=e(n,i);return o.$$willAnimate?o:null}if(!u.animations&&!u.transitions)return q;var _=d[0].body,$=b(c),y=B(t($)||_.contains($)?$:_);m(l);return function(e){return e.from&&e.to?v(e.from,e.to,e.classes,e.anchors):g(e)}}]}],we=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function o(n){n=U(n)?n:n.split(" ");for(var i=[],o={},r=0;r<n.length;r++){var a=n[r],s=e.$$registeredAnimations[a];s&&!o[a]&&(i.push(t.get(s)),o[a]=!0)}return i}var r=m(i);return function(e,t,i,a){function s(){a.domOperation(),r(e,a)}function c(e,t,i,o,r){var a;switch(i){case"animate":a=[t,o.from,o.to,r];break;case"setClass":a=[t,h,v,r];break;case"addClass":a=[t,h,r];break;case"removeClass":a=[t,v,r];break;default:a=[t,r]}a.push(o);var s=e.apply(e,a);if(s)if(Y(s.start)&&(s=s.start()),s instanceof n)s.done(r);else if(Y(s))return s;return q}function u(e,t,i,o,r){var a=[];return R(o,function(o){var s=o[r];s&&a.push(function(){var o,r,a=!1,u=function(e){a||(a=!0,(r||q)(e),o.complete(!e))};return o=new n({end:function(){u()},cancel:function(){u(!0)}}),r=c(s,e,t,i,function(e){var t=e===!1;u(t)}),o})}),a}function l(e,t,i,o,r){var a=u(e,t,i,o,r);if(0===a.length){var s,c;"beforeSetClass"===r?(s=u(e,"removeClass",i,o,"beforeRemoveClass"),c=u(e,"addClass",i,o,"beforeAddClass")):"setClass"===r&&(s=u(e,"removeClass",i,o,"removeClass"),c=u(e,"addClass",i,o,"addClass")),s&&(a=a.concat(s)),c&&(a=a.concat(c))}if(0!==a.length)return function(e){var t=[];return a.length&&R(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){R(t,function(t){e?t.cancel():t.end()})}}}3===arguments.length&&V(i)&&(a=i,i=null),a=f(a),i||(i=e.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var d,m,h=a.addClass,v=a.removeClass,g=o(i);if(g.length){var _,b;"leave"==t?(b="leave",_="afterLeave"):(b="before"+t.charAt(0).toUpperCase()+t.substr(1),_=t),"enter"!==t&&"move"!==t&&(d=l(e,t,a,g,b)),m=l(e,t,a,g,_)}return d||m?{start:function(){function t(t){c=!0,s(),p(e,a),u.complete(t)}function i(e){c||((o||q)(e),t(e))}var o,r=[];d&&r.push(function(e){o=d(e)}),r.length?r.push(function(e){s(),e(!0)}):s(),m&&r.push(function(e){o=m(e)});var c=!1,u=new n({end:function(){i()},cancel:function(){i(!0)}});return n.chain(r,t),u}}:void 0}}]}],Ce=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,i=t.event,o=t.options,r=t.classes;return e(n,i,r,o)}return function(e){if(e.from&&e.to){var i=n(e.from),o=n(e.to);if(!i&&!o)return;return{start:function(){function e(){return function(){R(r,function(e){e.end()})}}function n(e){a.complete(e)}var r=[];i&&r.push(i.start()),o&&r.push(o.start()),t.all(r,n);var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],Ae="data-ng-animate",Ie="$ngAnimatePin",xe=["$animateProvider",function(e){function t(e,t,n,i){return a[e].some(function(e){return e(t,n,i)})}function n(e,t){e=e||{};var n=(e.addClass||"").length>0,i=(e.removeClass||"").length>0;return t?n&&i:n||i}var o=1,r=2,a=this.rules={skip:[],cancel:[],join:[]};a.join.push(function(e,t,i){return!t.structural&&n(t.options)}),a.skip.push(function(e,t,i){return!t.structural&&!n(t.options)}),a.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),a.skip.push(function(e,t,n){return n.structural&&n.state===r&&!t.structural}),a.cancel.push(function(e,t,n){return n.structural&&t.structural}),a.cancel.push(function(e,t,n){return n.state===r&&t.structural}),a.cancel.push(function(e,t,n){var i=t.options,o=n.options;return i.addClass&&i.addClass===o.removeClass||i.removeClass&&i.removeClass===o.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(a,s,l,d,h,v,_,k,E,w){function C(){var e=!1;return function(t){e?t():s.$$postDigest(function(){e=!0,t()})}}function A(e,t){return g(e,t,{})}function I(e,t,n){var i=b(t),o=b(e),r=[],a=q[n];return a&&R(a,function(e){e.node.contains(i)?r.push(e.callback):"leave"===n&&e.node.contains(o)&&r.push(e.callback)}),r}function x(e,i,u){function l(t,n,i,o){E(function(){var t=I(h,e,n);t.length&&a(function(){R(t,function(t){t(e,i,o)})})}),t.progress(n,i,o)}function d(t){y(e,u),J(e,u),p(e,u),u.domOperation(),k.complete(!t)}var m,h;e=c(e),e&&(m=b(e),h=e.parent()),u=f(u);var k=new _,E=C();if(U(u.addClass)&&(u.addClass=u.addClass.join(" ")),u.addClass&&!F(u.addClass)&&(u.addClass=null),U(u.removeClass)&&(u.removeClass=u.removeClass.join(" ")),u.removeClass&&!F(u.removeClass)&&(u.removeClass=null),u.from&&!V(u.from)&&(u.from=null),u.to&&!V(u.to)&&(u.to=null),!m)return d(),k;var w=[m.className,u.addClass,u.removeClass].join(" ");if(!X(w))return d(),k;var x=["enter","move","leave"].indexOf(i)>=0,S=!H||L.get(m),P=!S&&O.get(m)||{},q=!!P.state;if(S||q&&P.state==o||(S=!N(e,h,i)),S)return d(),k;x&&M(e);var j={structural:x,element:e,event:i,close:d,options:u,runner:k};if(q){var B=t("skip",e,j,P);if(B)return P.state===r?(d(),k):(g(e,P.options,u),P.runner);var G=t("cancel",e,j,P);if(G)if(P.state===r)P.runner.end();else{if(!P.structural)return g(e,P.options,j.options),P.runner;P.close()}else{var z=t("join",e,j,P);if(z){if(P.state!==r)return $(e,x?i:null,u),i=j.event=P.event,u=g(e,P.options,j.options),P.runner;A(e,u)}}}else A(e,u);var Y=j.structural;if(Y||(Y="animate"===j.event&&Object.keys(j.options.to||{}).length>0||n(j.options)),!Y)return d(),T(e),k;var W=(P.counter||0)+1;return j.counter=W,D(e,o,j),s.$$postDigest(function(){var t=O.get(m),o=!t;t=t||{};var a=e.parent()||[],s=a.length>0&&("animate"===t.event||t.structural||n(t.options));if(o||t.counter!==W||!s)return o&&(J(e,u),p(e,u)),(o||x&&t.event!==i)&&(u.domOperation(),k.end()),void(s||T(e));i=!t.structural&&n(t.options,!0)?"setClass":t.event,D(e,r);var c=v(e,i,t.options);c.done(function(t){d(!t);var n=O.get(m);n&&n.counter===W&&T(b(e)),l(k,i,"close",{})}),k.setHost(c),l(k,i,"start",{})}),k}function M(e){var t=b(e),n=t.querySelectorAll("["+Ae+"]");R(n,function(e){var t=parseInt(e.getAttribute(Ae)),n=O.get(e);switch(t){case r:n.runner.end();case o:n&&O.remove(e)}})}function T(e){var t=b(e);t.removeAttribute(Ae),O.remove(t)}function S(e,t){return b(e)===b(t)}function N(e,t,n){var i,o=B(d[0].body),r=S(e,o)||"HTML"===e[0].nodeName,a=S(e,l),s=!1,c=e.data(Ie);for(c&&(t=c);t&&t.length;){a||(a=S(t,l));var u=t[0];if(u.nodeType!==K)break;var m=O.get(u)||{};if(s||(s=m.structural||L.get(u)),G(i)||i===!0){var f=t.data(te);z(f)&&(i=f)}if(s&&i===!1)break;a||(a=S(t,l),a||(c=t.data(Ie),c&&(t=c))),r||(r=S(t,o)),t=t.parent()}var p=!s||i;return p&&a&&r}function D(e,t,n){n=n||{},n.state=t;var i=b(e);i.setAttribute(Ae,t);var o=O.get(i),r=o?j(o,n):n;O.put(i,r)}var O=new h,L=new h,H=null,P=s.$watch(function(){return 0===k.totalPendingRequests},function(e){e&&(P(),s.$$postDigest(function(){s.$$postDigest(function(){null===H&&(H=!0)})}))}),q={},Y=e.classNameFilter(),X=Y?function(e){return Y.test(e)}:function(){return!0},J=m(E);return{on:function(e,t,n){var i=u(t);q[e]=q[e]||[],q[e].push({node:i,callback:n})},off:function(e,t,n){function i(e,t,n){var i=u(t);return e.filter(function(e){var t=e.node===i&&(!n||e.callback===n);return!t})}var o=q[e];o&&(q[e]=1===arguments.length?null:i(o,t,n))},pin:function(e,t){i(W(e),"element","not an element"),i(W(t),"parentElement","not an element"),e.data(Ie,t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,x(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!H;else{var i=W(e);if(i){var o=b(e),r=L.get(o);1===n?t=!r:(t=!!t,t?r&&L.remove(o):L.put(o,!0))}else t=H=!!e}return t}}}]}],Me=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}],Te=["$q","$sniffer","$$animateAsyncRun",function(e,t,n){function i(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=n(),this._state=0}var o=0,r=1,a=2;return i.chain=function(e,t){function n(){return i===e.length?void t(!0):void e[i](function(e){return e===!1?void t(!1):(i++,void n())})}var i=0;n()},i.all=function(e,t){function n(n){o=o&&n,++i===e.length&&t(o)}var i=0,o=!0;R(e,function(e){e.done(n)})},i.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===a?e():this._doneCallbacks.push(e)},progress:q,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===o&&(t._state=r,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){this._state!==a&&(R(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=a)}},i}],Se=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function i(e){return e.data(s)}var r="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,s,c,u,l,d){function h(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,i=n.parentNode;r.put(n,e);for(var a;i;){if(a=r.get(i)){a.processed||(a=t(a));break}i=i.parentNode}return(a||o).children.push(e),e}function n(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);var o=i.length,r=0,a=[];for(t=0;t<i.length;t++){var s=i[t];0>=o&&(o=r,r=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){r++,i.push(e)}),o--}return a.length&&n.push(a),n}var i,o={children:[]},r=new l;for(i=0;i<e.length;i++){var a=e[i];r.put(a.domNode,e[i]={domNode:a.domNode,fn:a.fn,children:[]})}for(i=0;i<e.length;i++)t(e[i]);return n(o)}var v=[],g=m(e);return function(l,m,_){function $(e){var t="["+r+"]",n=e.hasAttribute(r)?[e]:e.querySelectorAll(t),i=[];return R(n,function(e){var t=e.getAttribute(r);t&&t.length&&i.push(e)}),i}function y(e){var t=[],n={};R(e,function(e,i){var o=e.element,a=b(o),s=e.event,c=["enter","move"].indexOf(s)>=0,u=e.structural?$(a):[];if(u.length){var l=c?"to":"from";R(u,function(e){var t=e.getAttribute(r);n[t]=n[t]||{},n[t][l]={animationID:i,element:B(e)}})}else t.push(e)});var i={},o={};return R(n,function(n,r){var a=n.from,s=n.to;if(!a||!s){var c=a?a.animationID:s.animationID,u=c.toString();return void(i[u]||(i[u]=!0,t.push(e[c])))}var l=e[a.animationID],d=e[s.animationID],m=a.animationID.toString();if(!o[m]){var f=o[m]={structural:!0,beforeStart:function(){l.beforeStart(),d.beforeStart()},close:function(){l.close(),d.close()},classes:k(l.classes,d.classes),from:l,to:d,anchors:[]};f.classes.length?t.push(f):(t.push(l),t.push(d))}o[m].anchors.push({out:a.element,"in":s.element})}),t}function k(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var o=e[i];if("ng-"!==o.substring(0,3))for(var r=0;r<t.length;r++)if(o===t[r]){n.push(o);break}}return n.join(" ")}function E(e){for(var t=a.length-1;t>=0;t--){var n=a[t];if(c.has(n)){var i=c.get(n),o=i(e);if(o)return o}}}function w(){l.addClass(ee),S&&e.addClass(l,S)}function C(e,t){function n(e){i(e).setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function A(){var e=i(l);!e||"leave"===m&&_.$$domOperationFired||e.end()}function I(t){l.off("$destroy",A),n(l),g(l,_),p(l,_),_.domOperation(),S&&e.removeClass(l,S),l.removeClass(ee),M.complete(!t)}_=f(_);var x=["enter","move","leave"].indexOf(m)>=0,M=new u({end:function(){I()},cancel:function(){I(!0)}});if(!a.length)return I(),M;t(l,M);var T=o(l.attr("class"),o(_.addClass,_.removeClass)),S=_.tempClasses;return S&&(T+=" "+S,_.tempClasses=null),v.push({element:l,classes:T,event:m,structural:x,options:_,beforeStart:w,close:I}),l.on("$destroy",A),v.length>1?M:(s.$$postDigest(function(){var e=[];R(v,function(t){i(t.element)?e.push(t):t.close()}),v.length=0;var t=y(e),n=[];R(t,function(e){n.push({domNode:b(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close,o=e.anchors?e.from.element||e.to.element:e.element;if(i(o)){var r=E(e);r&&(t=r.start)}if(t){var a=t();a.done(function(e){n(!e)}),C(e,a)}else n()}})}),d(h(n))}),M)}}]}];t.module("ngAnimate",[]).directive("ngAnimateChildren",he).factory("$$rAFScheduler",pe).factory("$$AnimateRunner",Te).factory("$$animateAsyncRun",Me).provider("$$animateQueue",xe).provider("$$animation",Se).provider("$animateCss",ke).provider("$$animateCssDriver",Ee).provider("$$animateJs",we).provider("$$animateJsDriver",Ce)}(window,window.angular)},function(e,t,n){n(8),e.exports="ngAria"},function(e,t){/**
	 * @license AngularJS v1.4.8
	 * (c) 2010-2015 Google, Inc. http://angularjs.org
	 * License: MIT
	 */
!function(e,t,n){"use strict";function i(){function e(e,t,i,o){return function(r,s,c){var u=c.$normalize(t);!n[u]||a(s,i)||c[u]||r.$watch(c[e],function(e){e=o?!e:!!e,s.attr(t,e)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaMultiline:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};this.config=function(e){n=t.extend(n,e)},this.$get=function(){return{config:function(e){return n[e]},$$watchExpr:e}}}var o=t.module("ngAria",["ng"]).provider("$aria",i),r=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],a=function(e,t){return-1!==t.indexOf(e[0].nodeName)?!0:void 0};o.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngModel",["$aria",function(e){function t(t,n,i){return e.config(n)&&!i.attr(t)}function n(e,t){return!t.attr("role")&&t.attr("type")===e&&"INPUT"!==t[0].nodeName}function i(e,t){var n=e.type,i=e.role;return"checkbox"===(n||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(n||i)||"menuitemradio"===i?"radio":"range"===n||"progressbar"===i||"slider"===i?"range":"textbox"===(n||i)||"TEXTAREA"===t[0].nodeName?"multiline":""}return{restrict:"A",require:"?ngModel",priority:200,compile:function(o,s){var c=i(s,o);return{pre:function(e,t,n,i){"checkbox"===c&&"checkbox"!==n.type&&(i.$isEmpty=function(e){return e===!1})},post:function(i,o,s,u){function l(){return u.$modelValue}function d(){return f?(f=!1,function(e){var t=s.value==u.$viewValue;o.attr("aria-checked",t),o.attr("tabindex",0-!t)}):function(e){o.attr("aria-checked",s.value==u.$viewValue)}}function m(){o.attr("aria-checked",!u.$isEmpty(u.$viewValue))}var f=t("tabindex","tabindex",o)&&!a(o,r);switch(c){case"radio":case"checkbox":n(c,o)&&o.attr("role",c),t("aria-checked","ariaChecked",o)&&i.$watch(l,"radio"===c?d():m),f&&o.attr("tabindex",0);break;case"range":if(n(c,o)&&o.attr("role","slider"),e.config("ariaValue")){var p=!o.attr("aria-valuemin")&&(s.hasOwnProperty("min")||s.hasOwnProperty("ngMin")),h=!o.attr("aria-valuemax")&&(s.hasOwnProperty("max")||s.hasOwnProperty("ngMax")),v=!o.attr("aria-valuenow");p&&s.$observe("min",function(e){o.attr("aria-valuemin",e)}),h&&s.$observe("max",function(e){o.attr("aria-valuemax",e)}),v&&i.$watch(l,function(e){o.attr("aria-valuenow",e)})}f&&o.attr("tabindex",0);break;case"multiline":t("aria-multiline","ariaMultiline",o)&&o.attr("aria-multiline",!0)}u.$validators.required&&t("aria-required","ariaRequired",o)&&i.$watch(function(){return u.$error.required},function(e){o.attr("aria-required",!!e)}),t("aria-invalid","ariaInvalid",o)&&i.$watch(function(){return u.$invalid},function(e){o.attr("aria-invalid",!!e)})}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled",[])}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t,n,i){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(n,i){var o=t(i.ngClick,null,!0);return function(t,n,i){a(n,r)||(e.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),e.config("bindKeypress")&&!i.ngKeypress&&n.on("keypress",function(e){function n(){o(t,{$event:e})}var i=e.which||e.keyCode;(32===i||13===i)&&t.$apply(n)}))}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,n,i){!e.config("tabindex")||n.attr("tabindex")||a(n,r)||n.attr("tabindex",0)}}])}(window,window.angular)},function(e,t,n){/*!
	 * angular-cache
	 * @version 4.4.2 - Homepage <http://jmdobry.github.io/angular-cache/>
	 * @author Jason Dobry <jason.dobry@gmail.com>
	 * @copyright (c) 2013-2015 Jason Dobry 
	 * @license MIT <https://github.com/jmdobry/angular-cache/blob/master/LICENSE>
	 * 
	 * @overview angular-cache is a very useful replacement for Angular's $cacheFactory.
	 */
!function(t,i){e.exports=i(n(3))}(this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(1),r=n(2);r.utils.equals=o.equals,r.utils.isObject=o.isObject,r.utils.fromJson=o.fromJson;var a=function u(){i(this,u),this.$get=function(){return r.BinaryHeap}},s=function l(){i(this,l),this.defaults=r.defaults,this.defaults.storagePrefix="angular-cache.caches.",this.$get=["$q",function(e){return r.utils.Promise=e,r}]};o.module("angular-cache",[]).provider("BinaryHeap",a).provider("CacheFactory",s),e.exports="angular-cache";try{e.exports.name="angular-cache"}catch(c){}},function(t,n){t.exports=e},function(e,t,n){/*!
		 * cachefactory
		 * @version 1.2.0 - Homepage <http://jmdobry.github.io/cachefactory/>
		 * @author Jason Dobry <jason.dobry@gmail.com>
		 * @copyright (c) 2013-2015 Jason Dobry 
		 * @license MIT <https://github.com/jmdobry/cachefactory/blob/master/LICENSE>
		 * 
		 * @overview cachefactory is a very useful replacement for Angular's $cacheFactory.
		 */
!function(t,n){e.exports=n()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function i(e,t){return p(e,t)}var o=n(1),r=null;try{r=window.Promise}catch(a){}var s={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isObject:function(e){return null!==e&&"object"==typeof e},isFunction:function(e){return"function"==typeof e},fromJson:function(e){return JSON.parse(e)},equals:function(e,t){return e===t},Promise:r},c=function(e){var t=[],n=void 0;for(n in e)e.hasOwnProperty(n)&&t.push(n);return t},u=function(e){return e&&"function"==typeof e.then},l=function(e){return s.isNumber(e)?e.toString():e},d=function(e){var t={},n=void 0;for(n in e)e.hasOwnProperty(n)&&(t[n]=n);return t},m={capacity:Number.MAX_VALUE,maxAge:Number.MAX_VALUE,deleteOnExpire:"none",onExpire:null,cacheFlushInterval:null,recycleFreq:1e3,storageMode:"memory",storageImpl:null,disabled:!1,storagePrefix:"cachefactory.caches.",storeOnResolve:!1,storeOnReject:!1},f={},p=function(e,t){if(e in f)throw new Error(e+" already exists!");if(!s.isString(e))throw new Error("cacheId must be a string!");var n={},i={},r=null,a=new o(function(e){return e.expires},s.equals),p=new o(function(e){return e.accessed},s.equals),h=f[e]={$$id:e,destroy:function(){clearInterval(this.$$cacheFlushIntervalId),clearInterval(this.$$recycleFreqId),this.removeAll(),r&&(r().removeItem(this.$$prefix+".keys"),r().removeItem(this.$$prefix)),r=null,n=null,p=null,a=null,this.$$prefix=null,delete f[this.$$id]},disable:function(){this.$$disabled=!0},enable:function(){delete this.$$disabled},get:function(e,t){var o=this;if(Array.isArray(e)){var a=function(){var n=e,i=[];return n.forEach(function(e){var n=o.get(e,t);null!==n&&void 0!==n&&i.push(n)}),{v:i}}();if("object"==typeof a)return a.v}else if(e=l(e),this.$$disabled)return;if(t=t||{},!s.isString(e))throw new Error("key must be a string!");if(t&&!s.isObject(t))throw new Error("options must be an object!");if(t.onExpire&&!s.isFunction(t.onExpire))throw new Error("options.onExpire must be a function!");var c=void 0;if(r){if(i[e])return i[e];var u=r().getItem(this.$$prefix+".data."+e);if(!u)return;c=s.fromJson(u)}else{if(!(e in n))return;c=n[e]}var d=c.value,m=(new Date).getTime();return r?(p.remove({key:e,accessed:c.accessed}),c.accessed=m,p.push({key:e,accessed:m})):(p.remove(c),c.accessed=m,p.push(c)),"passive"===this.$$deleteOnExpire&&"expires"in c&&c.expires<m?(this.remove(e),this.$$onExpire?this.$$onExpire.call(this,e,c.value,t.onExpire):t.onExpire&&t.onExpire.call(this,e,c.value),d=void 0):r&&r().setItem(this.$$prefix+".data."+e,JSON.stringify(c)),d},info:function(e){if(e){var t=void 0;if(r){var i=r().getItem(this.$$prefix+".data."+e);return i?(t=s.fromJson(i),{created:t.created,accessed:t.accessed,expires:t.expires,isExpired:(new Date).getTime()-t.created>(t.maxAge||this.$$maxAge)}):void 0}return e in n?(t=n[e],{created:t.created,accessed:t.accessed,expires:t.expires,isExpired:(new Date).getTime()-t.created>(t.maxAge||this.$$maxAge)}):void 0}return{id:this.$$id,capacity:this.$$capacity,maxAge:this.$$maxAge,deleteOnExpire:this.$$deleteOnExpire,onExpire:this.$$onExpire,cacheFlushInterval:this.$$cacheFlushInterval,recycleFreq:this.$$recycleFreq,storageMode:this.$$storageMode,storageImpl:r?r():void 0,disabled:!!this.$$disabled,size:p&&p.size()||0}},keys:function(){if(r){var e=r().getItem(this.$$prefix+".keys");return e?s.fromJson(e):[]}return c(n)},keySet:function(){if(r){var e=r().getItem(this.$$prefix+".keys"),t={};if(e)for(var i=s.fromJson(e),o=0;o<i.length;o++)t[i[o]]=i[o];return t}return d(n)},put:function(e,t,o){var c=this;o=o||{};var d="storeOnResolve"in o?!!o.storeOnResolve:this.$$storeOnResolve,m="storeOnReject"in o?!!o.storeOnReject:this.$$storeOnReject,f=function(t,n){return function(o){if(t&&(delete i[e],s.isObject(o)&&"status"in o&&"data"in o?(o=[o.status,o.data,o.headers(),o.statusText],c.put(e,o)):c.put(e,o)),n){if(s.Promise)return s.Promise.reject(o);throw o}return o}};if(!this.$$disabled&&null!==t&&void 0!==t){if(e=l(e),!s.isString(e))throw new Error("key must be a string!");var h=(new Date).getTime(),v={key:e,value:u(t)?t.then(f(d,!1),f(m,!0)):t,created:h,accessed:h};if(o.maxAge&&(v.maxAge=o.maxAge),v.expires=v.created+(v.maxAge||this.$$maxAge),r){if(u(v.value))return i[e]=v.value,i[e];var g=r().getItem(this.$$prefix+".keys"),_=g?s.fromJson(g):[],b=r().getItem(this.$$prefix+".data."+e);b&&this.remove(e),a.push({key:e,expires:v.expires}),p.push({key:e,accessed:v.accessed}),r().setItem(this.$$prefix+".data."+e,JSON.stringify(v));for(var $=!1,y=0;y<_.length;y++)if(_[y]===e){$=!0;break}$||_.push(e),r().setItem(this.$$prefix+".keys",JSON.stringify(_))}else n[e]&&this.remove(e),a.push(v),p.push(v),n[e]=v,delete i[e];return p.size()>this.$$capacity&&this.remove(p.peek().key),t}},remove:function(e){if(e+="",delete i[e],!r){var t=n[e]?n[e].value:void 0;return p.remove(n[e]),a.remove(n[e]),n[e]=null,delete n[e],t}var o=r().getItem(this.$$prefix+".data."+e);if(o){var c=s.fromJson(o);p.remove({key:e,accessed:c.accessed}),a.remove({key:e,expires:c.expires}),r().removeItem(this.$$prefix+".data."+e);var u=r().getItem(this.$$prefix+".keys"),l=u?s.fromJson(u):[],d=l.indexOf(e);return d>=0&&l.splice(d,1),r().setItem(this.$$prefix+".keys",JSON.stringify(l)),c.value}},removeAll:function(){if(r){p.removeAll(),a.removeAll();var e=r().getItem(this.$$prefix+".keys");if(e)for(var t=s.fromJson(e),o=0;o<t.length;o++)this.remove(t[o]);r().setItem(this.$$prefix+".keys",JSON.stringify([]))}else{p.removeAll(),a.removeAll();for(var c in n)n[c]=null;n={}}i={}},removeExpired:function(){for(var e=(new Date).getTime(),t={},n=void 0,i=void 0;(i=a.peek())&&i.expires<=e;)t[i.key]=i.value?i.value:null,a.pop();if(r)for(n in t){var o=r().getItem(this.$$prefix+".data."+n);o&&(t[n]=s.fromJson(o).value,this.remove(n))}else for(n in t)this.remove(n);if(this.$$onExpire)for(n in t)this.$$onExpire.call(this,n,t[n]);return t},setCacheFlushInterval:function(e){if(null===e)delete this.$$cacheFlushInterval;else{if(!s.isNumber(e))throw new Error("cacheFlushInterval must be a number!");if(0>e)throw new Error("cacheFlushInterval must be greater than zero!");e!==this.$$cacheFlushInterval&&(this.$$cacheFlushInterval=e,clearInterval(this.$$cacheFlushIntervalId),function(e){e.$$cacheFlushIntervalId=setInterval(function(){e.removeAll()},e.$$cacheFlushInterval)}(this))}},setCapacity:function(e){if(null===e)delete this.$$capacity;else{if(!s.isNumber(e))throw new Error("capacity must be a number!");if(0>e)throw new Error("capacity must be greater than zero!");this.$$capacity=e}for(var t={};p.size()>this.$$capacity;)t[p.peek().key]=this.remove(p.peek().key);return t},setDeleteOnExpire:function(e,t){if(null===e)delete this.$$deleteOnExpire;else{if(!s.isString(e))throw new Error("deleteOnExpire must be a string!");if("none"!==e&&"passive"!==e&&"aggressive"!==e)throw new Error('deleteOnExpire must be "none", "passive" or "aggressive"!');this.$$deleteOnExpire=e}t!==!1&&this.setRecycleFreq(this.$$recycleFreq)},setMaxAge:function(e){if(null===e)this.$$maxAge=Number.MAX_VALUE;else{if(!s.isNumber(e))throw new Error("maxAge must be a number!");if(0>e)throw new Error("maxAge must be greater than zero!");this.$$maxAge=e}var t=void 0,i=void 0,o=void 0;if(a.removeAll(),r){var u=r().getItem(this.$$prefix+".keys");for(i=u?s.fromJson(u):[],t=0;t<i.length;t++){o=i[t];var l=r().getItem(this.$$prefix+".data."+o);if(l){var d=s.fromJson(l);this.$$maxAge===Number.MAX_VALUE?d.expires=Number.MAX_VALUE:d.expires=d.created+(d.maxAge||this.$$maxAge),a.push({key:o,expires:d.expires})}}}else for(i=c(n),t=0;t<i.length;t++)o=i[t],this.$$maxAge===Number.MAX_VALUE?n[o].expires=Number.MAX_VALUE:n[o].expires=n[o].created+(n[o].maxAge||this.$$maxAge),a.push(n[o]);return"aggressive"===this.$$deleteOnExpire?this.removeExpired():{}},setOnExpire:function(e){if(null===e)delete this.$$onExpire;else{if(!s.isFunction(e))throw new Error("onExpire must be a function!");this.$$onExpire=e}},setOptions:function(e,t){if(e=e||{},t=!!t,!s.isObject(e))throw new Error("cacheOptions must be an object!");"storagePrefix"in e?this.$$storagePrefix=e.storagePrefix:t&&(this.$$storagePrefix=m.storagePrefix),this.$$prefix=this.$$storagePrefix+this.$$id,"disabled"in e?this.$$disabled=!!e.disabled:t&&(this.$$disabled=m.disabled),"storageMode"in e||"storageImpl"in e?this.setStorageMode(e.storageMode||m.storageMode,e.storageImpl||m.storageImpl):t&&this.setStorageMode(m.storageMode,m.storageImpl),"storeOnResolve"in e?this.$$storeOnResolve=!!e.storeOnResolve:t&&(this.$$storeOnResolve=m.storeOnResolve),"storeOnReject"in e?this.$$storeOnReject=!!e.storeOnReject:t&&(this.$$storeOnReject=m.storeOnReject),"capacity"in e?this.setCapacity(e.capacity):t&&this.setCapacity(m.capacity),"deleteOnExpire"in e?this.setDeleteOnExpire(e.deleteOnExpire,!1):t&&this.setDeleteOnExpire(m.deleteOnExpire,!1),"maxAge"in e?this.setMaxAge(e.maxAge):t&&this.setMaxAge(m.maxAge),"recycleFreq"in e?this.setRecycleFreq(e.recycleFreq):t&&this.setRecycleFreq(m.recycleFreq),"cacheFlushInterval"in e?this.setCacheFlushInterval(e.cacheFlushInterval):t&&this.setCacheFlushInterval(m.cacheFlushInterval),"onExpire"in e?this.setOnExpire(e.onExpire):t&&this.setOnExpire(m.onExpire)},setRecycleFreq:function(e){if(null===e)delete this.$$recycleFreq;else{if(!s.isNumber(e))throw new Error("recycleFreq must be a number!");if(0>e)throw new Error("recycleFreq must be greater than zero!");this.$$recycleFreq=e}clearInterval(this.$$recycleFreqId),"aggressive"===this.$$deleteOnExpire?!function(e){e.$$recycleFreqId=setInterval(function(){e.removeExpired()},e.$$recycleFreq)}(this):delete this.$$recycleFreqId},setStorageMode:function(e,t){if(!s.isString(e))throw new Error("storageMode must be a string!");if("memory"!==e&&"localStorage"!==e&&"sessionStorage"!==e)throw new Error('storageMode must be "memory", "localStorage" or "sessionStorage"!');var n=!1,i={},o=this.keys();if(o.length){for(var a=0;a<o.length;a++)i[o[a]]=this.get(o[a]);for(a=0;a<o.length;a++)this.remove(o[a]);n=!0}if(this.$$storageMode=e,t){if(!s.isObject(t))throw new Error("storageImpl must be an object!");if(!("setItem"in t&&"function"==typeof t.setItem))throw new Error('storageImpl must implement "setItem(key, value)"!');if(!("getItem"in t&&"function"==typeof t.getItem))throw new Error('storageImpl must implement "getItem(key)"!');if(!("removeItem"in t)||"function"!=typeof t.removeItem)throw new Error('storageImpl must implement "removeItem(key)"!');r=function(){return t}}else if("localStorage"===this.$$storageMode)try{localStorage.setItem("cachefactory","cachefactory"),localStorage.removeItem("cachefactory"),r=function(){return localStorage}}catch(c){r=null,this.$$storageMode="memory"}else if("sessionStorage"===this.$$storageMode)try{sessionStorage.setItem("cachefactory","cachefactory"),sessionStorage.removeItem("cachefactory"),r=function(){return sessionStorage}}catch(c){r=null,this.$$storageMode="memory"}if(n)for(var u in i)this.put(u,i[u])},touch:function(e){var t=this;if(e){var n=this.get(e,{onExpire:function(e,n){return t.put(e,n)}});n&&this.put(e,n)}else for(var i=this.keys(),o=0;o<i.length;o++)this.touch(i[o])}};return h.setOptions(t,!0),h};i.createCache=p,i.defaults=m,i.info=function(){var e=c(f),t={size:e.length,caches:{}};for(var n in m)m.hasOwnProperty(n)&&(t[n]=m[n]);for(var i=0;i<e.length;i++){var o=e[i];t.caches[o]=f[o].info()}return t},i.get=function(e){return f[e]},i.keySet=function(){return d(f)},i.keys=function(){return c(f)},i.destroy=function(e){f[e]&&(f[e].destroy(),delete f[e])},i.destroyAll=function(){for(var e in f)f[e].destroy();f={}},i.clearAll=function(){for(var e in f)f[e].removeAll()},i.removeExpiredFromAll=function(){var e={};for(var t in f)e[t]=f[t].removeExpired();return e},i.enableAll=function(){for(var e in f)f[e].$$disabled=!1},i.disableAll=function(){for(var e in f)f[e].$$disabled=!0},i.touchAll=function(){for(var e in f)f[e].touch()},i.utils=s,i.BinaryHeap=o,e.exports=i},function(e,t,n){/*!
			 * yabh
			 * @version 1.1.0 - Homepage <http://jmdobry.github.io/yabh/>
			 * @author Jason Dobry <jason.dobry@gmail.com>
			 * @copyright (c) 2015 Jason Dobry 
			 * @license MIT <https://github.com/jmdobry/yabh/blob/master/LICENSE>
			 * 
			 * @overview Yet another Binary Heap.
			 */
!function(t,n){e.exports=n()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function i(e,t,n){for(var i=e[n],o=t(i);n>0;){var r=Math.floor((n+1)/2)-1,a=e[r];if(o>=t(a))break;e[r]=i,e[n]=a,n=r}}function o(e,t){if(e||(e=function(e){return e}),t||(t=function(e,t){return e===t}),"function"!=typeof e)throw new Error('BinaryHeap([weightFunc][, compareFunc]): "weightFunc" must be a function!');if("function"!=typeof t)throw new Error('BinaryHeap([weightFunc][, compareFunc]): "compareFunc" must be a function!');this.weightFunc=e,this.compareFunc=t,this.heap=[]}var r=function(e,t,n){for(var i=e.length,o=e[n],r=t(o);;){var a=2*(n+1),s=a-1,c=null;if(i>s){var u=e[s],l=t(u);r>l&&(c=s)}if(i>a){var d=e[a],m=t(d);m<(null===c?r:t(e[s]))&&(c=a)}if(null===c)break;e[n]=e[c],e[c]=o,n=c}},a=o.prototype;a.push=function(e){this.heap.push(e),i(this.heap,this.weightFunc,this.heap.length-1)},a.peek=function(){return this.heap[0]},a.pop=function(){var e=this.heap[0],t=this.heap.pop();return this.heap.length>0&&(this.heap[0]=t,r(this.heap,this.weightFunc,0)),e},a.remove=function(e){for(var t=this.heap.length,n=0;t>n;n++)if(this.compareFunc(this.heap[n],e)){var o=this.heap[n],a=this.heap.pop();return n!==t-1&&(this.heap[n]=a,i(this.heap,this.weightFunc,n),r(this.heap,this.weightFunc,n)),o}return null},a.removeAll=function(){this.heap=[]},a.size=function(){return this.heap.length},e.exports=o}])})}])})}])})},function(e,t,n){n(11),e.exports="ngCookies"},function(e,t){/**
	 * @license AngularJS v1.4.8
	 * (c) 2010-2015 Google, Inc. http://angularjs.org
	 * License: MIT
	 */
!function(e,t,n){"use strict";function i(e,n,i){function o(e,i,o){var a,s;o=o||{},s=o.expires,a=t.isDefined(o.path)?o.path:r,t.isUndefined(i)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",i=""),t.isString(s)&&(s=new Date(s));var c=encodeURIComponent(e)+"="+encodeURIComponent(i);c+=a?";path="+a:"",c+=o.domain?";domain="+o.domain:"",c+=s?";expires="+s.toUTCString():"",c+=o.secure?";secure":"";var u=c.length+1;return u>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+u+" > 4096 bytes)!"),c}var r=i.baseHref(),a=e[0];return function(e,t,n){a.cookie=o(e,t,n)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){function e(e){return e?t.extend({},i,e):i}var i=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(i,o){return{get:function(e){return i()[e]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return i()},put:function(t,n,i){o(t,n,e(i))},putObject:function(e,n,i){this.put(e,t.toJson(n),i)},remove:function(t,i){o(t,n,e(i))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),i.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=i})}(window,window.angular)},function(e,t,n){n(3),n(5),n(7),n(13),e.exports="ngMaterial"},function(e,t){/*!
	 * Angular Material Design
	 * https://github.com/angular/material
	 * @license MIT
	 * v1.0.1
	 */
!function(e,t,n){"use strict";!function(){t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.layout","material.core.theming.palette","material.core.theming","material.core.animate","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.fabTrigger","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.virtualRepeat","material.components.whiteframe"])}(),function(){function e(e,t){if(t.has("$swipe")){var n="You are using the ngTouch module. \nAngular Material already has mobile click, tap, and swipe support... \nngTouch is not supported with Angular Material!";e.warn(n)}}function n(e,t){e.decorator("$$rAF",["$delegate",i]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function i(e){return e.throttle=function(t){var n,i,o,r;return function(){n=arguments,r=this,o=t,i||(i=!0,e(function(){o.apply(r,Array.prototype.slice.call(n)),i=!1}))}},e}t.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.gestures","material.core.theming"]).config(n).run(e),e.$inject=["$log","$injector"],n.$inject=["$provide","$mdThemingProvider"]}(),function(){function e(e){function t(e){return n?"webkit"+e.charAt(0).toUpperCase()+e.substring(1):e}var n=/webkit/i.test(e.vendorPrefix);return{KEY_CODE:{COMMA:188,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(n?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(n?" webkitAnimationEnd":""),TRANSFORM:t("transform"),TRANSFORM_ORIGIN:t("transformOrigin"),TRANSITION:t("transition"),TRANSITION_DURATION:t("transitionDuration"),ANIMATION_PLAY_STATE:t("animationPlayState"),ANIMATION_DURATION:t("animationDuration"),ANIMATION_NAME:t("animationName"),ANIMATION_TIMING:t("animationTimingFunction"),ANIMATION_DIRECTION:t("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs"]}}t.module("material.core").factory("$mdConstant",e),e.$inject=["$sniffer"]}(),function(){function e(e,n){function i(){return[].concat(_)}function o(){return _.length}function r(e){return _.length&&e>-1&&e<_.length}function a(e){return e?r(m(e)+1):!1}function s(e){return e?r(m(e)-1):!1}function c(e){return r(e)?_[e]:null}function u(e,t){return _.filter(function(n){return n[e]===t})}function l(e,n){return e?(t.isNumber(n)||(n=_.length),_.splice(n,0,e),m(e)):-1}function d(e){f(e)&&_.splice(m(e),1)}function m(e){return _.indexOf(e)}function f(e){return e&&m(e)>-1}function p(){return _.length?_[0]:null}function h(){return _.length?_[_.length-1]:null}function v(e,i,o,a){o=o||g;for(var s=m(i);;){if(!r(s))return null;var c=s+(e?-1:1),u=null;if(r(c)?u=_[c]:n&&(u=e?h():p(),c=m(u)),null===u||c===a)return null;if(o(u))return u;t.isUndefined(a)&&(a=c),s=c}}var g=function(){return!0};e&&!t.isArray(e)&&(e=Array.prototype.slice.call(e)),n=!!n;var _=e||[];return{items:i,count:o,inRange:r,contains:f,indexOf:m,itemAt:c,findBy:u,add:l,remove:d,first:p,last:h,next:t.bind(null,v,!1),previous:t.bind(null,v,!0),hasPrevious:s,hasNext:a}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=e,t}])}])}(),function(){function e(e,n,i){function o(e){var n=m[e];t.isUndefined(n)&&(n=m[e]=r(e));var i=p[n];return t.isUndefined(i)&&(i=a(n)),i}function r(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function a(e){var t=f[e];return t||(t=f[e]=i.matchMedia(e)),t.addListener(s),p[t.media]=!!t.matches}function s(e){n.$evalAsync(function(){p[e.media]=!!e.matches})}function c(e){return f[e]}function u(t,n){for(var i=0;i<e.MEDIA_PRIORITY.length;i++){var o=e.MEDIA_PRIORITY[i];if(f[m[o]].matches){var r=d(t,n+"-"+o);if(t[r])return t[r]}}return t[d(t,n)]}function l(n,i,o){var r=[];return n.forEach(function(n){var a=d(i,n);t.isDefined(i[a])&&r.push(i.$observe(a,t.bind(void 0,o,null)));for(var s in e.MEDIA)a=d(i,n+"-"+s),t.isDefined(i[a])&&r.push(i.$observe(a,t.bind(void 0,o,s)))}),function(){r.forEach(function(e){e()})}}function d(e,t){return h[t]||(h[t]=e.$normalize(t))}var m={},f={},p={},h={};return o.getResponsiveAttribute=u,o.getQuery=c,o.watchResponsiveAttributes=l,o}t.module("material.core").factory("$mdMedia",e),e.$inject=["$mdConstant","$rootScope","$window"]}(),function(){function i(i,r,a,s,c,u,l,d,m){function f(e){return e[0]||e}var p=u.startSymbol(),h=u.endSymbol(),v="{{"===p&&"}}"===h,g=function(e,n,i){var o=!1;if(e&&e.length){var r=m.getComputedStyle(e[0]);o=t.isDefined(r[n])&&(i?r[n]==i:!0)}return o},_={dom:{},now:e.performance?t.bind(e.performance,e.performance.now):Date.now||function(){return(new Date).getTime()},clientRect:function(e,t,n){var i=f(e);t=f(t||i.offsetParent||document.body);var o=i.getBoundingClientRect(),r=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:o.left-r.left,top:o.top-r.top,width:o.width,height:o.height}},offsetRect:function(e,t){return _.clientRect(e,t,!0)},nodesToArray:function(e){e=e||[];for(var t=[],n=0;n<e.length;++n)t.push(e.item(n));return t},scrollTop:function(e){e=t.element(e||i[0].body);var o=e[0]==i[0].body?i[0].body:n,r=o?o.scrollTop+o.parentElement.scrollTop:0;return r||Math.abs(e[0].getBoundingClientRect().top)},findFocusTarget:function(e,n){function i(e,n){var i,o=e[0].querySelectorAll(n);if(o&&o.length){var r=/\s*\[?([\-a-z]*)\]?\s*/i,a=r.exec(n),s=a?a[1]:null;o.length&&t.forEach(o,function(e){e=t.element(e);var n=e[0].getAttribute(s),o=n&&_.validateScope(e)?e.scope().$eval(n)!==!1:!0;o&&(i=e)})}return i}var o,r="[md-autofocus]";return o=i(e,n||r),o||n==r||(o=i(e,"[md-auto-focus]"),o||(o=i(e,r))),o},disableScrollAround:function(e,n){function o(e){function n(e){}function o(e){e.preventDefault()}e=t.element(e||s)[0];var r=50,a=t.element('<div class="md-scroll-mask" style="z-index: '+r+'">  <div class="md-scroll-mask-bar"></div></div>');return e.appendChild(a[0]),a.on("wheel",o),a.on("touchmove",o),i.on("keydown",n),function(){a.off("wheel"),a.off("touchmove"),a[0].parentNode.removeChild(a[0]),i.off("keydown",n),delete _.disableScrollAround._enableScrolling}}function r(){var e=s.parentNode,t=e.getAttribute("style")||"",n=s.getAttribute("style")||"",i=_.scrollTop(s),o=s.clientWidth;return s.scrollHeight>s.clientHeight+1&&(a(s,{position:"fixed",width:"100%",top:-i+"px"}),a(e,{overflowY:"scroll"})),s.clientWidth<o&&a(s,{overflow:"hidden"}),function(){s.setAttribute("style",n),e.setAttribute("style",t),s.scrollTop=i,e.scrollTop=i}}function a(e,t){for(var n in t)e.style[n]=t[n]}if(_.disableScrollAround._count=_.disableScrollAround._count||0,++_.disableScrollAround._count,_.disableScrollAround._enableScrolling)return _.disableScrollAround._enableScrolling;e=t.element(e);var s=i[0].body,c=r(),u=o(n);return _.disableScrollAround._enableScrolling=function(){--_.disableScrollAround._count||(c(),u(),delete _.disableScrollAround._enableScrolling)}},enableScrolling:function(){var e=this.disableScrollAround._enableScrolling;e&&e()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var e=t.element('<div style="width: 100%; z-index: -1; position: absolute; height: 35px; overflow-y: scroll"><div style="height: 60px;"></div></div>');i[0].body.appendChild(e[0]),this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth,e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function o(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",o))},!0);var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!1,!0,e,{},0,0,0,0,!1,!1,!1,!1,0,null),i.$material=!0,i.$focus=!0,n.dispatchEvent(i)},createBackdrop:function(e,t){return a(_.supplant('<md-backdrop class="{0}">',[t]))(e)},supplant:function(e,t,n){return n=n||/\{([^\{\}]*)\}/g,e.replace(n,function(e,n){var i=n.split("."),o=t;try{for(var r in i)i.hasOwnProperty(r)&&(o=o[i[r]])}catch(a){o=e}return"string"==typeof o||"number"==typeof o?o:e})},fakeNgModel:function(){return{$fake:!0,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,i,o){var a;return function(){var s=i,c=Array.prototype.slice.call(arguments);r.cancel(a),a=r(function(){a=n,e.apply(s,c)},t||10,o)}},throttle:function(e,t){var n;return function(){var i=this,o=arguments,r=_.now();(!n||r-n>t)&&(e.apply(i,o),n=r)}},time:function(e){var t=_.now();return e(),_.now()-t},valueOnUse:function(e,t,n){var i=null,o=Array.prototype.slice.call(arguments),r=o.length>3?o.slice(3):[];Object.defineProperty(e,t,{get:function(){return null===i&&(i=n.apply(e,r)),i}})},nextUid:function(){return""+o++},validateScope:function(e){var n=e&&t.isDefined(e.scope());return n||l.warn("element.scope() is not available when 'debug mode' == false. @see https://docs.angularjs.org/guide/production!"),n},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,n,i){if(e instanceof t.element&&(e=e[0]),n=n.toUpperCase(),i&&(e=e.parentNode),!e)return null;do if(e.nodeName===n)return e;while(e=e.parentNode);return null},elementContains:function(n,i){var o=e.Node&&e.Node.prototype&&Node.prototype.contains,r=o?t.bind(n,n.contains):t.bind(n,function(e){return n===i||!!(16&this.compareDocumentPosition(e))});return r(i)},extractElementByName:function(e,n,i,o){function r(e){return a(e)||(i?s(e):null)}function a(e){if(e)for(var t=0,i=e.length;i>t;t++)if(e[t].nodeName.toLowerCase()===n)return e[t];return null}function s(e){var t;if(e)for(var n=0,i=e.length;i>n;n++){var o=e[n];if(!t)for(var a=0,s=o.childNodes.length;s>a;a++)t=t||r([o.childNodes[a]])}return t}var c=r(e);return!c&&o&&l.warn(_.supplant("Unable to find node '{0}' in element '{1}'.",[n,e[0].outerHTML])),t.element(c||e)},initOptionalProperties:function(e,n,i){i=i||{},t.forEach(e.$$isolateBindings,function(o,r){if(o.optional&&t.isUndefined(e[r])){var a=t.isDefined(n[o.attrName]);e[r]=t.isDefined(i[r])?i[r]:a}})},nextTick:function(e,t,n){function i(){var e=n&&n.$$destroyed,t=e?[]:o.queue,i=e?null:o.digest;o.queue=[],o.timeout=null,o.digest=!1,t.forEach(function(e){e()}),i&&s.$digest()}var o=_.nextTick,a=o.timeout,c=o.queue||[];return c.push(e),null==t&&(t=!0),o.digest=o.digest||t,o.queue=c,a||(o.timeout=r(i,0,!1))},processTemplate:function(e){return v?e:e&&t.isString(e)?e.replace(/\{\{/g,p).replace(/}}/g,h):e},getParentWithPointerEvents:function(e){for(var t=e.parent();g(t,"pointer-events","none");)t=t.parent();return t},getNearestContentElement:function(e){for(var t=e.parent()[0];t&&t!==d[0]&&t!==document.body&&"MD-CONTENT"!==t.nodeName.toUpperCase();)t=t.parentNode;return t},hasComputedStyle:g};return _.dom.animator=c(_),_}var o=0;t.module("material.core").factory("$mdUtil",i),i.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window"],t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this},t.element.prototype.blur=t.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function e(e,n,i){function o(e,i,o){var r=t.element(e)[0]||e;!r||r.hasAttribute(i)&&0!==r.getAttribute(i).length||c(r,i)||(o=t.isString(o)?o.trim():"",o.length?e.attr(i,o):n.warn('ARIA: Attribute "',i,'", required for accessibility, is missing on node:',r))}function r(t,n,i){e(function(){o(t,n,i())})}function a(e,t){r(e,t,function(){return s(e)})}function s(e){return e.text().trim()}function c(e,t){function n(e){var t=e.currentStyle?e.currentStyle:i.getComputedStyle(e);return"none"===t.display}var o=e.hasChildNodes(),r=!1;if(o)for(var a=e.childNodes,s=0;s<a.length;s++){var c=a[s];1===c.nodeType&&c.hasAttribute(t)&&(n(c)||(r=!0))}return r}return{expect:o,expectAsync:r,expectWithText:a}}t.module("material.core").service("$mdAria",e),e.$inject=["$$rAF","$log","$window"]}(),function(){function e(e,n,i,o,r,a){this.compile=function(s){var c=s.templateUrl,u=s.template||"",l=s.controller,d=s.controllerAs,m=t.extend({},s.resolve||{}),f=t.extend({},s.locals||{}),p=s.transformTemplate||t.identity,h=s.bindToController;return t.forEach(m,function(e,n){t.isString(e)?m[n]=i.get(e):m[n]=i.invoke(e)}),t.extend(m,f),c?m.$template=n.get(c,{cache:a}).then(function(e){return e.data}):m.$template=e.when(u),e.all(m).then(function(e){var n,i=p(e.$template,s),a=s.element||t.element("<div>").html(i.trim()).contents(),c=o(a);return n={locals:e,element:a,link:function(i){if(e.$scope=i,l){var o=r(l,e,!0);h&&t.extend(o.instance,e);var s=o();a.data("$ngControllerController",s),a.children().data("$ngControllerController",s),d&&(i[d]=s),n.controller=s}return c(i)}}})}}t.module("material.core").service("$mdCompiler",e),e.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]}(),function(){function n(){}function i(n,i,o){function r(e){return function(t,n){n.distance<this.state.options.maxDistance&&this.dispatchEvent(t,e,n)}}function a(e,t,n){var i=p[t.replace(/^\$md./,"")];if(!i)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(p).join(", "));return i.registerElement(e,n)}function c(e,i){var o=new n(e);return t.extend(o,i),p[e]=o,v}var u=navigator.userAgent||navigator.vendor||e.opera,d=u.match(/ipad|iphone|ipod/i),m=u.match(/android/i),f="undefined"!=typeof e.jQuery&&t.element===e.jQuery,v={handler:c,register:a,isHijackingClicks:(d||m)&&!f&&!h};if(v.isHijackingClicks){var g=6;v.handler("click",{options:{maxDistance:g},onEnd:r("click")}),v.handler("focus",{options:{maxDistance:g},onEnd:function(e,t){function n(e){var t=["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"];return"-1"!=e.getAttribute("tabindex")&&!e.hasAttribute("DISABLED")&&(e.hasAttribute("tabindex")||e.hasAttribute("href")||-1!=t.indexOf(e.nodeName))}t.distance<this.state.options.maxDistance&&n(e.target)&&(this.dispatchEvent(e,"focus",t),e.target.focus())}}),v.handler("mouseup",{options:{maxDistance:g},onEnd:r("mouseup")}),v.handler("mousedown",{onStart:function(e){this.dispatchEvent(e,"mousedown")}})}return v.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e,t){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){o.cancel(this.state.timeout)},onStart:function(e,n){return this.state.registeredParent?(this.state.pos={x:n.x,y:n.y},void(this.state.timeout=o(t.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(e,t){e.preventDefault();var n=this.state.pos.x-t.x,i=this.state.pos.y-t.y;Math.sqrt(n*n+i*i)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onStart:function(e){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,i;e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,i=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(t.distanceY)>this.state.options.minDistance,i=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=s(e),l(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):i&&this.cancel())},dispatchDragMove:i.throttle(function(e){this.state.isRunning&&(l(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e,t){this.state.dragPointer&&(l(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){var n;Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance?(n="left"==t.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(e,n)):Math.abs(t.velocityY)>this.state.options.minVelocity&&Math.abs(t.distanceY)>this.state.options.minDistance&&(n="up"==t.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(e,n))}})}function o(e){this.name=e,this.state={}}function r(){function n(e,n,i){i=i||m;var o=new t.element.Event(n);o.$material=!0,o.pointer=i,o.srcEvent=e,t.extend(o,{clientX:i.x,clientY:i.y,screenX:i.x,screenY:i.y,pageX:i.x,pageY:i.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),t.element(i.target).trigger(o)}function i(t,n,i){i=i||m;var o;"click"===n||"mouseup"==n||"mousedown"==n?(o=document.createEvent("MouseEvents"),o.initMouseEvent(n,!0,!0,e,t.detail,i.x,i.y,i.x,i.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(o=document.createEvent("CustomEvent"),o.initCustomEvent(n,!0,!0,{})),o.$material=!0,o.pointer=i,o.srcEvent=t,i.target.dispatchEvent(o)}var r="undefined"!=typeof e.jQuery&&t.element===e.jQuery;return o.prototype={options:{},dispatchEvent:r?n:i,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,n){if(!this.state.isRunning){var i=this.getNearestParent(e.target),o=i&&i.$mdGesture[this.name]||{};this.state={isRunning:!0,options:t.extend({},this.options,o),registeredParent:i},this.onStart(e,n)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(e,t){function n(){delete e[0].$mdGesture[i.name],e.off("$destroy",n)}var i=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",n),n}},o}function a(e,n){function i(e){var t=!e.clientX&&!e.clientY;t||e.$material||e.isIonicTap||u(e)||(e.preventDefault(),e.stopPropagation())}function o(e){var t=0===e.clientX&&0===e.clientY;t||e.$material||e.isIonicTap||u(e)?(v=null,"label"==e.target.tagName.toLowerCase()&&(v={x:e.x,y:e.y})):(e.preventDefault(),e.stopPropagation(),v=null)}function r(e,t){var i;for(var o in p)i=p[o],i instanceof n&&("start"===e&&i.cancel(),i[e](t,m))}function a(e){if(!m){var t=+Date.now();f&&!c(e,f)&&t-f.endTime<1500||(m=s(e),r("start",e))}}function d(e){m&&c(e,m)&&(l(e,m),r("move",e))}function h(e){m&&c(e,m)&&(l(e,m),m.endTime=+Date.now(),r("end",e),f=m,m=null)}document.contains||(document.contains=function(e){return document.body.contains(e)}),!g&&e.isHijackingClicks&&(document.addEventListener("click",o,!0),document.addEventListener("mouseup",i,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("focus",i,!0),g=!0);var _="mousedown touchstart pointerdown",b="mousemove touchmove pointermove",$="mouseup mouseleave touchend touchcancel pointerup pointercancel";t.element(document).on(_,a).on(b,d).on($,h).on("$$mdGestureReset",function(){f=m=null})}function s(e){var t=d(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}function c(e,t){return e&&t&&e.type.charAt(0)===t.type}function u(e){return v&&v.x==e.x&&v.y==e.y}function l(e,t){var n=d(e),i=t.x=n.pageX,o=t.y=n.pageY;t.distanceX=i-t.startX,t.distanceY=o-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"down":t.distanceY<0?"up":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function d(e){return e=e.originalEvent||e,e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}var m,f,p={},h=!1,v=null,g=!1;t.module("material.core.gestures",[]).provider("$mdGesture",n).factory("$$MdGestureHandler",r).run(a),n.prototype={skipClickHijack:function(){return h=!0},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new i(e,t,n)}]},i.$inject=["$$MdGestureHandler","$$rAF","$timeout"],a.$inject=["$mdGesture","$$MdGestureHandler"]}(),function(){function e(){function e(e){function n(e){return c.optionsFactory=e.options,c.methods=(e.methods||[]).concat(a),u}function i(e,t){return s[e]=t,u}function o(t,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return c.presets[t]={methods:n.methods.concat(a),optionsFactory:n.options,argOption:n.argOption},u}function r(n,i){function o(e){return e=e||{},e._options&&(e=e._options),d.show(t.extend({},l,e))}function r(e){return d.destroy(e)}function a(t,n){var o={};return o[e]=m,i.invoke(t||function(){return n},{},o)}var u,l,d=n(),m={hide:d.hide,cancel:d.cancel,show:o,destroy:r};return u=c.methods||[],l=a(c.optionsFactory,{}),t.forEach(s,function(e,t){m[t]=e}),t.forEach(c.presets,function(e,n){function i(e){this._options=t.extend({},o,e)}var o=a(e.optionsFactory,{}),r=(e.methods||[]).concat(u);if(t.extend(o,{$type:n}),t.forEach(r,function(e){i.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var s="show"+n.charAt(0).toUpperCase()+n.slice(1);m[s]=function(e){var t=m[n](e);return m.show(t)}}m[n]=function(n){return arguments.length&&e.argOption&&!t.isObject(n)&&!t.isArray(n)?(new i)[e.argOption](n):new i(n)}}),m}var a=["onHide","onShow","onRemove"],s={},c={presets:{}},u={setDefaults:n,addPreset:o,addMethod:i,$get:r};return u.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]}),r.$inject=["$$interimElement","$injector"],u}function i(e,i,o,r,a,s,c,u,l,d,m){return function(){function f(e){e=e||{};var t=new g(e||{}),n=!e.skipHide&&$.length?_.hide():i.when(!0);return n["finally"](function(){$.push(t),t.show()["catch"](function(e){return e})}),t.deferred.promise}function p(e,t){function o(n){return n.remove(e,!1,t||{})["catch"](function(e){return e}),n.deferred.promise}if(!$.length)return i.when(e);if(t=t||{},t.closeAll){var r=i.all($.reverse().map(o));return $=[],r}if(t.closeTo!==n)return i.all($.splice(t.closeTo).map(o));var a=$.pop();return o(a)}function h(e,t){var n=$.shift();return n?(n.remove(e,!0,t||{})["catch"](function(e){return e}),n.deferred.promise):i.when(e)}function v(e){var n=e?null:$.shift(),o=t.element(e).length?t.element(e)[0].parentNode:null;if(o){var r=$.filter(function(e){var t=e.options.element[0];return t===o});r.length>0&&(n=r[0],$.splice($.indexOf(n),1))}return n?n.remove(b,!1,{$destroy:!0}):i.when(b)}function g(m){function f(){return i(function(e,t){function n(e){E.deferred.reject(e),t(e)}v(m).then(function(t){w=g(t,m),C=y(w,m,t.controller).then(e,n)},n)})}function p(e,n,o){function r(e){E.deferred.resolve(e)}function a(e){E.deferred.reject(e)}return w?(m=t.extend(m||{},o||{}),m.cancelAutoHide&&m.cancelAutoHide(),m.element.triggerHandler("$mdInterimElementRemove"),m.$destroy===!0?k(m.element,m).then(function(){n&&a(e)||r(e)}):(i.when(C)["finally"](function(){k(m.element,m).then(function(){n&&a(e)||r(e)},a)}),E.deferred.promise)):i.when(!1)}function h(e){return e=e||{},e.template&&(e.template=u.processTemplate(e.template)),t.extend({preserveScope:!1,cancelAutoHide:t.noop,scope:e.scope||r.$new(e.isolateScope),onShow:function(e,t,n){return c.enter(t,n.parent)},onRemove:function(e,t){return t&&c.leave(t)||i.when()}},e)}function v(e){var t=e.skipCompile?null:l.compile(e);return t||i(function(t){t({locals:{},link:function(){return e.element}})})}function g(e,n){t.extend(e.locals,n);var i=e.link(n.scope);return n.element=i,n.parent=b(i,n),n.themable&&d(i),i}function b(n,i){var o=i.parent;if(o=t.isFunction(o)?o(i.scope,n,i):t.isString(o)?t.element(e[0].querySelector(o)):t.element(o),!(o||{}).length){var r;return s[0]&&s[0].querySelector&&(r=s[0].querySelector(":not(svg) > body")),r||(r=s[0]),"#comment"==r.nodeName&&(r=e[0].body),t.element(r)}return o}function $(){var e,i=t.noop;m.hideDelay&&(e=a(_.hide,m.hideDelay),i=function(){a.cancel(e)}),m.cancelAutoHide=function(){i(),m.cancelAutoHide=n}}function y(e,n,o){var r=n.onShowing||t.noop,a=n.onComplete||t.noop;return r(n.scope,e,n,o),i(function(t,r){try{i.when(n.onShow(n.scope,e,n,o)).then(function(){a(n.scope,e,n),$(),t(e)},r)}catch(s){r(s.message)}})}function k(e,n){var i=n.onRemoving||t.noop;return o(function(t,r){try{var a=o.when(n.onRemove(n.scope,e,n)||!0);i(e,a),1==n.$destroy?t(e):a.then(function(){!n.preserveScope&&n.scope&&n.scope.$destroy(),t(e)},r)}catch(s){r(s.message)}})}var E,w,C=i.when(!0);return m=h(m),E={options:m,deferred:i.defer(),show:f,remove:p}}var _,b=!1,$=[];return _={show:f,hide:p,cancel:h,destroy:v,$injector_:m}}}return e.$get=i,i.$inject=["$document","$q","$$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector"],e}t.module("material.core").provider("$$interimElement",e)}(),function(){!function(){function e(e){function a(e){return e.replace(c,"").replace(u,function(e,t,n,i){return i?n.toUpperCase():n})}var c=/^((?:x|data)[\:\-_])/i,u=/([\:\-\_]+(.))/g,l=["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl"],d=["layout","flex","flex-order","flex-offset","layout-align"],m=["show","hide","layout-padding","layout-margin"];t.forEach(l,function(n){t.forEach(d,function(t){var i=n?t+"-"+n:t;e.directive(a(i),o(i))}),t.forEach(m,function(t){var i=n?t+"-"+n:t;e.directive(a(i),r(i))})}),e.directive("mdLayoutCss",n).directive("ngCloak",i("ng-cloak")).directive("layoutWrap",r("layout-wrap")).directive("layoutNoWrap",r("layout-no-wrap")).directive("layoutFill",r("layout-fill")).directive("layoutLtMd",s("layout-lt-md",!0)).directive("layoutLtLg",s("layout-lt-lg",!0)).directive("flexLtMd",s("flex-lt-md",!0)).directive("flexLtLg",s("flex-lt-lg",!0)).directive("layoutAlignLtMd",s("layout-align-lt-md")).directive("layoutAlignLtLg",s("layout-align-lt-lg")).directive("flexOrderLtMd",s("flex-order-lt-md")).directive("flexOrderLtLg",s("flex-order-lt-lg")).directive("offsetLtMd",s("flex-offset-lt-md")).directive("offsetLtLg",s("flex-offset-lt-lg")).directive("hideLtMd",s("hide-lt-md")).directive("hideLtLg",s("hide-lt-lg")).directive("showLtMd",s("show-lt-md")).directive("showLtLg",s("show-lt-lg"))}function n(){return{restrict:"A",priority:"900",compile:function(e,n){return w.enabled=!1,t.noop}}}function i(e){return["$timeout",function(n){return{restrict:"A",priority:-10,compile:function(i){return w.enabled?(i.addClass(e),function(t,i){n(function(){i.removeClass(e)},10,!1)}):t.noop}}}]}function o(e){function n(t,n,i){var o=a(n,e,i),r=i.$observe(i.$normalize(e),o);o(m(e,i,"")),t.$on("$destroy",function(){r()})}return["$mdUtil","$interpolate","$log",function(i,o,r){return h=i,v=o,g=r,{restrict:"A",compile:function(i,o){var r;return w.enabled&&(c(e,o,i,g),u(e,m(e,o,""),l(i,e,o)),r=n),r||t.noop}}}]}function r(e){function n(t,n){n.addClass(e)}return["$mdUtil","$interpolate","$log",function(i,o,r){return h=i,v=o,g=r,{restrict:"A",compile:function(i,o){var r;return w.enabled&&(u(e,m(e,o,""),l(i,e,o)),n(null,i),r=n),r||t.noop}}}]}function a(e,n){var i;return function(o){var r=u(n,o||"");t.isDefined(r)&&(i&&e.removeClass(i),i=r?n+"-"+r.replace(b,"-"):n,e.addClass(i))}}function s(e){var n=e.split("-");return["$log",function(i){return i.warn(e+"has been deprecated. Please use a `"+n[0]+"-gt-<xxx>` variant."),t.noop}]}function c(e,t,n,i){var o,r,a,s=n[0].nodeName.toLowerCase();switch(e.replace(_,"")){case"flex":("md-button"==s||"fieldset"==s)&&(r="<"+s+" "+e+"></"+s+">",a="https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers",o="Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",i.warn(h.supplant(o,[r,a])))}}function u(e,n,i){var o=n;if(!d(n)){switch(e.replace(_,"")){case"layout":f(n,y)||(n=y[0]);break;case"flex":f(n,$)||isNaN(n)&&(n="");break;case"flex-offset":case"flex-order":(!n||isNaN(+n))&&(n="0");break;case"layout-align":var r=p(n);n=h.supplant("{main}-{cross}",r);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-no-wrap":n=""}n!=o&&(i||t.noop)(n)}return n}function l(e,t,n){return function(e){d(e)||(n[n.$normalize(t)]=e)}}function d(e){return(e||"").indexOf(v.startSymbol())>-1}function m(e,t,n){var i=t.$normalize(e);return t[i]?t[i].replace(b,"-"):n||null}function f(e,t,n){e=n&&e?e.replace(b,n):e;var i=!1;return e&&t.forEach(function(t){t=n?t.replace(b,n):t,i=i||t===e}),i}function p(e){var t,n={main:"start",cross:"stretch"};return e=e||"",(0==e.indexOf("-")||0==e.indexOf(" "))&&(e="none"+e),t=e.toLowerCase().trim().replace(b,"-").split("-"),t.length&&"space"===t[0]&&(t=[t[0]+"-"+t[1],t[2]]),t.length>0&&(n.main=t[0]||n.main),t.length>1&&(n.cross=t[1]||n.cross),k.indexOf(n.main)<0&&(n.main="start"),E.indexOf(n.cross)<0&&(n.cross="stretch"),n}var h,v,g,_=/(-gt)?-(sm|md|lg)/g,b=/\s+/g,$=["grow","initial","auto","none","noshrink","nogrow"],y=["row","column"],k=["","start","center","end","stretch","space-around","space-between"],E=["","start","center","end","stretch"],w={enabled:!0,breakpoints:[]};e(t.module("material.core.layout",["ng"]))}()}(),function(){function e(e,n){function i(e){return e&&""!==e}var o,r=[],a={};return o={notFoundError:function(t){e.error("No instance found for handle",t)},getInstances:function(){return r},get:function(e){if(!i(e))return null;var t,n,o;for(t=0,n=r.length;n>t;t++)if(o=r[t],o.$$mdHandle===e)return o;return null},register:function(e,n){function i(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}function o(){var t=a[n];t&&(t.resolve(e),delete a[n])}return n?(e.$$mdHandle=n,r.push(e),o(),i):t.noop},when:function(e){if(i(e)){var t=n.defer(),r=o.get(e);return r?t.resolve(r):a[e]=t,t.promise}return n.reject("Invalid `md-component-id` value.")}}}t.module("material.core").factory("$mdComponentRegistry",e),
e.$inject=["$log","$q"]}(),function(){!function(){function e(e){function n(e){return e.hasClass("md-icon-button")?{isMenuItem:e.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:e.hasClass("md-menu-item"),dimBackground:!0}}return{attach:function(i,o,r){return r=t.extend(n(o),r),e.attach(i,o,r)}}}t.module("material.core").factory("$mdButtonInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){!function(){function e(e){function n(n,i,o){return e.attach(n,i,t.extend({center:!0,dimBackground:!1,fitRipple:!0},o))}return{attach:n}}t.module("material.core").factory("$mdCheckboxInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){!function(){function e(e){function n(n,i,o){return e.attach(n,i,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},o))}return{attach:n}}t.module("material.core").factory("$mdListInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){function e(e,n){return{controller:t.noop,link:function(t,i,o){o.hasOwnProperty("mdInkRippleCheckbox")?n.attach(t,i):e.attach(t,i)}}}function n(e){function n(n,o,r){return o.controller("mdNoInk")?t.noop:e.instantiate(i,{$scope:n,$element:o,rippleOptions:r})}return{attach:n}}function i(e,n,i,o,r,a){this.$window=o,this.$timeout=r,this.$mdUtil=a,this.$scope=e,this.$element=n,this.options=i,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,a.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(n.controller("mdInkRipple")||{}).createRipple=t.bind(this,this.createRipple),(n.controller("mdInkRipple")||{}).setColor=t.bind(this,this.color),this.bindEvents()}function o(e,n){(e.mousedown||e.lastRipple)&&(e.mousedown=!1,e.$mdUtil.nextTick(t.bind(e,n),!1))}function r(){return{controller:t.noop}}t.module("material.core").factory("$mdInkRipple",n).directive("mdInkRipple",e).directive("mdNoInk",r).directive("mdNoBar",r).directive("mdNoStretch",r);var a=450;e.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],n.$inject=["$injector"],i.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil"],i.prototype.color=function(e){function n(){var e=i.options&&i.options.colorElement?i.options.colorElement:[],t=e.length?e[0]:i.$element[0];return t?i.$window.getComputedStyle(t).color:"rgb(0,0,0)"}var i=this;return t.isDefined(e)&&(i._color=i._parseColor(e)),i._color||i._parseColor(i.inkRipple())||i._parseColor(n())},i.prototype.calculateColor=function(){return this.color()},i.prototype._parseColor=function(e,t){function n(e){var t="#"===e[0]?e.substr(1):e,n=t.length/3,i=t.substr(0,n),o=t.substr(n,n),r=t.substr(2*n);return 1===n&&(i+=i,o+=o,r+=r),"rgba("+parseInt(i,16)+","+parseInt(o,16)+","+parseInt(r,16)+",0.1)"}function i(e){return e.replace(")",", 0.1)").replace("(","a(")}return t=t||1,e?0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,(.1*t).toString()+")"):0===e.indexOf("rgb")?i(e):0===e.indexOf("#")?n(e):void 0:void 0},i.prototype.bindEvents=function(){this.$element.on("mousedown",t.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",t.bind(this,this.handleMouseup)),this.$element.on("mouseleave",t.bind(this,this.handleMouseup)),this.$element.on("touchmove",t.bind(this,this.handleTouchmove))},i.prototype.handleMousedown=function(e){if(!this.mousedown)if(e.hasOwnProperty("originalEvent")&&(e=e.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(e.srcElement!==this.$element[0]){var t=this.$element[0].getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;this.createRipple(n,i)}else this.createRipple(e.offsetX,e.offsetY)},i.prototype.handleMouseup=function(){o(this,this.clearRipples)},i.prototype.handleTouchmove=function(){o(this,this.deleteRipples)},i.prototype.deleteRipples=function(){for(var e=0;e<this.ripples.length;e++)this.ripples[e].remove()},i.prototype.clearRipples=function(){for(var e=0;e<this.ripples.length;e++)this.fadeInComplete(this.ripples[e])},i.prototype.createContainer=function(){var e=t.element('<div class="md-ripple-container"></div>');return this.$element.append(e),e},i.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},i.prototype.isRippleAllowed=function(){var e=this.$element[0];do{if(!e.tagName||"BODY"===e.tagName)break;if(e&&t.isFunction(e.hasAttribute)){if(e.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(e=e.parentNode);return!0},i.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},i.prototype.createRipple=function(e,n){function i(e){return e?e.replace("rgba","rgb").replace(/,[^\),]+\)/,")"):"rgb(0,0,0)"}function o(e,t,n){return e?Math.max(t,n):Math.sqrt(Math.pow(t,2)+Math.pow(n,2))}if(this.isRippleAllowed()){var r=this,s=t.element('<div class="md-ripple"></div>'),c=this.$element.prop("clientWidth"),u=this.$element.prop("clientHeight"),l=2*Math.max(Math.abs(c-e),e),d=2*Math.max(Math.abs(u-n),n),m=o(this.options.fitRipple,l,d),f=this.calculateColor();s.css({left:e+"px",top:n+"px",background:"black",width:m+"px",height:m+"px",backgroundColor:i(f),borderColor:i(f)}),this.lastRipple=s,this.clearTimeout(),this.timeout=this.$timeout(function(){r.clearTimeout(),r.mousedown||r.fadeInComplete(s)},.35*a,!1),this.options.dimBackground&&this.container.css({backgroundColor:f}),this.container.append(s),this.ripples.push(s),s.addClass("md-ripple-placed"),this.$mdUtil.nextTick(function(){s.addClass("md-ripple-scaled md-ripple-active"),r.$timeout(function(){r.clearRipples()},a,!1)},!1)}},i.prototype.fadeInComplete=function(e){this.lastRipple===e?this.timeout||this.mousedown||this.removeRipple(e):this.removeRipple(e)},i.prototype.removeRipple=function(e){var t=this,n=this.ripples.indexOf(e);0>n||(this.ripples.splice(this.ripples.indexOf(e),1),e.removeClass("md-ripple-active"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){t.fadeOutComplete(e)},a,!1))},i.prototype.fadeOutComplete=function(e){e.remove(),this.lastRipple=null}}(),function(){!function(){function e(e){function n(n,i,o){return e.attach(n,i,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},o))}return{attach:n}}t.module("material.core").factory("$mdTabInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900",contrastStrongLightColors:"600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1000:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})}(),function(){function e(e){function i(e,t){return t=t||{},d[e]=a(e,t),_}function o(e,n){return a(e,t.extend({},d[e]||{},n))}function a(e,t){var n=C.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function c(e,n){if(m[e])return m[e];n=n||"default";var i="string"==typeof n?m[n]:n,o=new u(e);return i&&t.forEach(i.colors,function(e,n){o.colors[n]={name:e.name,hues:t.extend({},e.hues)}}),m[e]=o,o}function u(e){function n(e){if(e=0===arguments.length?!0:!!e,e!==i.isDark){i.isDark=e,i.foregroundPalette=i.isDark?h:p,i.foregroundShadow=i.isDark?v:g;var n=i.isDark?w:E,o=i.isDark?E:w;return t.forEach(n,function(e,t){var n=i.colors[t],r=o[t];if(n)for(var a in n.hues)n.hues[a]===r[a]&&(n.hues[a]=e[a])}),i}}var i=this;i.name=e,i.colors={},i.dark=n,n(!1),y.forEach(function(e){var n=(i.isDark?w:E)[e];i[e+"Palette"]=function(o,r){var a=i.colors[e]={name:o,hues:t.extend({},n,r)};return Object.keys(a.hues).forEach(function(e){if(!n[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",i.name).replace("%3",o).replace("%4",Object.keys(n).join(", ")))}),Object.keys(a.hues).map(function(e){return a.hues[e]}).forEach(function(t){if(-1==C.indexOf(t))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",i.name).replace("%3",e).replace("%4",o).replace("%5",C.join(", ")))}),i},i[e+"Color"]=function(){var t=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+e+"Color() has been deprecated. Use $mdThemingProviderTheme."+e+"Palette() instead."),i[e+"Palette"].apply(i,t)}})}function f(e,i){function o(e){return e===n||""===e?!0:r.THEMES[e]!==n}function r(t,i){i===n&&(i=t,t=n),t===n&&(t=e),r.inherit(i,i)}return r.inherit=function(n,r){function a(e){if(e){o(e)||i.warn("Attempted to use unregistered theme '"+e+"'. Register it with $mdThemingProvider.theme().");var t=n.data("$mdThemeName");t&&n.removeClass("md-"+t+"-theme"),n.addClass("md-"+e+"-theme"),n.data("$mdThemeName",e),s&&n.data("$mdThemeController",s)}}var s=r.controller("mdTheme"),c=n.attr("md-theme-watch");if(($||t.isDefined(c))&&"false"!=c){var u=e.$watch(function(){return s&&s.$mdTheme||("default"==b?"":b)},a);n.on("$destroy",u)}else{var l=s&&s.$mdTheme||("default"==b?"":b);a(l)}},r.THEMES=t.extend({},m),r.defaultTheme=function(){return b},r.registered=o,r.generateTheme=s,r}d={},m={};var _,b="default",$=!1;return t.extend(d,e),f.$inject=["$rootScope","$log"],_={definePalette:i,extendPalette:o,theme:c,setDefaultTheme:function(e){b=e},alwaysWatchTheme:function(e){$=e},generateThemesOnDemand:function(e){A=e},$get:f,_LIGHT_DEFAULT_HUES:E,_DARK_DEFAULT_HUES:w,_PALETTES:d,_THEMES:m,_parseRules:r,_rgba:l}}function i(e,t,n){return{priority:100,link:{pre:function(i,o,r){var a={$setTheme:function(t){e.registered(t)||n.warn("attempted to use unregistered theme '"+t+"'"),a.$mdTheme=t}};o.data("$mdThemeController",a),a.$setTheme(t(r.mdTheme)(i)),r.$observe("mdTheme",a.$setTheme)}}}}function o(e){return e}function r(e,n,i){c(e,n),i=i.replace(/THEME_NAME/g,e.name);var o=[],r=e.colors[n],a=new RegExp(".md-"+e.name+"-theme","g"),s=new RegExp("('|\")?{{\\s*("+n+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),u=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,m=d[r.name];return i=i.replace(u,function(t,n,i,o,r){return"foreground"===n?"shadow"==i?e.foregroundShadow:e.foregroundPalette[i]||e.foregroundPalette[1]:(0===i.indexOf("hue")&&(i=e.colors[n].hues[i]),l((d[e.colors[n].name][i]||"")[r?"contrast":"value"],o))}),t.forEach(r.hues,function(t,n){var r=i.replace(s,function(e,n,i,o,r){return l(m[t]["color"===o?"value":"contrast"],r)});if("default"!==n&&(r=r.replace(a,".md-"+e.name+"-theme.md-"+n)),"default"==e.name){var c=/((?:(?:(?: |>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)+) )?)((?:(?:\w|\.|-)+)?)\.md-default-theme((?: |>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g;r=r.replace(c,function(e,t,n,i){return e+", "+t+n+i})}o.push(r)}),o}function a(e){function n(e){var n=e.contrastDefaultColor,i=e.contrastLightColors||[],o=e.contrastStrongLightColors||[],r=e.contrastDarkColors||[];"string"==typeof i&&(i=i.split(" ")),"string"==typeof o&&(o=o.split(" ")),"string"==typeof r&&(r=r.split(" ")),delete e.contrastDefaultColor,delete e.contrastLightColors,delete e.contrastStrongLightColors,delete e.contrastDarkColors,t.forEach(e,function(a,s){function c(){return"light"===n?r.indexOf(s)>-1?_:o.indexOf(s)>-1?$:b:i.indexOf(s)>-1?o.indexOf(s)>-1?$:b:_}if(!t.isObject(a)){var l=u(a);if(!l)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",a).replace("%2",e.name).replace("%3",s));e[s]={value:l,contrast:c()}}})}var i=document.head,o=i?i.firstElementChild:null,r=e.has("$MD_THEME_CSS")?e.get("$MD_THEME_CSS"):"";if(o&&0!==r.length){t.forEach(d,n);var a=r.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.length}).map(function(e){return e.trim()+"}"}),c=new RegExp("md-("+y.join("|")+")","g");y.forEach(function(e){I[e]=""}),a.forEach(function(e){for(var t,n=(e.match(c),0);t=y[n];n++)if(e.indexOf(".md-"+t)>-1)return I[t]+=e;for(n=0;t=y[n];n++)if(e.indexOf(t)>-1)return I[t]+=e;return I[k]+=e}),A||t.forEach(m,function(e){f[e.name]||s(e.name)})}}function s(e){var t=m[e],n=document.head,i=n?n.firstElementChild:null;f[e]||(y.forEach(function(e){for(var o=r(t,e,I[e]);o.length;){var a=o.shift();if(a){var s=document.createElement("style");s.setAttribute("md-theme-style",""),s.appendChild(document.createTextNode(a)),n.insertBefore(s,i)}}}),t.colors.primary.name==t.colors.accent.name&&console.warn("$mdThemingProvider: Using the same palette for primary and accent. This violates the material design spec."),f[t.name]=!0)}function c(e,t){if(!d[(e.colors[t]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(d).join(", ")))}function u(e){if(t.isArray(e)&&3==e.length)return e;if(/^rgb/.test(e))return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==e.charAt(0)&&(e=e.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(e)){var n=e.length/3,i=e.substr(0,n),o=e.substr(n,n),r=e.substr(2*n);return 1===n&&(i+=i,o+=o,r+=r),[parseInt(i,16),parseInt(o,16),parseInt(r,16)]}}function l(e,n){return e?(4==e.length&&(e=t.copy(e),n?e.pop():n=e.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+e.join(",")+","+n+")":"rgb("+e.join(",")+")"):"rgb('0,0,0')"}t.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",i).directive("mdThemable",o).provider("$mdTheming",e).run(a);var d,m,f={},p={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"},h={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"},v="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",g="",_=u("rgba(0,0,0,0.87)"),b=u("rgba(255,255,255,0.87)"),$=u("rgb(255,255,255)"),y=["primary","accent","warn","background"],k="primary",E={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"A100","hue-1":"300","hue-2":"800","hue-3":"900"}},w={background:{"default":"800","hue-1":"600","hue-2":"300","hue-3":"900"}};y.forEach(function(e){var t={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};E[e]||(E[e]=t),w[e]||(w[e]=t)});var C=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],A=!1;e.$inject=["$mdColorPalette"],i.$inject=["$mdTheming","$interpolate","$log"],o.$inject=["$mdTheming"];var I={};a.$inject=["$injector"]}(),function(){function e(e,n,i,o,r){var a;return a={translate3d:function(e,t,n,i){function o(n){return r(e,{to:n||t,addClass:i.transitionOutClass,removeClass:i.transitionInClass}).start()}return r(e,{from:t,to:n,addClass:i.transitionInClass}).start().then(function(){return o})},waitTransitionEnd:function(e,t){var r=3e3;return n(function(n,a){function s(t){t&&t.target!==e[0]||(t&&i.cancel(c),e.off(o.CSS.TRANSITIONEND,s),n())}t=t||{};var c=i(s,t.timeout||r);e.on(o.CSS.TRANSITIONEND,s)})},calculateZoomToOrigin:function(n,i){function o(){var e=n?n.parent():null,t=e?e.parent():null;return t?a.clientRect(t):null}var r=i.element,s=i.bounds,c="translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )",u=t.bind(null,e.supplant,c),l=u({centerX:0,centerY:0,scaleX:.5,scaleY:.5});if(r||s){var d=r?a.clientRect(r)||o():a.copyRect(s),m=a.copyRect(n[0].getBoundingClientRect()),f=a.centerPointFor(m),p=a.centerPointFor(d);l=u({centerX:p.x-f.x,centerY:p.y-f.y,scaleX:Math.round(100*Math.min(.5,d.width/m.width))/100,scaleY:Math.round(100*Math.min(.5,d.height/m.height))/100})}return l},toCss:function(e){function n(e,n,o){t.forEach(n.split(" "),function(e){i[e]=o})}var i={},r="left top right bottom width height x y min-width min-height max-width max-height";return t.forEach(e,function(e,a){if(!t.isUndefined(e))if(r.indexOf(a)>=0)i[a]=e+"px";else switch(a){case"transition":n(a,o.CSS.TRANSITION,e);break;case"transform":n(a,o.CSS.TRANSFORM,e);break;case"transformOrigin":n(a,o.CSS.TRANSFORM_ORIGIN,e)}}),i},toTransformCss:function(e,n,i){var r={};return t.forEach(o.CSS.TRANSFORM.split(" "),function(t){r[t]=e}),n&&(i=i||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",r.transition=i),r},copyRect:function(e,n){return e?(n=n||{},t.forEach("left top right bottom width height".split(" "),function(t){n[t]=Math.round(e[t])}),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(e){var n=t.element(e)[0].getBoundingClientRect(),i=function(e){return e&&e.width>0&&e.height>0};return i(n)?a.copyRect(n):null},centerPointFor:function(e){return e?{x:Math.round(e.left+e.width/2),y:Math.round(e.top+e.height/2)}:{x:0,y:0}}}}t.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(t,n,i,o){return function(r){return e(r,t,n,i,o)}}])}(),function(){t.version.minor>=4?t.module("material.core.animate",[]):!function(){function e(e){return e.replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()})}var n=t.forEach,i=t.isDefined(document.documentElement.style.WebkitAppearance),o=i?"-webkit-":"",r=(i?"webkitTransitionEnd ":"")+"transitionend",a=(i?"webkitAnimationEnd ":"")+"animationend",s=["$document",function(e){return function(){return e[0].body.clientWidth+1}}],c=["$$rAF",function(e){return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}],u=["$q","$$rAFMutex",function(e,i){function o(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=i(),this._state=0}var r=0,a=1,s=2;return o.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===s?e():this._doneCallbacks.push(e)},progress:t.noop,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===r&&(t._state=a,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){this._state!==s&&(n(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=s)}},o}];t.module("material.core.animate",[]).factory("$$forceReflow",s).factory("$$AnimateRunner",u).factory("$$rAFMutex",c).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout",function(t,s,c,u,l,d){function m(i,s){var u=[],l=$(i);s.transitionStyle&&u.push([o+"transition",s.transitionStyle]),s.keyframeStyle&&u.push([o+"animation",s.keyframeStyle]),s.delay&&u.push([o+"transition-delay",s.delay+"s"]),s.duration&&u.push([o+"transition-duration",s.duration+"s"]);var m=s.keyframeStyle||s.to&&(s.duration>0||s.transitionStyle),h=!!s.addClass||!!s.removeClass,k=m||h;y(i,!0),_(i,s);var E,w,C=!1;return{close:t.close,start:function(){function t(){return C?void 0:(C=!0,E&&w&&i.off(E,w),f(i,s),g(i,s),n(u,function(t){l.style[e(t[0])]=""}),m.complete(!0),m)}var m=new c;return v(function(){if(y(i,!1),!k)return t();n(u,function(t){var n=t[0],i=t[1];l.style[e(n)]=i}),f(i,s);var c=p(i);if(0===c.duration)return t();var m=[];s.easing&&(c.transitionDuration&&m.push([o+"transition-timing-function",s.easing]),c.animationDuration&&m.push([o+"animation-timing-function",s.easing])),s.delay&&c.animationDelay&&m.push([o+"animation-delay",s.delay+"s"]),s.duration&&c.animationDuration&&m.push([o+"animation-duration",s.duration+"s"]),n(m,function(t){var n=t[0],i=t[1];l.style[e(n)]=i,u.push(t)});var h=c.delay,v=1e3*h,g=c.duration,_=1e3*g,$=Date.now();E=[],c.transitionDuration&&E.push(r),c.animationDuration&&E.push(a),E=E.join(" "),w=function(e){e.stopPropagation();var n=e.originalEvent||e,i=n.timeStamp||Date.now(),o=parseFloat(n.elapsedTime.toFixed(3));Math.max(i-$,0)>=v&&o>=g&&t()},i.on(E,w),b(i,s),d(t,v+1.5*_,!1)}),m}}}function f(e,t){t.addClass&&(l.addClass(e,t.addClass),t.addClass=null),t.removeClass&&(l.removeClass(e,t.removeClass),t.removeClass=null)}function p(e){function n(e){return i?"Webkit"+e.charAt(0).toUpperCase()+e.substr(1):e}var o=$(e),r=t.getComputedStyle(o),a=h(r[n("transitionDuration")]),s=h(r[n("animationDuration")]),c=h(r[n("transitionDelay")]),u=h(r[n("animationDelay")]);s*=parseInt(r[n("animationIterationCount")],10)||1;var l=Math.max(s,a),d=Math.max(u,c);return{duration:l,delay:d,animationDuration:s,transitionDuration:a,animationDelay:u,transitionDelay:c}}function h(e){var t=0,i=(e||"").split(/\s*,\s*/);return n(i,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function v(e){k&&k(),E.push(e),k=s(function(){k=null;for(var e=u(),t=0;t<E.length;t++)E[t](e);E.length=0})}function g(e,t){_(e,t),b(e,t)}function _(e,t){t.from&&(e.css(t.from),t.from=null)}function b(e,t){t.to&&(e.css(t.to),t.to=null)}function $(e){for(var t=0;t<e.length;t++)if(1===e[t].nodeType)return e[t]}function y(t,n){var i=$(t),r=e(o+"transition-delay");i.style[r]=n?"-9999s":""}var k,E=[];return m}])}()}(),function(){t.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$animate","$rootElement","$window","$log","$$rAF","$document",function(e,t,n,i,o,r,a){function s(s,u,l){var d=i.getComputedStyle(a[0].body);if("fixed"==d.position){var m=parseInt(d.height,10)+Math.abs(parseInt(d.top,10));u.css({height:m+"px"})}t.pin&&t.pin(u,n),r(function(){var t=u.parent()[0];if(t){"BODY"==t.nodeName&&u.css({position:"fixed"});var n=i.getComputedStyle(t);"static"==n.position&&o.warn(c)}e.inherit(u,u.parent())})}var c="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:s}}])}(),function(){function e(e){return{restrict:"E",link:function(t,n,i){t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e,n,r,a,s,c,u){function l(i,o,u,l){o=r.extractElementByName(o,"md-bottom-sheet"),f=r.createBackdrop(i,"md-bottom-sheet-backdrop md-opaque"),u.clickOutsideToClose&&f.on("click",function(){r.nextTick(s.cancel,!0)}),a.inherit(f,u.parent),e.enter(f,u.parent,null);var d=new m(o,u.parent);return u.bottomSheet=d,a.inherit(d.element,u.parent),u.disableParentScroll&&(u.restoreScroll=r.disableScrollAround(d.element,u.parent)),e.enter(d.element,u.parent).then(function(){var e=r.findFocusTarget(o)||t.element(o[0].querySelector("button")||o[0].querySelector("a")||o[0].querySelector("[ng-click]"));e.focus(),u.escapeToClose&&(u.rootElementKeyupCallback=function(e){e.keyCode===n.KEY_CODE.ESCAPE&&r.nextTick(s.cancel,!0)},c.on("keyup",u.rootElementKeyupCallback))})}function d(t,n,i){var o=i.bottomSheet;return e.leave(f),e.leave(o.element).then(function(){i.disableParentScroll&&(i.restoreScroll(),delete i.restoreScroll),o.cleanup()})}function m(e,t){function a(t){e.css(n.CSS.TRANSITION_DURATION,"0ms")}function c(t){var i=t.pointer.distanceY;5>i&&(i=Math.max(-o,i/2)),e.css(n.CSS.TRANSFORM,"translate3d(0,"+(o+i)+"px,0)")}function l(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>i)){var o=e.prop("offsetHeight")-t.pointer.distanceY,a=Math.min(o/t.pointer.velocityY*.75,500);e.css(n.CSS.TRANSITION_DURATION,a+"ms"),r.nextTick(s.cancel,!0)}else e.css(n.CSS.TRANSITION_DURATION,""),e.css(n.CSS.TRANSFORM,"")}var d=u.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",a).on("$md.drag",c).on("$md.dragend",l),{element:e,cleanup:function(){d(),t.off("$md.dragstart",a),t.off("$md.drag",c),t.off("$md.dragend",l)}}}var f;return{themable:!0,onShow:l,onRemove:d,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0}}var i=.5,o=80;return n.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"],e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:n})}t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",n),e.$inject=["$mdBottomSheet"],n.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,i,o){function r(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}function a(e,t){if(r(t))return'<a class="md-button" ng-transclude></a>';var n="undefined"==typeof t.type?"button":t.type;return'<button class="md-button" type="'+n+'" ng-transclude></button>'}function s(a,s,c){var u=s[0];n(s),e.attach(a,s);var l=u.textContent.trim();l||i.expect(s,"aria-label"),r(c)&&t.isDefined(c.ngDisabled)&&a.$watch(c.ngDisabled,function(e){s.attr("tabindex",e?-1:0)}),s.on("click",function(e){c.disabled===!0&&(e.preventDefault(),e.stopImmediatePropagation())}),a.mouseActive=!1,s.on("mousedown",function(){a.mouseActive=!0,o(function(){a.mouseActive=!1},100)}).on("focus",function(){a.mouseActive===!1&&s.addClass("md-focused")}).on("blur",function(e){s.removeClass("md-focused")})}return{restrict:"EA",replace:!0,transclude:!0,template:a,link:s}}t.module("material.components.button",["material.core"]).directive("mdButton",e),e.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$timeout"]}(),function(){function e(e){return{restrict:"E",link:function(t,n){e(n)}}}t.module("material.components.card",["material.core"]).directive("mdCard",e),e.$inject=["$mdTheming"]}(),function(){function e(e,n,i,o,r,a){function s(s,u){return u.type="checkbox",u.tabindex=u.tabindex||"0",s.attr("role",u.type),s.on("click",function(e){this.hasAttribute("disabled")&&e.stopImmediatePropagation()}),function(s,u,l,d){function m(e,t,n){l[e]&&s.$watch(l[e],function(e){n[e]&&u.attr(t,n[e])})}function f(e){var t=e.which||e.keyCode;(t===i.KEY_CODE.SPACE||t===i.KEY_CODE.ENTER)&&(e.preventDefault(),u.hasClass("md-focused")||u.addClass("md-focused"),p(e))}function p(e){u[0].hasAttribute("disabled")||s.$apply(function(){var t=l.ngChecked?l.checked:!d.$viewValue;d.$setViewValue(t,e&&e.type),d.$render()})}function h(){d.$viewValue?u.addClass(c):u.removeClass(c)}d=d||r.fakeNgModel(),
o(u),l.ngChecked&&s.$watch(s.$eval.bind(s,l.ngChecked),d.$setViewValue.bind(d)),m("ngDisabled","tabindex",{"true":"-1","false":l.tabindex}),n.expectWithText(u,"aria-label"),e.link.pre(s,{on:t.noop,0:{}},l,[d]),s.mouseActive=!1,u.on("click",p).on("keypress",f).on("mousedown",function(){s.mouseActive=!0,a(function(){s.mouseActive=!1},100)}).on("focus",function(){s.mouseActive===!1&&u.addClass("md-focused")}).on("blur",function(){u.removeClass("md-focused")}),d.$render=h}}e=e[0];var c="md-checked";return{restrict:"E",transclude:!0,require:"?ngModel",priority:210,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:s}}t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e),e.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"]}(),function(){t.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){function e(e){function t(e,t){this.$scope=e,this.$element=t}return{restrict:"E",controller:["$scope","$element",t],link:function(t,i,o){i[0];e(i),t.$broadcast("$mdContentLoaded",i),n(i[0])}}}function n(e){t.element(e).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===e.scrollTop?e.scrollTop=1:e.scrollHeight===e.scrollTop+e.offsetHeight&&(e.scrollTop-=1)))})}t.module("material.components.content",["material.core"]).directive("mdContent",e),e.$inject=["$mdTheming"]}(),function(){!function(){function e(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(o-i)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody role="rowgroup" md-virtual-repeat="i in ctrl.items" md-calendar-month md-month-offset="$index" class="md-calendar-month" md-start-index="ctrl.getSelectedMonthIndex()" md-item-size="'+i+'"></tbody></table></md-virtual-repeat-container></div>',scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter"},require:["ngModel","mdCalendar"],controller:n,controllerAs:"ctrl",bindToController:!0,link:function(e,t,n,i){var o=i[0],r=i[1];r.configureNgModel(o)}}}function n(e,t,n,i,o,r,a,c,u,l,d){if(a(e),this.items={length:2e3},this.maxDate&&this.minDate){var m=c.getMonthDistance(this.minDate,this.maxDate)+1;m=Math.max(m,1),m+=1,this.items.length=m}if(this.$animate=i,this.$q=o,this.$mdInkRipple=l,this.$mdUtil=d,this.keyCode=r.KEY_CODE,this.dateUtil=c,this.dateLocale=u,this.$element=e,this.$scope=n,this.calendarElement=e[0].querySelector(".md-calendar"),this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.today=this.dateUtil.createDateAtMidnight(),this.firstRenderableDate=this.dateUtil.incrementMonths(this.today,-this.items.length/2),this.minDate&&this.minDate>this.firstRenderableDate)this.firstRenderableDate=this.minDate;else if(this.maxDate){this.items.length-2;this.firstRenderableDate=this.dateUtil.incrementMonths(this.maxDate,-(this.items.length-2))}this.id=s++,this.ngModelCtrl=null,this.selectedDate=null,this.displayDate=null,this.focusDate=null,this.isInitialized=!1,this.isMonthTransitionInProgress=!1,t.tabindex||e.attr("tabindex","-1");var f=this;this.cellClickHandler=function(){var e=this;this.hasAttribute("data-timestamp")&&n.$apply(function(){var t=Number(e.getAttribute("data-timestamp"));f.setNgModelValue(f.dateUtil.createDateAtMidnight(t))})},this.attachCalendarEventListeners()}t.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]).directive("mdCalendar",e);var i=265,o=45,r="md-calendar-selected-date",a="md-focus",s=0;n.$inject=["$element","$attrs","$scope","$animate","$q","$mdConstant","$mdTheming","$$mdDateUtil","$mdDateLocale","$mdInkRipple","$mdUtil"],n.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.changeSelectedDate(t.ngModelCtrl.$viewValue)}},n.prototype.buildInitialCalendarDisplay=function(){this.buildWeekHeader(),this.hideVerticalScrollbar(),this.displayDate=this.selectedDate||this.today,this.isInitialized=!0},n.prototype.hideVerticalScrollbar=function(){var e=this.$element[0],t=e.querySelector(".md-calendar-scroll-mask"),n=this.calendarScroller,i=e.querySelector(".md-calendar-day-header").clientWidth,o=n.offsetWidth-n.clientWidth;t.style.width=i+"px",n.style.width=i+o+"px",n.style.paddingRight=o+"px"},n.prototype.attachCalendarEventListeners=function(){this.$element.on("keydown",t.bind(this,this.handleKeyEvent))},n.prototype.handleKeyEvent=function(e){var t=this;this.$scope.$apply(function(){if(e.which==t.keyCode.ESCAPE||e.which==t.keyCode.TAB)return t.$scope.$emit("md-calendar-close"),void(e.which==t.keyCode.TAB&&e.preventDefault());if(e.which===t.keyCode.ENTER)return t.setNgModelValue(t.displayDate),void e.preventDefault();var n=t.getFocusDateFromKeyEvent(e);n&&(n=t.boundDateByMinAndMax(n),e.preventDefault(),e.stopPropagation(),t.changeDisplayDate(n).then(function(){t.focus(n)}))})},n.prototype.getFocusDateFromKeyEvent=function(e){var t=this.dateUtil,n=this.keyCode;switch(e.which){case n.RIGHT_ARROW:return t.incrementDays(this.displayDate,1);case n.LEFT_ARROW:return t.incrementDays(this.displayDate,-1);case n.DOWN_ARROW:return e.metaKey?t.incrementMonths(this.displayDate,1):t.incrementDays(this.displayDate,7);case n.UP_ARROW:return e.metaKey?t.incrementMonths(this.displayDate,-1):t.incrementDays(this.displayDate,-7);case n.PAGE_DOWN:return t.incrementMonths(this.displayDate,1);case n.PAGE_UP:return t.incrementMonths(this.displayDate,-1);case n.HOME:return t.getFirstDateOfMonth(this.displayDate);case n.END:return t.getLastDateOfMonth(this.displayDate);default:return null}},n.prototype.getSelectedMonthIndex=function(){return this.dateUtil.getMonthDistance(this.firstRenderableDate,this.selectedDate||this.today)},n.prototype.scrollToMonth=function(e){if(this.dateUtil.isValidDate(e)){var t=this.dateUtil.getMonthDistance(this.firstRenderableDate,e);this.calendarScroller.scrollTop=t*i}},n.prototype.setNgModelValue=function(e){this.$scope.$emit("md-calendar-change",e),this.ngModelCtrl.$setViewValue(e),this.ngModelCtrl.$render()},n.prototype.focus=function(e){var t=e||this.selectedDate||this.today,n=this.calendarElement.querySelector(".md-focus");n&&n.classList.remove(a);var i=this.getDateId(t),o=document.getElementById(i);o?(o.classList.add(a),o.focus()):this.focusDate=t},n.prototype.boundDateByMinAndMax=function(e){var t=e;return this.minDate&&e<this.minDate&&(t=new Date(this.minDate.getTime())),this.maxDate&&e>this.maxDate&&(t=new Date(this.maxDate.getTime())),t},n.prototype.changeSelectedDate=function(e){var t=this,n=this.selectedDate;this.selectedDate=e,this.changeDisplayDate(e).then(function(){if(n){var i=document.getElementById(t.getDateId(n));i&&(i.classList.remove(r),i.setAttribute("aria-selected","false"))}if(e){var o=document.getElementById(t.getDateId(e));o&&(o.classList.add(r),o.setAttribute("aria-selected","true"))}})},n.prototype.changeDisplayDate=function(e){if(!this.isInitialized)return this.buildInitialCalendarDisplay(),this.$q.when();if(!this.dateUtil.isValidDate(e)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var t=this.animateDateChange(e);this.displayDate=e;var n=this;return t.then(function(){n.isMonthTransitionInProgress=!1}),t},n.prototype.animateDateChange=function(e){return this.scrollToMonth(e),this.$q.when()},n.prototype.buildWeekHeader=function(){for(var e=this.dateLocale.firstDayOfWeek,t=this.dateLocale.shortDays,n=document.createElement("tr"),i=0;7>i;i++){var o=document.createElement("th");o.textContent=t[(i+e)%7],n.appendChild(o)}this.$element.find("thead").append(n)},n.prototype.getDateId=function(e){return["md",this.id,e.getFullYear(),e.getMonth(),e.getDate()].join("-")}}()}(),function(){!function(){function e(){return{require:["^^mdCalendar","mdCalendarMonth"],scope:{offset:"=mdMonthOffset"},controller:n,controllerAs:"mdMonthCtrl",bindToController:!0,link:function(e,t,n,i){var o=i[0],r=i[1];r.calendarCtrl=o,r.generateContent(),e.$watch(function(){return r.offset},function(e,t){e!=t&&r.generateContent()})}}}function n(e,t,n){this.dateUtil=t,this.dateLocale=n,this.$element=e,this.calendarCtrl=null,this.offset,this.focusAfterAppend=null}t.module("material.components.datepicker").directive("mdCalendarMonth",e);var i="md-calendar-date-today",o="md-calendar-selected-date",r="md-focus";n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],n.prototype.generateContent=function(){var e=this.calendarCtrl,t=this.dateUtil.incrementMonths(e.firstRenderableDate,this.offset);this.$element.empty(),this.$element.append(this.buildCalendarForMonth(t)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(r),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},n.prototype.buildDateCell=function(e){var t=this.calendarCtrl,n=document.createElement("td");if(n.tabIndex=-1,n.classList.add("md-calendar-date"),n.setAttribute("role","gridcell"),e){n.setAttribute("tabindex","-1"),n.setAttribute("aria-label",this.dateLocale.longDateFormatter(e)),n.id=t.getDateId(e),n.setAttribute("data-timestamp",e.getTime()),this.dateUtil.isSameDay(e,t.today)&&n.classList.add(i),this.dateUtil.isValidDate(t.selectedDate)&&this.dateUtil.isSameDay(e,t.selectedDate)&&(n.classList.add(o),n.setAttribute("aria-selected","true"));var r=this.dateLocale.dates[e.getDate()];if(this.isDateEnabled(e)){var a=document.createElement("span");n.appendChild(a),a.classList.add("md-calendar-date-selection-indicator"),a.textContent=r,n.addEventListener("click",t.cellClickHandler),t.focusDate&&this.dateUtil.isSameDay(e,t.focusDate)&&(this.focusAfterAppend=n)}else n.classList.add("md-calendar-date-disabled"),n.textContent=r}return n},n.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!t.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(e))},n.prototype.buildDateRow=function(e){var t=document.createElement("tr");return t.setAttribute("role","row"),t.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(e)),t},n.prototype.buildCalendarForMonth=function(e){var t=this.dateUtil.isValidDate(e)?e:new Date,n=this.dateUtil.getFirstDateOfMonth(t),i=this.getLocaleDay_(n),o=this.dateUtil.getNumberOfDaysInMonth(t),r=document.createDocumentFragment(),a=1,s=this.buildDateRow(a);r.appendChild(s);var c=this.offset===this.calendarCtrl.items.length-1,u=0,l=document.createElement("td");if(l.classList.add("md-calendar-month-label"),this.calendarCtrl.maxDate&&n>this.calendarCtrl.maxDate&&l.classList.add("md-calendar-month-label-disabled"),l.textContent=this.dateLocale.monthHeaderFormatter(t),2>=i){l.setAttribute("colspan","7");var d=this.buildDateRow();if(d.appendChild(l),r.insertBefore(d,s),c)return r}else u=2,l.setAttribute("colspan","2"),s.appendChild(l);for(var m=u;i>m;m++)s.appendChild(this.buildDateCell());for(var f=i,p=n,h=1;o>=h;h++){if(7===f){if(c)return r;f=0,a++,s=this.buildDateRow(a),r.appendChild(s)}p.setDate(h);var v=this.buildDateCell(p);s.appendChild(v),f++}for(;s.childNodes.length<7;)s.appendChild(this.buildDateCell());for(;r.childNodes.length<6;){for(var g=this.buildDateRow(),m=0;7>m;m++)g.appendChild(this.buildDateCell());r.appendChild(g)}return r},n.prototype.getLocaleDay_=function(e){return(e.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}()}(),function(){!function(){t.module("material.components.datepicker").config(["$provide",function(e){function t(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.msgCalendar="",this.msgOpenCalendar=""}t.prototype.$get=function(e){function t(e){if(!e)return"";var t=e.toLocaleTimeString(),n=e;return 0!=e.getHours()||-1===t.indexOf("11:")&&-1===t.indexOf("23:")||(n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),1,0,0)),n.toLocaleDateString()}function n(e){return new Date(e)}function i(e){e=e.trim();var t=/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;return t.test(e)}function o(e){return m.shortMonths[e.getMonth()]+" "+e.getFullYear()}function r(e){return"Week "+e}function a(e){return[m.days[e.getDay()],m.months[e.getMonth()],m.dates[e.getDate()],e.getFullYear()].join(" ")}for(var s=e.DATETIME_FORMATS.DAY.map(function(e){return e[0]}),c=Array(32),u=1;31>=u;u++)c[u]=u;var l="Calendar",d="Open calendar",m={months:this.months||e.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||e.DATETIME_FORMATS.SHORTMONTH,days:this.days||e.DATETIME_FORMATS.DAY,shortDays:this.shortDays||s,dates:this.dates||c,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||t,parseDate:this.parseDate||n,isDateComplete:this.isDateComplete||i,monthHeaderFormatter:this.monthHeaderFormatter||o,weekNumberFormatter:this.weekNumberFormatter||r,longDateFormatter:this.longDateFormatter||a,msgCalendar:this.msgCalendar||l,msgOpenCalendar:this.msgOpenCalendar||d};return m},t.prototype.$get.$inject=["$locale"],e.provider("$mdDateLocale",new t)}])}()}(),function(){!function(){function n(){return{template:'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" md-svg-icon="md-calendar"></md-icon></md-button><div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input class="md-datepicker-input" aria-haspopup="true" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"><md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.dateLocale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button></div><div class="md-datepicker-calendar-pane md-whiteframe-z1"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.dateLocale.msgCalendar}}" md-min-date="ctrl.minDate" md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>',require:["ngModel","mdDatepicker","?^mdInputContainer"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",dateFilter:"=mdDateFilter"},controller:i,controllerAs:"ctrl",bindToController:!0,link:function(e,t,n,i){var o=i[0],r=i[1],a=i[2];if(a)throw Error("md-datepicker should not be placed inside md-input-container.");r.configureNgModel(o)}}}function i(e,n,i,o,r,a,s,c,u,l,d,m){this.$compile=o,this.$timeout=r,this.$window=a,this.dateLocale=l,this.dateUtil=d,this.$mdConstant=s,this.$mdUtil=u,this.$$rAF=m,this.documentElement=t.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=n[0].querySelector("input"),this.ngInputElement=t.element(this.inputElement),this.inputContainer=n[0].querySelector(".md-datepicker-input-container"),this.calendarPane=n[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=n[0].querySelector(".md-datepicker-button"),this.inputMask=n[0].querySelector(".md-datepicker-input-mask-opaque"),this.$element=n,this.$attrs=i,this.$scope=e,this.date=null,this.isFocused=!1,this.isDisabled,this.setDisabled(n[0].disabled||t.isString(i.disabled)),this.isCalendarOpen=!1,this.calendarPaneOpenedFrom=null,this.calendarPane.id="md-date-pane"+u.nextUid(),c(n),this.bodyClickHandler=t.bind(this,this.handleBodyClick),this.windowResizeHandler=u.debounce(t.bind(this,this.closeCalendarPane),100),i.tabindex||n.attr("tabindex","-1"),this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners();var f=this;e.$on("$destroy",function(){f.detachCalendarPane()})}t.module("material.components.datepicker").directive("mdDatepicker",n);var o=3,r="md-datepicker-invalid",a=500,s=368,c=360;i.$inject=["$scope","$element","$attrs","$compile","$timeout","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF"],i.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){var e=t.ngModelCtrl.$viewValue;if(e&&!(e instanceof Date))throw Error("The ng-model for md-datepicker must be a Date instance. Currently the model is a: "+typeof e);t.date=e,t.inputElement.value=t.dateLocale.formatDate(e),t.resizeInputElement(),t.updateErrorState()}},i.prototype.attachChangeListeners=function(){var e=this;e.$scope.$on("md-calendar-change",function(t,n){e.ngModelCtrl.$setViewValue(n),e.date=n,e.inputElement.value=e.dateLocale.formatDate(n),e.closeCalendarPane(),e.resizeInputElement(),e.updateErrorState()}),e.ngInputElement.on("input",t.bind(e,e.resizeInputElement)),e.ngInputElement.on("input",e.$mdUtil.debounce(e.handleInputEvent,a,e))},i.prototype.attachInteractionListeners=function(){var e=this,t=this.$scope,n=this.$mdConstant.KEY_CODE;e.ngInputElement.on("keydown",function(i){i.altKey&&i.keyCode==n.DOWN_ARROW&&(e.openCalendarPane(i),t.$digest())}),t.$on("md-calendar-close",function(){e.closeCalendarPane()})},i.prototype.installPropertyInterceptors=function(){var e=this;if(this.$attrs.ngDisabled){var t=this.$mdUtil.validateScope(this.$element)?this.$element.scope():null;t&&t.$watch(this.$attrs.ngDisabled,function(t){e.setDisabled(t)})}Object.defineProperty(this,"placeholder",{get:function(){return e.inputElement.placeholder},set:function(t){e.inputElement.placeholder=t||""}})},i.prototype.setDisabled=function(e){this.isDisabled=e,this.inputElement.disabled=e,this.calendarButton.disabled=e},i.prototype.updateErrorState=function(e){var n=e||this.date;this.clearErrorState(),this.dateUtil.isValidDate(n)?(this.dateUtil.isValidDate(this.minDate)&&this.ngModelCtrl.$setValidity("mindate",n>=this.minDate),this.dateUtil.isValidDate(this.maxDate)&&this.ngModelCtrl.$setValidity("maxdate",n<=this.maxDate),t.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(n))):this.ngModelCtrl.$setValidity("valid",null==n),this.ngModelCtrl.$valid||this.inputContainer.classList.add(r)},i.prototype.clearErrorState=function(){this.inputContainer.classList.remove(r),["mindate","maxdate","filtered","valid"].forEach(function(e){this.ngModelCtrl.$setValidity(e,!0)},this)},i.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+o},i.prototype.handleInputEvent=function(){var e=this.inputElement.value,t=e?this.dateLocale.parseDate(e):null;this.dateUtil.setDateTimeToMidnight(t);var n=""==e||this.dateUtil.isValidDate(t)&&this.dateLocale.isDateComplete(e)&&this.isDateEnabled(t);n&&(this.ngModelCtrl.$setViewValue(t),this.date=t),this.updateErrorState(t)},i.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.minDate,this.maxDate)&&(!t.isFunction(this.dateFilter)||this.dateFilter(e))},i.prototype.attachCalendarPane=function(){var e=this.calendarPane;e.style.transform="",this.$element.addClass("md-datepicker-open");var t=this.inputContainer.getBoundingClientRect(),n=document.body.getBoundingClientRect(),i=t.top-n.top,o=t.left-n.left,r=n.top<0&&0==document.body.scrollTop?-n.top:document.body.scrollTop,a=n.left<0&&0==document.body.scrollLeft?-n.left:document.body.scrollLeft,u=r+this.$window.innerHeight,l=a+this.$window.innerWidth;if(o+c>l){if(l-c>0)o=l-c;else{o=a;var d=this.$window.innerWidth/c;e.style.transform="scale("+d+")"}e.classList.add("md-datepicker-pos-adjusted")}i+s>u&&u-s>r&&(i=u-s,e.classList.add("md-datepicker-pos-adjusted")),e.style.left=o+"px",e.style.top=i+"px",document.body.appendChild(e),this.inputMask.style.left=t.width+"px",this.$$rAF(function(){e.classList.add("md-pane-open")})},i.prototype.detachCalendarPane=function(){this.$element.removeClass("md-datepicker-open"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},i.prototype.openCalendarPane=function(t){if(!this.isCalendarOpen&&!this.isDisabled){this.isCalendarOpen=!0,this.calendarPaneOpenedFrom=t.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar();var n=this;this.$mdUtil.nextTick(function(){n.documentElement.on("click touchstart",n.bodyClickHandler)},!1),e.addEventListener("resize",this.windowResizeHandler)}},i.prototype.closeCalendarPane=function(){this.isCalendarOpen&&(this.isCalendarOpen=!1,this.detachCalendarPane(),this.calendarPaneOpenedFrom.focus(),this.calendarPaneOpenedFrom=null,this.$mdUtil.enableScrolling(),this.documentElement.off("click touchstart",this.bodyClickHandler),e.removeEventListener("resize",this.windowResizeHandler))},i.prototype.getCalendarCtrl=function(){return t.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},i.prototype.focusCalendar=function(){var e=this;this.$mdUtil.nextTick(function(){e.getCalendarCtrl().focus()},!1)},i.prototype.setFocused=function(e){this.isFocused=e},i.prototype.handleBodyClick=function(e){if(this.isCalendarOpen){var t=this.$mdUtil.getClosest(e.target,"md-calendar");t||this.closeCalendarPane(),this.$scope.$digest()}}}()}(),function(){!function(){t.module("material.components.datepicker").factory("$$mdDateUtil",function(){function e(e){return new Date(e.getFullYear(),e.getMonth(),1)}function n(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function i(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function o(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function r(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function a(e,t){return e.getDate()==t.getDate()&&r(e,t)}function s(e,t){var n=i(e);return r(n,t)}function c(e,t){var n=o(e);return r(t,n)}function u(e,t){return g((e.getTime()+t.getTime())/2)}function l(t){var n=e(t);return Math.floor((n.getDay()+t.getDate()-1)/7)}function d(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function m(e,t){var i=new Date(e.getFullYear(),e.getMonth()+t,1),o=n(i);return o<e.getDate()?i.setDate(o):i.setDate(e.getDate()),i}function f(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())}function p(e){return new Date(e.getFullYear(),e.getMonth(),n(e))}function h(e){return null!=e&&e.getTime&&!isNaN(e.getTime())}function v(e){h(e)&&e.setHours(0,0,0,0)}function g(e){var n;return n=t.isUndefined(e)?new Date:new Date(e),v(n),n}function _(e,n,i){return(!t.isDate(n)||e>=n)&&(!t.isDate(i)||i>=e)}return{getFirstDateOfMonth:e,getNumberOfDaysInMonth:n,getDateInNextMonth:i,getDateInPreviousMonth:o,isInNextMonth:s,isInPreviousMonth:c,getDateMidpoint:u,isSameMonthAndYear:r,getWeekOfMonth:l,incrementDays:d,incrementMonths:m,getLastDateOfMonth:p,isSameDay:a,getMonthDistance:f,isValidDate:h,setDateTimeToMidnight:v,createDateAtMidnight:g,isDateWithinRange:_}})}()}(),function(){function e(e,n,i){return{restrict:"E",link:function(o,r,a){n(r),e(function(){function e(){r.toggleClass("md-content-overflow",a.scrollHeight>a.clientHeight)}var n,a=r[0].querySelector("md-dialog-content");a&&(n=a.getElementsByTagName("img"),e(),t.element(n).on("load",e)),o.$on("$destroy",function(){i.destroy(r)})})}}}function i(e){function i(e,t){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type == \'confirm\'"               ng-click="dialog.abort()" class="md-primary">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary" md-autofocus="dialog.$type!=\'confirm\'">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:function(){this.hide=function(){e.hide(!0)},this.abort=function(){e.cancel()}},controllerAs:"dialog",bindToController:!0,theme:t.defaultTheme()}}function o(e,i,o,s,c,u,l,d,m,f){function p(e,t,n,i){if(i){if(i.mdHtmlContent=i.htmlContent||n.htmlContent||"",i.mdTextContent=i.textContent||n.textContent||i.content||n.content||"",i.mdHtmlContent&&!f.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(i.mdHtmlContent&&i.mdTextContent)throw Error("md-dialog cannot have both `htmlContent` and `textContent`")}}function h(e,n,i,r){function a(){var e=n[0].querySelectorAll(".md-actions");e.length>0&&m.warn("Using a class of md-actions is deprected, please use <md-dialog-actions>.")}function s(){function e(){var e=n[0].querySelector(".dialog-close");if(!e){var i=n[0].querySelectorAll(".md-actions button, md-dialog-actions button");e=i[i.length-1]}return t.element(e)}if(i.focusOnOpen){var r=o.findFocusTarget(n)||e();r.focus()}}return t.element(u[0].body).addClass("md-dialog-is-showing"),g(i),$(n.find("md-dialog"),i),b(e,n,i),E(n,i).then(function(){_(n,i),y(n,i),a(),s()})}function v(e,n,i){function o(){return w(n,i)}function s(){t.element(u[0].body).removeClass("md-dialog-is-showing"),n.remove(),i.$destroy||i.origin.focus()}return i.deactivateListeners(),i.unlockScreenReader(),i.hideBackdrop(i.$destroy),r&&r.parentNode&&r.parentNode.removeChild(r),a&&a.parentNode&&a.parentNode.removeChild(a),i.$destroy?s():o().then(s)}function g(e){function i(e,i){var o=t.element(e||{});if(o&&o.length){var r={top:0,left:0,height:0,width:0},a=t.isFunction(o[0].getBoundingClientRect);return t.extend(i||{},{element:a?o:n,bounds:a?o[0].getBoundingClientRect():t.extend({},r,o[0]),focus:t.bind(o,o.focus)})}}function o(e,n){if(t.isString(e)){var i=e,o=u[0].querySelectorAll(i);e=o.length?o[0]:null}return t.element(e||n)}e.origin=t.extend({element:null,bounds:null,focus:t.noop},e.origin||{}),e.parent=o(e.parent,d),e.closeTo=i(o(e.closeTo)),e.openFrom=i(o(e.openFrom)),e.targetEvent&&(e.origin=i(e.targetEvent.target,e.origin))}function _(n,i){var r=t.element(l),a=o.debounce(function(){k(n,i)},60),c=[],u=function(){var t="alert"==i.$type?e.hide:e.cancel;o.nextTick(t,!0)};if(i.escapeToClose){var d=i.parent,m=function(e){e.keyCode===s.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),u())};n.on("keydown",m),d.on("keydown",m),r.on("resize",a),c.push(function(){n.off("keydown",m),d.off("keydown",m),r.off("resize",a)})}if(i.clickOutsideToClose){var f,d=n,p=function(e){f=e.target},h=function(e){f===d[0]&&e.target===d[0]&&(e.stopPropagation(),e.preventDefault(),u())};d.on("mousedown",p),d.on("mouseup",h),c.push(function(){d.off("mousedown",p),d.off("mouseup",h)})}i.deactivateListeners=function(){c.forEach(function(e){e()}),i.deactivateListeners=null}}function b(e,t,n){n.disableParentScroll&&(n.restoreScroll=o.disableScrollAround(t,n.parent)),n.hasBackdrop&&(n.backdrop=o.createBackdrop(e,"md-dialog-backdrop md-opaque"),c.enter(n.backdrop,n.parent)),n.hideBackdrop=function(e){n.backdrop&&(e?n.backdrop.remove():c.leave(n.backdrop)),n.disableParentScroll&&(n.restoreScroll(),delete n.restoreScroll),n.hideBackdrop=null}}function $(e,n){var s="alert"===n.$type?"alertdialog":"dialog",c=e.find("md-dialog-content"),u=e.attr("id")||"dialog_"+o.nextUid();e.attr({role:s,tabIndex:"-1"}),0===c.length&&(c=e),c.attr("id",u),e.attr("aria-describedby",u),n.ariaLabel?i.expect(e,"aria-label",n.ariaLabel):i.expectAsync(e,"aria-label",function(){var e=c.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")}),r=document.createElement("div"),r.classList.add("md-dialog-focus-trap"),r.tabIndex=0,a=r.cloneNode(!1);var l=t.bind(e,e.focus);r.addEventListener("focus",l),a.addEventListener("focus",l),e[0].parentNode.insertBefore(r,e[0]),e.append(a)}function y(e,t){function n(e){for(;e.parentNode;){if(e===document.body)return;for(var t=e.parentNode.children,o=0;o<t.length;o++)e===t[o]||C(t[o],["SCRIPT","STYLE"])||t[o].setAttribute("aria-hidden",i);n(e=e.parentNode)}}var i=!0;n(e[0]),t.unlockScreenReader=function(){i=!1,n(e[0]),t.unlockScreenReader=null}}function k(e,t){var n="fixed"==l.getComputedStyle(u[0].body).position,i=t.backdrop?l.getComputedStyle(t.backdrop[0]):null,r=i?Math.min(u[0].body.clientHeight,Math.ceil(Math.abs(parseInt(i.height,10)))):0;return e.css({top:(n?o.scrollTop(t.parent):0)+"px",height:r?r+"px":"100%"}),e}function E(e,t){t.parent.append(e),k(e,t);var n=e.find("md-dialog"),i=o.dom.animator,r=i.calculateZoomToOrigin,a={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},s=i.toTransformCss(r(n,t.openFrom||t.origin)),c=i.toTransformCss("");return t.fullscreen&&n.addClass("md-dialog-fullscreen"),i.translate3d(n,s,c,a).then(function(e){return t.reverseAnimate=function(){return delete t.reverseAnimate,t.closeTo?(a={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},s=c,c=i.toTransformCss(r(n,t.closeTo)),i.translate3d(n,s,c,a)):e(i.toTransformCss(r(n,t.origin)))},!0})}function w(e,t){return t.reverseAnimate()}function C(e,t){return-1!==t.indexOf(e.nodeName)?!0:void 0}return{hasBackdrop:!0,isolateScope:!0,onShow:h,onShowing:p,onRemove:v,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(e,t){function n(e){return t.autoWrap&&!/<\/md-dialog>/g.test(e)?"<md-dialog>"+(e||"")+"</md-dialog>":e||""}return'<div class="md-dialog-container">'+n(e)+"</div>"}}}var r,a;return i.$inject=["$mdDialog","$mdTheming"],o.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector"],e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen"],options:o}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:i}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:i})}t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",i),e.$inject=["$$rAF","$mdTheming","$mdDialog"],i.$inject=["$$interimElementProvider"]}(),function(){function e(e){return{restrict:"E",link:e}}t.module("material.components.divider",["material.core"]).directive("mdDivider",e),e.$inject=["$mdTheming"]}(),function(){!function(){function e(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(e,n){var i=e.children(),o=!1;t.forEach(["","data-","x-"],function(e){o=o||(i.attr(e+"ng-repeat")?!0:!1)}),o?i.addClass("md-fab-action-item"):i.wrap('<div class="md-fab-action-item">')}}}t.module("material.components.fabActions",["material.core"]).directive("mdFabActions",e)}()}(),function(){!function(){function e(e,n,i,o,r,a){function s(){T.direction=T.direction||"down",T.isOpen=T.isOpen||!1,l(),n.addClass("md-animations-waiting")}function c(){var i=["click","focusin","focusout"];t.forEach(i,function(e){n.on(e,u)}),e.$on("$destroy",function(){t.forEach(i,function(e){n.off(e,u)}),p()})}function u(e){"click"==e.type&&I(e),"focusout"!=e.type||N||(N=a(function(){T.close()},100,!1)),"focusin"==e.type&&N&&(a.cancel(N),N=null)}function l(){T.currentActionIndex=-1}function d(){e.$watch("vm.direction",function(e,t){
i.removeClass(n,"md-"+t),i.addClass(n,"md-"+e),l()});var t,o;e.$watch("vm.isOpen",function(e){l(),t&&o||(t=x(),o=M()),e?f():p();var r=e?"md-is-open":"",a=e?"":"md-is-open";t.attr("aria-haspopup",!0),t.attr("aria-expanded",e),o.attr("aria-hidden",!e),i.setClass(n,r,a)})}function m(){n[0].scrollHeight>0?i.addClass(n,"md-animations-ready").then(function(){n.removeClass("md-animations-waiting")}):10>S&&(a(m,100),S+=1)}function f(){n.on("keydown",v),o.nextTick(function(){t.element(document).on("click touchend",h)})}function p(){n.off("keydown",v),t.element(document).off("click touchend",h)}function h(e){if(e.target){var t=o.getClosest(e.target,"md-fab-trigger"),n=o.getClosest(e.target,"md-fab-actions");t||n||T.close()}}function v(e){switch(e.which){case r.KEY_CODE.ESCAPE:return T.close(),e.preventDefault(),!1;case r.KEY_CODE.LEFT_ARROW:return y(e),!1;case r.KEY_CODE.UP_ARROW:return k(e),!1;case r.KEY_CODE.RIGHT_ARROW:return E(e),!1;case r.KEY_CODE.DOWN_ARROW:return w(e),!1}}function g(e){b(e,-1)}function _(e){b(e,1)}function b(e,n){var i=$();T.currentActionIndex=T.currentActionIndex+n,T.currentActionIndex=Math.min(i.length-1,T.currentActionIndex),T.currentActionIndex=Math.max(0,T.currentActionIndex);var o=t.element(i[T.currentActionIndex]).children()[0];t.element(o).attr("tabindex",0),o.focus(),e.preventDefault(),e.stopImmediatePropagation()}function $(){var e=M()[0].querySelectorAll(".md-fab-action-item");return t.forEach(e,function(e){t.element(t.element(e).children()[0]).attr("tabindex",-1)}),e}function y(e){"left"===T.direction?_(e):g(e)}function k(e){"down"===T.direction?g(e):_(e)}function E(e){"left"===T.direction?g(e):_(e)}function w(e){"up"===T.direction?g(e):_(e)}function C(e){return o.getClosest(e,"md-fab-trigger")}function A(e){return o.getClosest(e,"md-fab-actions")}function I(e){C(e.target)&&T.toggle(),A(e.target)&&T.close()}function x(){return n.find("md-fab-trigger")}function M(){return n.find("md-fab-actions")}var T=this;T.open=function(){e.$evalAsync("vm.isOpen = true")},T.close=function(){e.$evalAsync("vm.isOpen = false"),n.find("md-fab-trigger")[0].focus()},T.toggle=function(){e.$evalAsync("vm.isOpen = !vm.isOpen")},s(),c(),d();var S=0;m();var N}t.module("material.components.fabShared",["material.core"]).controller("FabController",e),e.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"]}()}(),function(){!function(){function n(){function e(e,t){t.prepend('<div class="md-css-variables"></div>')}return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"FabController",controllerAs:"vm",link:e}}function i(n){function i(e){n(e,r,!1)}function o(n){if(!n.hasClass("md-animations-waiting")||n.hasClass("md-animations-ready")){var i=n[0],o=n.controller("mdFabSpeedDial"),r=i.querySelectorAll(".md-fab-action-item"),a=i.querySelector("md-fab-trigger"),s=i.querySelector(".md-css-variables"),c=parseInt(e.getComputedStyle(s).zIndex);t.forEach(r,function(e,t){var n=e.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=r.length-t+c}),a.style.zIndex=c+r.length+1,o.isOpen||t.forEach(r,function(e,t){var n,i,r=e.style,s=(a.clientHeight-e.clientHeight)/2,c=(a.clientWidth-e.clientWidth)/2;switch(o.direction){case"up":n=e.scrollHeight*(t+1)+s,i="Y";break;case"down":n=-(e.scrollHeight*(t+1)+s),i="Y";break;case"left":n=e.scrollWidth*(t+1)+c,i="X";break;case"right":n=-(e.scrollWidth*(t+1)+c),i="X"}var u="translate"+i+"("+n+"px)";r.transform=r.webkitTransform=u})}}return{addClass:function(e,t,n){e.hasClass("md-fling")?(o(e),i(n)):n()},removeClass:function(e,t,n){o(e),i(n)}}}function o(n){function i(e){n(e,r,!1)}function o(n){var i=n[0],o=n.controller("mdFabSpeedDial"),r=i.querySelectorAll(".md-fab-action-item"),s=i.querySelector(".md-css-variables"),c=parseInt(e.getComputedStyle(s).zIndex);t.forEach(r,function(e,t){var n=e.style,i=t*a;n.opacity=o.isOpen?1:0,n.transform=n.webkitTransform=o.isOpen?"scale(1)":"scale(0.1)",n.transitionDelay=(o.isOpen?i:r.length-i)+"ms",n.zIndex=r.length-t+c})}var a=65;return{addClass:function(e,t,n){o(e),i(n)},removeClass:function(e,t,n){o(e),i(n)}}}var r=300;t.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabSpeedDial",n).animation(".md-fling",i).animation(".md-scale",o).service("mdFabSpeedDialFlingAnimation",i).service("mdFabSpeedDialScaleAnimation",o),i.$inject=["$timeout"],o.$inject=["$timeout"]}()}(),function(){!function(){function n(){function e(e,t,n){t.addClass("md-fab-toolbar"),t.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"FabController",controllerAs:"vm",link:e}}function i(){function n(n,i,o){if(i){var r=n[0],a=n.controller("mdFabToolbar"),s=r.querySelector(".md-fab-toolbar-background"),c=r.querySelector("md-fab-trigger button"),u=r.querySelector("md-toolbar"),l=r.querySelector("md-fab-trigger button md-icon"),d=n.find("md-fab-actions").children();if(c&&s){var m=e.getComputedStyle(c).getPropertyValue("background-color"),f=r.offsetWidth,p=(r.offsetHeight,2*(f/c.offsetWidth));s.style.backgroundColor=m,s.style.borderRadius=f+"px",a.isOpen?(u.style.pointerEvents="initial",s.style.width=c.offsetWidth+"px",s.style.height=c.offsetHeight+"px",s.style.transform="scale("+p+")",s.style.transitionDelay="0ms",l&&(l.style.transitionDelay=".3s"),t.forEach(d,function(e,t){e.style.transitionDelay=25*(d.length-t)+"ms"})):(u.style.pointerEvents="none",s.style.transform="scale(1)",s.style.top="0",n.hasClass("md-right")&&(s.style.left="0",s.style.right=null),n.hasClass("md-left")&&(s.style.right="0",s.style.left=null),s.style.transitionDelay="200ms",l&&(l.style.transitionDelay="0ms"),t.forEach(d,function(e,t){e.style.transitionDelay=200+25*t+"ms"}))}}}return{addClass:function(e,t,i){n(e,t,i),i()},removeClass:function(e,t,i){n(e,t,i),i()}}}t.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabToolbar",n).animation(".md-fab-toolbar",i).service("mdFabToolbarAnimation",i)}()}(),function(){!function(){function e(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"]}}t.module("material.components.fabTrigger",["material.core"]).directive("mdFabTrigger",e)}()}(),function(){function e(e,i,o,r){function a(n,a,s,c){function u(){for(var e in i.MEDIA)r(e),r.getQuery(i.MEDIA[e]).addListener(E);return r.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],s,d)}function l(){c.layoutDelegate=t.noop,w();for(var e in i.MEDIA)r.getQuery(i.MEDIA[e]).removeListener(E)}function d(e){null==e?c.invalidateLayout():r(e)&&c.invalidateLayout()}function m(e){var i=v(),r={tileSpans:g(i),colCount:_(),rowMode:y(),rowHeight:$(),gutter:b()};if(e||!t.equals(r,C)){var s=o(r.colCount,r.tileSpans,i).map(function(e,n){return{grid:{element:a,style:h(r.colCount,n,r.gutter,r.rowMode,r.rowHeight)},tiles:e.map(function(e,o){return{element:t.element(i[o]),style:p(e.position,e.spans,r.colCount,n,r.gutter,r.rowMode,r.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:s}}),C=r}}function f(e){return A+e+I}function p(e,t,n,i,o,r,a){var s=1/n*100,c=(n-1)/n,u=x({share:s,gutterShare:c,gutter:o}),l={left:M({unit:u,offset:e.col,gutter:o}),width:T({unit:u,span:t.col,gutter:o}),paddingTop:"",marginTop:"",top:"",height:""};switch(r){case"fixed":l.top=M({unit:a,offset:e.row,gutter:o}),l.height=T({unit:a,span:t.row,gutter:o});break;case"ratio":var d=s/a,m=x({share:d,gutterShare:c,gutter:o});l.paddingTop=T({unit:m,span:t.row,gutter:o}),l.marginTop=M({unit:m,offset:e.row,gutter:o});break;case"fit":var f=(i-1)/i,d=1/i*100,m=x({share:d,gutterShare:f,gutter:o});l.top=M({unit:m,offset:e.row,gutter:o}),l.height=T({unit:m,span:t.row,gutter:o})}return l}function h(e,t,n,i,o){var r={};switch(i){case"fixed":r.height=T({unit:o,span:t,gutter:n}),r.paddingBottom="";break;case"ratio":var a=1===e?0:(e-1)/e,s=1/e*100,c=s*(1/o),u=x({share:c,gutterShare:a,gutter:n});r.height="",r.paddingBottom=T({unit:u,span:t,gutter:n});break;case"fit":}return r}function v(){return[].filter.call(a.children(),function(e){return"MD-GRID-TILE"==e.tagName&&!e.$$mdDestroyed})}function g(e){return[].map.call(e,function(e){var n=t.element(e).controller("mdGridTile");return{row:parseInt(r.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(r.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function _(){var e=parseInt(r.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(e))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return e}function b(){return k(r.getResponsiveAttribute(s,"md-gutter")||1)}function $(){var e=r.getResponsiveAttribute(s,"md-row-height");switch(y()){case"fixed":return k(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function y(){var e=r.getResponsiveAttribute(s,"md-row-height");return"fit"==e?"fit":-1!==e.indexOf(":")?"ratio":"fixed"}function k(e){return/\D$/.test(e)?e:e+"px"}a.attr("role","list"),c.layoutDelegate=m;var E=t.bind(c,c.invalidateLayout),w=u();n.$on("$destroy",l);var C,A=e.startSymbol(),I=e.endSymbol(),x=e(f("share")+"% - ("+f("gutter")+" * "+f("gutterShare")+")"),M=e("calc(("+f("unit")+" + "+f("gutter")+") * "+f("offset")+")"),T=e("calc(("+f("unit")+") * "+f("span")+" + ("+f("span")+" - 1) * "+f("gutter")+")")}return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:a}}function n(e){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=e.nextTick,this.layoutDelegate=t.noop}function i(e){function n(t,n){var i,a,s,c,u,l;return c=e.time(function(){a=o(t,n)}),i={layoutInfo:function(){return a},map:function(t){return u=e.time(function(){var e=i.layoutInfo();s=t(e.positioning,e.rowCount)}),i},reflow:function(t){return l=e.time(function(){var e=t||r;e(s.grid,s.tiles)}),i},performance:function(){return{tileCount:n.length,layoutTime:c,mapTime:u,reflowTime:l,totalTime:c+u+l}}}}function i(e,t){e.element.css(e.style),t.forEach(function(e){e.element.css(e.style)})}function o(e,t){function n(t,n){if(t.col>e)throw"md-grid-list: Tile at position "+n+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var a=0,l=0;l-a<t.col;)s>=e?i():(a=u.indexOf(0,s),-1!==a&&-1!==(l=r(a+1))?s=l+1:(a=l=0,i()));return o(a,t.col,t.row),s=a+t.col,{col:a,row:c}}function i(){s=0,c++,o(0,e,-1)}function o(e,t,n){for(var i=e;e+t>i;i++)u[i]=Math.max(u[i]+n,0)}function r(e){var t;for(t=e;t<u.length;t++)if(0!==u[t])return t;return t===u.length?t:void 0}function a(){for(var t=[],n=0;e>n;n++)t.push(0);return t}var s=0,c=0,u=a();return{positioning:t.map(function(e,t){return{spans:e,position:n(e,t)}}),rowCount:c+Math.max.apply(Math,u)}}var r=i;return n.animateWith=function(e){r=t.isFunction(e)?e:i},n}function o(e){function n(n,i,o,r){i.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],o,t.bind(r,r.invalidateLayout));r.invalidateTiles(),n.$on("$destroy",function(){i[0].$$mdDestroyed=!0,a(),r.invalidateLayout()}),t.isDefined(n.$parent.$index)&&n.$watch(function(){return n.$parent.$index},function(e,t){e!==t&&r.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:n}}function r(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}t.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",o).directive("mdGridTileFooter",r).directive("mdGridTileHeader",r).factory("$mdGridLayout",i),e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],n.$inject=["$mdUtil"],n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(t.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}},i.$inject=["$mdUtil"],o.$inject=["$mdMedia"]}(),function(){t.module("material.components.icon",["material.core"])}(),function(){function n(e,t){function n(t,n,i){e(n),n.find("md-icon").length&&n.addClass("md-has-icon")}function i(e,n,i,o){var r=this;r.isErrorGetter=i.mdIsError&&t(i.mdIsError),r.delegateClick=function(){r.input.focus()},r.element=n,r.setFocused=function(e){n.toggleClass("md-input-focused",!!e)},r.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)},r.setHasPlaceholder=function(e){n.toggleClass("md-input-has-placeholder",!!e)},r.setInvalid=function(e){e?o.addClass(n,"md-input-invalid"):o.removeClass(n,"md-input-invalid")},e.$watch(function(){return r.label&&r.input},function(e){e&&!r.label.attr("for")&&r.label.attr("for",r.input.attr("id"))})}return i.$inject=["$scope","$element","$attrs","$animate"],{restrict:"E",link:n,controller:i}}function i(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,i){!i||n.mdNoFloat||t.hasClass("md-container-ignore")||(i.label=t,e.$on("$destroy",function(){i.label=null}))}}}function o(e,n,i){function o(o,r,a,s){function c(e){return d.setHasValue(!f.$isEmpty(e)),e}function u(){d.setHasValue(r.val().length>0||(r[0].validity||{}).badInput)}function l(){function i(e){return h(),e}function a(){if(l.style.height=l.offsetHeight+"px",r.addClass("md-no-flex"),isNaN(m)){u.style.height="auto",u.scrollTop=0;var e=s();e&&(u.style.height=e+"px")}else{u.setAttribute("rows",1),p||(u.style.minHeight="0",p=r.prop("clientHeight"),u.style.minHeight=null);var t=Math.min(m,Math.round(u.scrollHeight/p));u.setAttribute("rows",t),u.style.height=p*t+"px"}r.removeClass("md-no-flex"),l.style.height="auto"}function s(){var e=u.scrollHeight-u.offsetHeight;return u.offsetHeight+(e>0?e:0)}function c(e){u.scrollTop=0;var t=u.scrollHeight-u.offsetHeight,n=u.offsetHeight+t;u.style.height=n+"px"}if(!t.isDefined(r.attr("md-no-autogrow"))){var u=r[0],l=d.element[0],m=NaN,p=null;u.hasAttribute("rows")&&(m=parseInt(u.getAttribute("rows")));var h=e.debounce(a,1);if(f?(f.$formatters.push(i),f.$viewChangeListeners.push(i)):h(),r.on("keydown input",h),isNaN(m)&&(r.attr("rows","1"),r.on("scroll",c)),t.element(n).on("resize",h),o.$on("$destroy",function(){t.element(n).off("resize",h)}),t.isDefined(r.attr("md-detect-hidden"))){var v=function(){var e=!1;return function(){var t=0===u.offsetHeight;t===!1&&e===!0&&a(),e=t}}();o.$watch(function(){return e.nextTick(v,!1),!0})}}}var d=s[0],m=!!s[1],f=s[1]||e.fakeNgModel(),p=t.isDefined(a.readonly);if(d){if(d.input)throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!");d.input=r;var h=t.element('<div class="md-errors-spacer">');r.after(h),d.label||i.expect(r,"aria-label",r.attr("placeholder")),r.addClass("md-input"),r.attr("id")||r.attr("id","input_"+e.nextUid()),"textarea"===r[0].tagName.toLowerCase()&&l(),m||u();var v=d.isErrorGetter||function(){return f.$invalid&&(f.$touched||f.$$parentForm&&f.$$parentForm.$submitted)};o.$watch(v,d.setInvalid),f.$parsers.push(c),f.$formatters.push(c),r.on("input",u),p||r.on("focus",function(e){d.setFocused(!0)}).on("blur",function(e){d.setFocused(!1),u()}),o.$on("$destroy",function(){d.setFocused(!1),d.setHasValue(!1),d.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:o}}function r(e,n){function i(i,o,r,a){function s(e){return u.parent?(u.text(String(o.val()||e||"").length+"/"+c),e):e}var c,u,l,d=a[0],m=a[1];n.nextTick(function(){l=t.element(m.element[0].querySelector(".md-errors-spacer")),u=t.element('<div class="md-char-counter">'),l.append(u),r.$set("ngTrim","false"),d.$formatters.push(s),d.$viewChangeListeners.push(s),o.on("input keydown keyup",function(){s()}),i.$watch(r.mdMaxlength,function(n){c=n,t.isNumber(n)&&n>0?(u.parent().length||e.enter(u,l),s()):e.leave(u)}),d.$validators["md-maxlength"]=function(e,n){return!t.isNumber(c)||0>c?!0:(e||o.val()||n||"").length<=c}})}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:i}}function a(e){function n(e,n,i,o){if(o){var r=o.element.find("label"),a=t.isDefined(o.element.attr("md-no-float"));if(r&&r.length||a)return void o.setHasPlaceholder(!0);var s=i.placeholder;if(n.removeAttr("placeholder"),o.input&&"MD-SELECT"!=o.input[0].nodeName){var c='<label ng-click="delegateClick()">'+s+"</label>";o.element.addClass("md-icon-float"),o.element.prepend(c)}}}return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:n}}function s(){function e(e,n,i,o){o&&(n.toggleClass("md-input-messages-animation",!0),n.toggleClass("md-auto-hide",!0),("false"==i.mdAutoHide||t(i))&&n.toggleClass("md-auto-hide",!1))}function t(e){return _.some(function(t){return e[t]})}return{restrict:"EA",link:e,require:"^^?mdInputContainer"}}function c(e){function t(t){var n=e.getClosest(t,"md-input-container");if(n)return t.toggleClass("md-input-message-animation",!0),{}}return{restrict:"EA",compile:t,priority:100}}function u(e,t){return{addClass:function(n,i,o){var r=g(n);"md-input-invalid"==i&&r.hasClass("md-auto-hide")&&m(n,t,e)["finally"](o)}}}function l(e,t){return{enter:function(n,i){m(n,t,e)["finally"](i)},leave:function(n,i){f(n,t,e)["finally"](i)},addClass:function(n,i,o){"ng-hide"==i?f(n,t,e)["finally"](o):o()},removeClass:function(n,i,o){"ng-hide"==i?m(n,t,e)["finally"](o):o()}}}function d(e){return{enter:function(t,n){var i=g(t);return i.hasClass("md-auto-hide")?void n():p(t,e)},leave:function(t,n){return h(t,e)}}}function m(e,n,i){var o,r=[],a=g(e);return t.forEach(a.children(),function(e){o=p(t.element(e),n),r.push(o.start())}),i.all(r)}function f(e,n,i){var o,r=[],a=g(e);return t.forEach(a.children(),function(e){o=h(t.element(e),n),r.push(o.start())}),i.all(r)}function p(e,t){var n=e[0].offsetHeight;return t(e,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-n+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function h(t,n){var i=t[0].offsetHeight,o=e.getComputedStyle(t[0]);return 0==o.opacity?n(t,{}):n(t,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-i+"px"},duration:.3})}function v(e){var t=e.controller("mdInputContainer");return t.element}function g(e){var n=v(e),i="ng-messages,data-ng-messages,x-ng-messages,[ng-messages],[data-ng-messages],[x-ng-messages]";return t.element(n[0].querySelector(i))}t.module("material.components.input",["material.core"]).directive("mdInputContainer",n).directive("label",i).directive("input",o).directive("textarea",o).directive("mdMaxlength",r).directive("placeholder",a).directive("ngMessages",s).directive("ngMessage",c).directive("ngMessageExp",c).animation(".md-input-invalid",u).animation(".md-input-messages-animation",l).animation(".md-input-message-animation",d),n.$inject=["$mdTheming","$parse"],o.$inject=["$mdUtil","$window","$mdAria"],r.$inject=["$animate","$mdUtil"],a.$inject=["$log"];var _=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"];c.$inject=["$mdUtil"],u.$inject=["$q","$animateCss"],l.$inject=["$q","$animateCss"],d.$inject=["$animateCss"]}(),function(){function e(e){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),e}}}function n(e,n,i,o){var r=["md-checkbox","md-switch"];return{restrict:"E",controller:"MdListController",compile:function(a,s){function c(){for(var e,t,n=["md-switch","md-checkbox"],i=0;t=n[i];++i)if((e=a.find(t)[0])&&!e.hasAttribute("aria-label")){var o=a.find("p")[0];if(!o)return;e.setAttribute("aria-label","Toggle "+o.textContent)}}function u(e){var n;"div"==e?(n=t.element('<div class="md-no-style md-list-item-inner">'),n.append(a.contents()),a.addClass("md-proxy-focus")):(n=t.element('<md-button class="md-no-style"><div class="md-list-item-inner"></div></md-button>'),d(a[0],n[0]),n.children().eq(0).append(a.contents())),a[0].setAttribute("tabindex","-1"),a.append(n)}function l(){if(g&&!f(g)&&g.hasAttribute("ng-click")){e.expect(g,"aria-label");var n=t.element('<md-button class="md-secondary-container md-icon-button">');d(g,n[0]),g.setAttribute("tabindex","-1"),g.classList.remove("md-secondary"),n.append(g),g=n[0]}g&&(g.hasAttribute("ng-click")||s.ngClick&&m(g))&&(a.addClass("md-with-secondary"),a.append(g))}function d(e,n){var i=["ng-if","ng-click","aria-label","ng-disabled","ui-sref","href","ng-href","ng-attr-ui-sref"];t.forEach(i,function(t){e.hasAttribute(t)&&(n.setAttribute(t,e.getAttribute(t)),e.removeAttribute(t))})}function m(e){return-1!=r.indexOf(e.nodeName.toLowerCase())}function f(e){var t=e.nodeName.toUpperCase();return"MD-BUTTON"==t||"BUTTON"==t}function p(e,a,s,c){function u(e){for(var t=e.attributes,n=0;n<t.length;n++)if("ngClick"===s.$normalize(t[n].name))return!0;return!1}function l(){var e=a.children();e.length&&!e[0].hasAttribute("ng-click")&&t.forEach(r,function(e){t.forEach(f.querySelectorAll(e),function(e){m.push(e)})})}function d(){(1==m.length||p)&&(a.addClass("md-clickable"),p||c.attachRipple(e,t.element(a[0].querySelector(".md-no-style"))))}var m=[],f=a[0].firstElementChild,p=f&&u(f);l(),d(),a.hasClass("md-proxy-focus")&&m.length&&t.forEach(m,function(n){n=t.element(n),e.mouseActive=!1,n.on("mousedown",function(){e.mouseActive=!0,o(function(){e.mouseActive=!1},100)}).on("focus",function(){e.mouseActive===!1&&a.addClass("md-focused"),n.on("blur",function t(){a.removeClass("md-focused"),n.off("blur",t)})})}),p||m.length||f&&f.addEventListener("keypress",function(e){if("INPUT"!=e.target.nodeName&&"TEXTAREA"!=e.target.nodeName){var t=e.which||e.keyCode;t==n.KEY_CODE.SPACE&&f&&(f.click(),e.preventDefault(),e.stopPropagation())}}),a.off("click"),a.off("keypress"),1==m.length&&f&&a.children().eq(0).on("click",function(e){var n=i.getClosest(e.target,"BUTTON");!n&&f.contains(e.target)&&t.forEach(m,function(n){e.target===n||n.contains(e.target)||t.element(n).triggerHandler("click")})})}var h,v,g=a[0].querySelector(".md-secondary");if(a[0].setAttribute("role","listitem"),s.ngClick||s.ngHref||s.href||s.uiSref||s.ngAttrUiSref)u("button");else{for(var _,b=0;_=r[b];++b)if(v=a[0].querySelector(_)){h=!0;break}h?u("div"):a[0].querySelector("md-button:not(.md-secondary):not(.md-exclude)")||a.addClass("md-no-proxy")}return l(),c(),p}}}function i(e,t,n){function i(e,t){var i={};n.attach(e,t,i)}var o=this;o.attachRipple=i}t.module("material.components.list",["material.core"]).controller("MdListController",i).directive("mdList",e).directive("mdListItem",n),e.$inject=["$mdTheming"],n.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],i.$inject=["$scope","$element","$mdListInkRipple"]}(),function(){t.module("material.components.menu",["material.core","material.components.backdrop"])}(),function(){t.module("material.components.menuBar",["material.core","material.components.menu"])}(),function(){function e(e,i,o){function r(e){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),a}function a(r,a,f){function p(){f.$observe("value",function(e){var t=s(e);a.attr("aria-valuenow",t),b()==d&&g(t)}),f.$observe("mdMode",function(e){switch(e){case d:case m:k.removeClass("ng-hide"),$&&k.removeClass($),k.addClass($="md-mode-"+e);break;default:$&&k.removeClass($),k.addClass("ng-hide"),$=n}})}function h(){y.css({width:100*_()+"px",height:100*_()+"px"}),y.children().eq(0).css(E({transform:i.supplant("translate(-50%, -50%) scale( {0} )",[_()])}))}function v(){if(t.isUndefined(f.mdMode)){var e=t.isDefined(f.value),n=e?d:m,r="Auto-adding the missing md-mode='{0}' to the ProgressCircular element";o.debug(i.supplant(r,[n])),a.attr("md-mode",n),f.mdMode=n}}function g(e){if(b()){w=w||t.element(a[0].querySelector(".md-left > .md-half-circle")),C=C||t.element(a[0].querySelector(".md-right > .md-half-circle")),A=A||t.element(a[0].querySelector(".md-gap"));var n=c({borderBottomColor:50>=e?"transparent !important":"",transition:50>=e?"":"borderBottomColor 0.1s linear"}),o=c({transition:50>=e?"transform 0.1s linear":"",transform:i.supplant("rotate({0}deg)",[50>=e?135:(e-50)/50*180+135])}),r=c({transition:e>=50?"transform 0.1s linear":"",transform:i.supplant("rotate({0}deg)",[e>=50?45:e/50*180-135])});w.css(E(o)),C.css(E(r)),A.css(E(n))}}function _(){if(!f.mdDiameter)return l;var e=/([0-9]*)%/.exec(f.mdDiameter),t=Math.max(0,e&&e[1]/100||parseFloat(f.mdDiameter));return t>1?t/u:t}function b(){var e=(f.mdMode||"").trim();if(e)switch(e){case d:case m:break;default:e=n}return e}e(a);var $,y=a,k=t.element(a.children()[0]),E=i.dom.animator.toCss;a.attr("md-mode",b()),h(),v(),p();var w,C,A}function s(e){return Math.max(0,Math.min(e||0,100))}function c(e){for(var t in e)e.hasOwnProperty(t)&&""==e[t]&&delete e[t];return e}var u=100,l=.5,d="determinate",m="indeterminate";return{restrict:"E",scope:!0,template:'<div class="md-scale-wrapper"><div class="md-spinner-wrapper"><div class="md-inner"><div class="md-gap"></div><div class="md-left"><div class="md-half-circle"></div></div><div class="md-right"><div class="md-half-circle"></div></div></div></div></div>',compile:r}}t.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",e),e.$inject=["$mdTheming","$mdUtil","$log"]}(),function(){function e(e,i,o){function r(e,t,n){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),a}function a(r,a,m){function f(){m.$observe("value",function(e){var t=s(e);a.attr("aria-valuenow",t),h()!=d&&v($,t)}),m.$observe("mdBufferValue",function(e){v(b,s(e))}),m.$observe("mdMode",function(e){switch(e){case d:case l:case c:case u:y.removeClass("ng-hide "+g),y.addClass(g="md-mode-"+e);break;default:g&&y.removeClass(g),y.addClass("ng-hide"),g=n}})}function p(){if(t.isUndefined(m.mdMode)){var e=t.isDefined(m.value),n=e?c:u,r="Auto-adding the missing md-mode='{0}' to the ProgressLinear element";o.debug(i.supplant(r,[n])),a.attr("md-mode",n),m.mdMode=n}}function h(){var e=(m.mdMode||"").trim();if(e)switch(e){case c:case u:case l:case d:break;default:e=n}return e}function v(e,n){if(h()){var o=i.supplant("translateX({0}%) scale({1},1)",[(n-100)/2,n/100]),r=_({transform:o});t.element(e).css(r)}}e(a);var g,_=i.dom.animator.toCss,b=t.element(a[0].querySelector(".md-bar1")),$=t.element(a[0].querySelector(".md-bar2")),y=t.element(a[0].querySelector(".md-container"));a.attr("md-mode",h()),p(),f()}function s(e){return Math.max(0,Math.min(e||0,100))}var c="determinate",u="indeterminate",l="buffer",d="query";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:r}}t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e),e.$inject=["$mdTheming","$mdUtil","$log"]}(),function(){function e(e,n,i,o){function r(r,a,s,c){function u(){a.hasClass("md-focused")||a.addClass("md-focused")}function l(i){var o=i.which||i.keyCode;if(o==n.KEY_CODE.ENTER||i.currentTarget==i.target)switch(o){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:i.preventDefault(),d.selectPrevious(),u();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:i.preventDefault(),d.selectNext(),u();break;case n.KEY_CODE.ENTER:var r=t.element(e.getClosest(a[0],"form"));r.length>0&&r.triggerHandler("submit")}}i(a);var d=c[0],m=c[1]||e.fakeNgModel();d.init(m),r.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",l).on("mousedown",function(e){r.mouseActive=!0,o(function(){r.mouseActive=!1},100)}).on("focus",function(){r.mouseActive===!1&&d.$element.addClass("md-focused")}).on("blur",function(){d.$element.removeClass("md-focused")})}function a(e){this._radioButtonRenderFns=[],this.$element=e}function s(){return{init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);-1!==t&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return c(this.$element,1)},selectPrevious:function(){return c(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)}}}function c(n,i){var o=e.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(o.count()){var r=function(e){return!t.element(e).attr("disabled")},a=n[0].querySelector("md-radio-button.md-checked"),s=o[0>i?"previous":"next"](a,r)||o.first();t.element(s).triggerHandler("click")}}return a.prototype=s(),{restrict:"E",controller:["$element",a],require:["mdRadioGroup","?ngModel"],link:{pre:r}}}function n(e,t,n){function i(i,r,a,s){function c(e){if(!s)throw"RadioGroupController not found.";s.add(l),a.$observe("value",l),r.on("click",u).on("$destroy",function(){s.remove(l)})}function u(e){r[0].hasAttribute("disabled")||i.$apply(function(){s.setViewValue(a.value,e&&e.type)})}function l(){function e(e){"MD-RADIO-GROUP"!=r.parent()[0].nodeName&&r.parent()[e?"addClass":"removeClass"](o)}var t=s.getViewValue()==a.value;t!==m&&(m=t,r.attr("aria-checked",t),t?(e(!0),r.addClass(o),s.setActiveDescendant(r.attr("id"))):(e(!1),r.removeClass(o)))}function d(n,i){function o(){return a.id||"radio_"+t.nextUid()}i.ariaId=o(),n.attr({id:i.ariaId,role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}var m;n(r),d(r,i),c()}var o="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:i}}t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",n),e.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],n.$inject=["$mdAria","$mdUtil","$mdTheming"]}(),function(){function e(e,i,o,r,a,s){function c(a,c){var u=t.element("<md-select-value><span></span></md-select-value>");if(u.append('<span class="md-select-icon" aria-hidden="true"></span>'),u.addClass("md-select-value"),u[0].hasAttribute("id")||u.attr("id","select_value_label_"+i.nextUid()),a.find("md-content").length||a.append(t.element("<md-content>").append(a.contents())),c.mdOnOpen&&(a.find("md-content").prepend(t.element('<div> <md-progress-circular md-mode="{{progressMode}}" ng-hide="$$loadingAsyncDone"></md-progress-circular></div>')),a.find("md-option").attr("ng-show","$$loadingAsyncDone")),c.name){var l=t.element('<select class="md-visually-hidden">');l.attr({name:"."+c.name,"ng-model":c.ngModel,"aria-hidden":"true",tabindex:"-1"});var d=a.find("md-option");t.forEach(d,function(e){var n=t.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?n.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&n.attr("value",e.getAttribute("value")),l.append(n)}),a.parent().append(l)}var m=t.isDefined(c.multiple)?"multiple":"",f='<div class="md-select-menu-container" aria-hidden="true"><md-select-menu {0}>{1}</md-select-menu></div>';return f=i.supplant(f,[m,a.html()]),a.empty().append(u),a.append(f),c.tabindex=c.tabindex||"0",function(a,c,u,l){function d(){var e=c.attr("aria-label")||c.attr("placeholder");!e&&y&&y.label&&(e=y.label.text()),b=e,r.expect(c,"aria-label",e)}function m(){x&&(T=T||x.find("md-select-menu").controller("mdSelectMenu"),k.setLabelText(T.selectedLabels()))}function f(){if(b){var e=T.selectedLabels({mode:"aria"});c.attr("aria-label",e.length?b+": "+e:b)}}function p(){y&&y.setHasValue(T.selectedLabels().length>0||(c[0].validity||{}).badInput)}function h(){if(x=t.element(c[0].querySelector(".md-select-menu-container")),
M=a,c.attr("md-container-class")){var e=x[0].getAttribute("class")+" "+c.attr("md-container-class");x[0].setAttribute("class",e)}T=x.find("md-select-menu").controller("mdSelectMenu"),T.init(E,u.ngModel),c.on("$destroy",function(){x.remove()})}function v(e){var n=[32,13,38,40];if(-1!=n.indexOf(e.keyCode))e.preventDefault(),g(e);else if(e.keyCode<=90&&e.keyCode>=31){e.preventDefault();var i=T.optNodeForKeyboardSearch(e);if(!i)return;var o=t.element(i).controller("mdOption");T.isMultiple||T.deselect(Object.keys(T.selected)[0]),T.select(o.hashKey,o.value),T.refreshViewValue()}}function g(){M.isOpen=!0,c.attr("aria-expanded","true"),e.show({scope:M,preserveScope:!0,skipCompile:!0,element:x,target:c[0],selectCtrl:k,preserveElement:!0,hasBackdrop:!0,loadingAsync:u.mdOnOpen?a.$eval(u.mdOnOpen)||!0:!1})["finally"](function(){M.isOpen=!1,c.focus(),c.attr("aria-expanded","false"),E.$setTouched()})}var _,b,$=!0,y=l[0],k=l[1],E=l[2],w=l[3],C=c.find("md-select-value"),A=t.isDefined(u.readonly);if(y){var I=y.isErrorGetter||function(){return E.$invalid&&E.$touched};if(y.input)throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");y.input=c,y.label||r.expect(c,"aria-label",c.attr("placeholder")),a.$watch(I,y.setInvalid)}var x,M,T;if(h(),o(c),u.name&&w){var S=c.parent()[0].querySelector('select[name=".'+u.name+'"]');i.nextTick(function(){var e=t.element(S).controller("ngModel");e&&w.$removeControl(e)})}w&&i.nextTick(function(){w.$setPristine()});var N=E.$render;E.$render=function(){N(),m(),f(),p()},u.$observe("placeholder",E.$render),k.setLabelText=function(e){k.setIsPlaceholder(!e);var t=u.placeholder||(y&&y.label?y.label.text():"");e=e||t||"";var n=C.children().eq(0);n.html(e)},k.setIsPlaceholder=function(e){e?(C.addClass("md-select-placeholder"),y&&y.label&&y.label.addClass("md-placeholder")):(C.removeClass("md-select-placeholder"),y&&y.label&&y.label.removeClass("md-placeholder"))},A||(c.on("focus",function(e){y&&y.element.hasClass("md-input-has-value")&&y.setFocused(!0)}),i.nextTick(function(){c.on("blur",function(){$&&($=!1,E.$setUntouched()),M.isOpen||(y&&y.setFocused(!1),p())})})),k.triggerClose=function(){s(u.mdOnClose)(a)},a.$$postDigest(function(){d(),m(),f()}),a.$watch(T.selectedLabels,m);var D;u.$observe("ngMultiple",function(e){D&&D();var t=s(e);D=a.$watch(function(){return t(a)},function(e,t){(e!==n||t!==n)&&(e?c.attr("multiple","multiple"):c.removeAttr("multiple"),c.attr("aria-multiselectable",e?"true":"false"),x&&(T.setMultiple(e),N=E.$render,E.$render=function(){N(),m(),f(),p()},E.$render()))})}),u.$observe("disabled",function(e){t.isString(e)&&(e=!0),(_===n||_!==e)&&(_=e,e?(c.attr({tabindex:-1,"aria-disabled":"true"}),c.off("click",g),c.off("keydown",v)):(c.attr({tabindex:u.tabindex,"aria-disabled":"false"}),c.on("click",g),c.on("keydown",v)))}),u.disabled||u.ngDisabled||(c.attr({tabindex:u.tabindex,"aria-disabled":"false"}),c.on("click",g),c.on("keydown",v));var O={role:"listbox","aria-expanded":"false","aria-multiselectable":u.multiple===n||u.ngMultiple?"false":"true"};c[0].hasAttribute("id")||(O.id="select_"+i.nextUid());var L="select_container_"+i.nextUid();x.attr("id",L),O["aria-owns"]=L,c.attr(O),a.$on("$destroy",function(){e.destroy()["finally"](function(){y&&(y.setFocused(!1),y.setHasValue(!1),y.input=null),E.$setTouched()})})}}return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:c,controller:function(){}}}function i(e,i,o){function r(e,n,r,a){function s(e){(13==e.keyCode||32==e.keyCode)&&c(e)}function c(n){var o=i.getClosest(n.target,"md-option"),r=o&&t.element(o).data("$mdOptionController");if(o&&r){if(o.hasAttribute("disabled"))return n.stopImmediatePropagation(),!1;var a=u.hashGetter(r.value),s=t.isDefined(u.selected[a]);e.$apply(function(){u.isMultiple?s?u.deselect(a):u.select(a,r.value):s||(u.deselect(Object.keys(u.selected)[0]),u.select(a,r.value)),u.refreshViewValue()})}}var u=a[0];o(n),n.on("click",c),n.on("keypress",s)}function a(o,r,a){function s(){var e=l.ngModel.$modelValue||l.ngModel.$viewValue||[];if(t.isArray(e)){var n=Object.keys(l.selected),i=e.map(l.hashGetter),o=n.filter(function(e){return-1===i.indexOf(e)});o.forEach(l.deselect),i.forEach(function(t,n){l.select(t,e[n])})}}function u(){var e=l.ngModel.$viewValue||l.ngModel.$modelValue;Object.keys(l.selected).forEach(l.deselect),l.select(l.hashGetter(e),e)}var l=this;l.isMultiple=t.isDefined(r.multiple),l.selected={},l.options={},o.$watchCollection(function(){return l.options},function(){l.ngModel.$render()});var d,m;l.setMultiple=function(e){function n(e,n){return t.isArray(e||n||[])}var i=l.ngModel;m=m||i.$isEmpty,l.isMultiple=e,d&&d(),l.isMultiple?(i.$validators["md-multiple"]=n,i.$render=s,o.$watchCollection(l.modelBinding,function(e){n(e)&&s(e),l.ngModel.$setPristine()}),i.$isEmpty=function(e){return!e||0===e.length}):(delete i.$validators["md-multiple"],i.$render=u)};var f,p,h,v="",g=300;l.optNodeForKeyboardSearch=function(e){f&&clearTimeout(f),f=setTimeout(function(){f=n,v="",h=n,p=n},g),v+=String.fromCharCode(e.keyCode);var i=new RegExp("^"+v,"i");p||(p=a.find("md-option"),h=new Array(p.length),t.forEach(p,function(e,t){h[t]=e.textContent.trim()}));for(var o=0;o<h.length;++o)if(i.test(h[o]))return p[o]},l.init=function(n,i){if(l.ngModel=n,l.modelBinding=i,n.$options&&n.$options.trackBy){var r={},a=e(n.$options.trackBy);l.hashGetter=function(e,t){return r.$value=e,a(t||o,r)}}else l.hashGetter=function(e){return t.isObject(e)?"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++c)):e};l.setMultiple(l.isMultiple)},l.selectedLabels=function(e){e=e||{};var t=e.mode||"html",n=i.nodesToArray(a[0].querySelectorAll("md-option[selected]"));if(n.length){var o;return"html"==t?o=function(e){return e.innerHTML}:"aria"==t&&(o=function(e){return e.hasAttribute("aria-label")?e.getAttribute("aria-label"):e.textContent}),n.map(o).join(", ")}return""},l.select=function(e,t){var n=l.options[e];n&&n.setSelected(!0),l.selected[e]=t},l.deselect=function(e){var t=l.options[e];t&&t.setSelected(!1),delete l.selected[e]},l.addOption=function(e,n){if(t.isDefined(l.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');l.options[e]=n,t.isDefined(l.selected[e])&&(l.select(e,n.value),l.refreshViewValue())},l.removeOption=function(e){delete l.options[e]},l.refreshViewValue=function(){var e,n=[];for(var i in l.selected)(e=l.options[i])?n.push(e.value):n.push(l.selected[i]);var o=l.ngModel.$options&&l.ngModel.$options.trackBy,r=l.isMultiple?n:n[0],a=l.ngModel.$modelValue;(o?t.equals(a,r):a==r)||(l.ngModel.$setViewValue(r),l.ngModel.$render())}}return a.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!0,controller:a,link:{pre:r}}}function o(e,n){function i(e,n){return e.append(t.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",n.tabindex||"0"),o}function o(i,o,r,a){function s(e,t,n){if(!l.hashGetter)return void(n||i.$$postDigest(function(){s(e,t,!0)}));var o=l.hashGetter(t,i),r=l.hashGetter(e,i);u.hashKey=r,u.value=e,l.removeOption(o,u),l.addOption(r,u)}function c(){var e={role:"option","aria-selected":"false"};o[0].hasAttribute("id")||(e.id="select_option_"+n.nextUid()),o.attr(e)}var u=a[0],l=a[1];t.isDefined(r.ngValue)?i.$watch(r.ngValue,s):t.isDefined(r.value)?s(r.value):i.$watch(function(){return o.text()},s),r.$observe("disabled",function(e){e?o.attr("tabindex","-1"):o.attr("tabindex","0")}),i.$$postDigest(function(){r.$observe("selected",function(e){t.isDefined(e)&&("string"==typeof e&&(e=!0),e?(l.isMultiple||l.deselect(Object.keys(l.selected)[0]),l.select(u.hashKey,u.value)):l.deselect(u.hashKey),l.refreshViewValue())})}),e.attach(i,o),c(),i.$on("$destroy",function(){l.removeOption(u.hashKey,u)})}function r(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return r.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:r,compile:i}}function r(){function e(e,n){var i=e.find("label");i.length||(i=t.element("<label>"),e.prepend(i)),i.addClass("md-container-ignore"),n.label&&i.text(n.label)}return{restrict:"E",compile:e}}function a(e){function i(e,i,u,l,d,m,f,p,h){function v(e,t,n){function i(){return f(t,{addClass:"md-leave"}).start()}function o(){t.removeClass("md-active"),t.attr("aria-hidden","true"),t[0].style.display="none",_(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}return n=n||{},n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),n.$destroy===!0?o():i().then(o)}function g(o,r,a){function s(e,t,n){return n.parent.append(t),d(function(e,n){try{f(t,{removeClass:"md-leave",duration:0}).start().then(c).then(e)}catch(i){n(i)}})}function c(){return d(function(e){if(a.isRemoved)return d.reject(!1);var t=b(o,r,a);t.container.element.css(y.toCss(t.container.styles)),t.dropDown.element.css(y.toCss(t.dropDown.styles)),m(function(){r.addClass("md-active"),t.dropDown.element.css(y.toCss({transform:""})),g(a.focusedNode),e()})})}function v(e,t,n){return n.disableParentScroll&&!u.getClosest(n.target,"MD-DIALOG")?n.restoreScroll=u.disableScrollAround(n.element,n.parent):n.disableParentScroll=!1,n.hasBackdrop&&(n.backdrop=u.createBackdrop(e,"md-select-backdrop md-click-catcher"),p.enter(n.backdrop,h[0].body,null,{duration:0})),function(){n.backdrop&&n.backdrop.remove(),n.disableParentScroll&&n.restoreScroll(),delete n.restoreScroll}}function g(e){e&&!e.hasAttribute("disabled")&&e.focus()}function _(e,n){var i=r.find("md-select-menu");if(!n.target)throw new Error(u.supplant($,[n.target]));t.extend(n,{isRemoved:!1,target:t.element(n.target),parent:t.element(n.parent),selectEl:i,contentEl:r.find("md-content"),optionNodes:i[0].getElementsByTagName("md-option")})}function k(){var e=function(e,t,n){return function(){if(!n.isRemoved){var i=b(e,t,n),o=i.container,r=i.dropDown;o.element.css(y.toCss(o.styles)),r.element.css(y.toCss(r.styles))}}}(o,r,a),n=t.element(l);return n.on("resize",e),n.on("orientationchange",e),function(){n.off("resize",e),n.off("orientationchange",e)}}function E(){a.loadingAsync&&!a.isRemoved&&(o.$$loadingAsyncDone=!1,o.progressMode="indeterminate",d.when(a.loadingAsync).then(function(){o.$$loadingAsyncDone=!0,o.progressMode="",delete a.loadingAsync}).then(function(){m(c)}))}function w(){function t(t){t.preventDefault(),t.stopPropagation(),a.restoreFocus=!1,u.nextTick(e.hide,!0)}function o(t){var n=i.KEY_CODE;switch(t.preventDefault(),t.stopPropagation(),t.keyCode){case n.UP_ARROW:return l();case n.DOWN_ARROW:return c();case n.SPACE:case n.ENTER:var o=u.getClosest(t.target,"md-option");o&&(m.triggerHandler({type:"click",target:o}),t.preventDefault()),d(t);break;case n.TAB:case n.ESCAPE:t.stopPropagation(),t.preventDefault(),a.restoreFocus=!0,u.nextTick(e.hide,!0);break;default:if(t.keyCode>=31&&t.keyCode<=90){var r=m.controller("mdSelectMenu").optNodeForKeyboardSearch(t);a.focusedNode=r||a.focusedNode,r&&r.focus()}}}function s(e){var t,i=u.nodesToArray(a.optionNodes),o=i.indexOf(a.focusedNode);do-1===o?o=0:"next"===e&&o<i.length-1?o++:"prev"===e&&o>0&&o--,t=i[o],t.hasAttribute("disabled")&&(t=n);while(!t&&o<i.length-1&&o>0);t&&t.focus(),a.focusedNode=t}function c(){s("next")}function l(){s("prev")}function d(t){function n(){var e=!1;if(t&&t.currentTarget.children.length>0){var n=t.currentTarget.children[0],i=n.scrollHeight>n.clientHeight;if(i&&n.children.length>0){var o=t.pageX-t.currentTarget.getBoundingClientRect().left;o>n.querySelector("md-option").offsetWidth&&(e=!0)}}return e}if(!(t&&"click"==t.type&&t.currentTarget!=m[0]||n())){var i=u.getClosest(t.target,"md-option");i&&i.hasAttribute&&!i.hasAttribute("disabled")&&(t.preventDefault(),t.stopPropagation(),f.isMultiple||(a.restoreFocus=!0,u.nextTick(function(){e.hide(f.ngModel.$viewValue)},!0)))}}if(!a.isRemoved){var m=a.selectEl,f=m.controller("mdSelectMenu")||{};return r.addClass("md-clickable"),a.backdrop&&a.backdrop.on("click",t),m.on("keydown",o),m.on("click",d),function(){a.backdrop&&a.backdrop.off("click",t),m.off("keydown",o),m.off("click",d),r.removeClass("md-clickable"),a.isRemoved=!0}}}return E(),_(o,a),a.hideBackdrop=v(o,r,a),s(o,r,a).then(function(e){return r.attr("aria-hidden","false"),a.alreadyOpen=!0,a.cleanupInteraction=w(),a.cleanupResizing=k(),e},a.hideBackdrop)}function _(e){var t=e.selectCtrl;if(t){var n=e.selectEl.controller("mdSelectMenu");t.setLabelText(n.selectedLabels()),t.triggerClose()}}function b(e,n,i){var d,m=n[0],f=i.target[0].children[0],p=h[0].body,v=i.selectEl[0],g=i.contentEl[0],_=p.getBoundingClientRect(),b=f.getBoundingClientRect(),$=!1,y={left:_.left+s,top:s,bottom:_.height-s,right:_.width-s-(u.floatingScrollbars()?16:0)},k={top:b.top-y.top,left:b.left-y.left,right:y.right-(b.left+b.width),bottom:y.bottom-(b.top+b.height)},E=_.width-2*s,w=v.querySelector("md-option[selected]"),C=v.getElementsByTagName("md-option"),A=v.getElementsByTagName("md-optgroup"),I=c(n,g),x=o(i.loadingAsync);d=x?g.firstElementChild||g:w?w:A.length?A[0]:C.length?C[0]:g.firstElementChild||g,g.offsetWidth>E?g.style["max-width"]=E+"px":g.style.maxWidth=null,$&&(g.style["min-width"]=b.width+"px"),I&&v.classList.add("md-overflow");var M=d;"MD-OPTGROUP"===(M.tagName||"").toUpperCase()&&(M=C[0]||g.firstElementChild||g,d=M),i.focusedNode=M,m.style.display="block";var T=v.getBoundingClientRect(),S=a(d);if(d){var N=l.getComputedStyle(d);S.paddingLeft=parseInt(N.paddingLeft,10)||0,S.paddingRight=parseInt(N.paddingRight,10)||0}if(I){var D=g.offsetHeight/2;g.scrollTop=S.top+S.height/2-D,k.top<D?g.scrollTop=Math.min(S.top,g.scrollTop+D-k.top):k.bottom<D&&(g.scrollTop=Math.max(S.top+S.height-T.height,g.scrollTop-D+k.bottom))}var O,L,H,P;$?(O=b.left,L=b.top+b.height,H="50% 0",L+T.height>y.bottom&&(L=b.top-T.height,H="50% 100%")):(O=b.left+S.left-S.paddingLeft+2,L=Math.floor(b.top+b.height/2-S.height/2-S.top+g.scrollTop)+2,H=S.left+b.width/2+"px "+(S.top+S.height/2-g.scrollTop)+"px 0px",P=Math.min(b.width+S.paddingLeft+S.paddingRight,E));var q=m.getBoundingClientRect(),j=Math.round(100*Math.min(b.width/T.width,1))/100,B=Math.round(100*Math.min(b.height/T.height,1))/100;return{container:{element:t.element(m),styles:{left:Math.floor(r(y.left,O,y.right-q.width)),top:Math.floor(r(y.top,L,y.bottom-q.height)),"min-width":P}},dropDown:{element:t.element(v),styles:{transformOrigin:H,transform:i.alreadyOpen?"":u.supplant("scale({0},{1})",[j,B])}}}}var $="$mdSelect.show() expected a target element in options.target but got '{0}'!",y=u.dom.animator;return{parent:"body",themable:!0,onShow:g,onRemove:v,hasBackdrop:!0,disableParentScroll:!0}}function o(e){return e&&t.isFunction(e.then)}function r(e,t,n){return Math.max(e,Math.min(t,n))}function a(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}function c(e,t){var n=!1;try{var i=e[0].style.display;e[0].style.display="block",n=t.scrollHeight>t.offsetHeight,e[0].style.display=i}finally{}return n}return i.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],e("$mdSelect").setDefaults({methods:["target"],options:i})}var s=8,c=0;t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",e).directive("mdSelectMenu",i).directive("mdOption",o).directive("mdOptgroup",r).provider("$mdSelect",a),e.$inject=["$mdSelect","$mdUtil","$mdTheming","$mdAria","$compile","$parse"],i.$inject=["$parse","$mdUtil","$mdTheming"],o.$inject=["$mdButtonInkRipple","$mdUtil"],a.$inject=["$$interimElementProvider"]}(),function(){function e(e,t){return["$mdUtil",function(n){return{restrict:"A",multiElement:!0,link:function(i,o,r){var a=i.$on("$md-resize-enable",function(){a(),i.$watch(r[e],function(e){!!e===t&&(n.nextTick(function(){i.$broadcast("$md-resize")}),n.dom.animator.waitTransitionEnd(o).then(function(){i.$broadcast("$md-resize")}))})})}}}]}t.module("material.components.showHide",["material.core"]).directive("ngShow",e("ngShow",!0)).directive("ngHide",e("ngHide",!1))}(),function(){function e(e,n){return function(i){function o(){return e.when(i).then(function(e){return s=e,e})}var r,a="SideNav '"+i+"' is not available!",s=e.get(i);return s||e.notFoundError(i),r={isOpen:function(){return s&&s.isOpen()},isLockedOpen:function(){return s&&s.isLockedOpen()},toggle:function(){return s?s.toggle():n.reject(a)},open:function(){return s?s.open():n.reject(a)},close:function(){return s?s.close():n.reject(a)},then:function(e){var i=s?n.when(s):o();return i.then(e||t.noop)}}}}function i(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,n,i){}}}function o(e,i,o,r,a,s,c,u,l,d){function m(s,m,f,p){function h(e,t){s.isLockedOpen=e,e===t?m.toggleClass("md-locked-open",!!e):a[e?"addClass":"removeClass"](m,"md-locked-open"),A.toggleClass("md-locked-open",!!e)}function v(e){var t=i.findFocusTarget(m)||i.findFocusTarget(m,"[md-sidenav-focus]")||m,n=m.parent();return n[e?"on":"off"]("keydown",b),A[e?"on":"off"]("click",$),e&&(k=d[0].activeElement),g(e),E=l.all([e?a.enter(A,n):a.leave(A),a[e?"removeClass":"addClass"](m,"md-closed")]).then(function(){s.isOpen&&t&&t.focus()})}function g(e){var i=m.parent();e&&!y?(y=i.css("overflow"),i.css("overflow","hidden")):t.isDefined(y)&&(i.css("overflow",y),y=n)}function _(e){return s.isOpen==e?l.when(!0):l(function(t){s.isOpen=e,i.nextTick(function(){E.then(function(e){s.isOpen||(k&&k.focus(),k=null),t(e)})})})}function b(e){var t=e.keyCode===o.KEY_CODE.ESCAPE;return t?$(e):l.when(!0)}function $(e){return e.preventDefault(),p.close()}var y,k=null,E=l.when(!0),w=c(f.mdIsLockedOpen),C=function(){return w(s.$parent,{$media:function(t){return u.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),e(t)},$mdMedia:e})},A=i.createBackdrop(s,"md-sidenav-backdrop md-opaque ng-enter");r.inherit(A,m),m.on("$destroy",function(){A.remove(),p.destroy()}),s.$on("$destroy",function(){A.remove()}),s.$watch(C,h),s.$watch("isOpen",v),p.$toggleOpen=_}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed"),e.attr("tabIndex","-1"),m}}}function r(e,t,n,i,o){var r=this;r.isOpen=function(){return!!e.isOpen},r.isLockedOpen=function(){return!!e.isLockedOpen},r.open=function(){return r.$toggleOpen(!0)},r.close=function(){return r.$toggleOpen(!1)},r.toggle=function(){return r.$toggleOpen(!e.isOpen)},r.$toggleOpen=function(t){return o.when(e.isOpen=t)},r.destroy=i.register(r,n.mdComponentId)}t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",o).directive("mdSidenavFocus",i).controller("$mdSidenavController",r),e.$inject=["$mdComponentRegistry","$q"],o.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$animate","$compile","$parse","$log","$q","$document"],r.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]}(),function(){function e(e,n,i,o,r,a,s,c,u){function l(e,t){return e.attr({tabIndex:0,role:"slider"}),i.expect(e,"aria-label"),d}function d(i,l,d,m){function f(){b(),E(),_()}function p(e){W=parseFloat(e),l.attr("aria-valuemin",e),f()}function h(e){K=parseFloat(e),l.attr("aria-valuemax",e),f()}function v(e){X=parseFloat(e),_()}function g(e){l.attr("aria-disabled",!!e)}function _(){if(t.isDefined(d.mdDiscrete)&&!t.isUndefined(X)){if(0>=X){var e="Slider step value must be greater than zero when in discrete mode";throw u.error(e),new Error(e)}var i=Math.floor((K-W)/X);if(!J){J=t.element('<canvas style="position:absolute;">'),V.append(J);var o=n.getComputedStyle(V[0]);Q=J[0].getContext("2d"),Q.fillStyle=o.backgroundColor||"black"}var r=$();J[0].width=r.width,J[0].height=r.height;for(var a,s=0;i>=s;s++)a=Math.floor(r.width*(s/i)),Q.fillRect(a-1,0,2,r.height)}}function b(){Z=U[0].getBoundingClientRect()}function $(){return G(),Z}function y(e){if(!l[0].hasAttribute("disabled")){var t;e.keyCode===r.KEY_CODE.LEFT_ARROW?t=-X:e.keyCode===r.KEY_CODE.RIGHT_ARROW&&(t=X),t&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),i.$evalAsync(function(){k(m.$viewValue+t)}))}}function k(e){m.$setViewValue(w(C(e)))}function E(){isNaN(m.$viewValue)&&(m.$viewValue=m.$modelValue);var e=(m.$viewValue-W)/(K-W);i.modelValue=m.$viewValue,l.attr("aria-valuenow",m.$viewValue),A(e),B.text(m.$viewValue)}function w(e){return t.isNumber(e)?Math.max(W,Math.min(K,e)):void 0}function C(e){if(t.isNumber(e)){var n=Math.round((e-W)/X)*X+W;return Math.round(1e3*n)/1e3}}function A(e){var t=100*e+"%";F.css("width",t),R.css("left",t),l.toggleClass("md-min",0===e),l.toggleClass("md-max",1===e)}function I(e){if(!q()){l.addClass("md-active"),l[0].focus(),b();var t=H(L(e.pointer.x)),n=w(C(t));i.$apply(function(){k(n),A(P(n))})}}function x(e){if(!q()){l.removeClass("md-dragging md-active");var t=H(L(e.pointer.x)),n=w(C(t));i.$apply(function(){k(n),E()})}}function M(e){q()||(ee=!0,e.stopPropagation(),l.addClass("md-dragging"),N(e))}function T(e){ee&&(e.stopPropagation(),N(e))}function S(e){ee&&(e.stopPropagation(),ee=!1)}function N(e){te?O(e.pointer.x):D(e.pointer.x)}function D(e){i.$evalAsync(function(){k(H(L(e)))})}function O(e){var t=H(L(e)),n=w(C(t));A(L(e)),B.text(n)}function L(e){return Math.max(0,Math.min(1,(e-Z.left)/Z.width))}function H(e){return W+e*(K-W)}function P(e){return(e-W)/(K-W)}a(l),m=m||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var q=t.noop;null!=d.disabled?q=function(){return!0}:d.ngDisabled&&(q=t.bind(null,c(d.ngDisabled),i.$parent));var j=t.element(l[0].querySelector(".md-thumb")),B=t.element(l[0].querySelector(".md-thumb-text")),R=j.parent(),U=t.element(l[0].querySelector(".md-track-container")),F=t.element(l[0].querySelector(".md-track-fill")),V=t.element(l[0].querySelector(".md-track-ticks")),G=o.throttle(b,5e3);t.isDefined(d.min)?d.$observe("min",p):p(0),t.isDefined(d.max)?d.$observe("max",h):h(100),t.isDefined(d.step)?d.$observe("step",v):v(1);var z=t.noop;d.ngDisabled&&(z=i.$parent.$watch(d.ngDisabled,g)),s.register(l,"drag"),l.on("keydown",y).on("$md.pressdown",I).on("$md.pressup",x).on("$md.dragstart",M).on("$md.drag",T).on("$md.dragend",S),setTimeout(f,0);var Y=e.throttle(f);t.element(n).on("resize",Y),i.$on("$destroy",function(){t.element(n).off("resize",Y),z()}),m.$render=E,m.$viewChangeListeners.push(E),m.$formatters.push(w),m.$formatters.push(C);var W,K,X,J,Q,Z={};b();var ee=!1,te=t.isDefined(d.mdDiscrete)}return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div>',compile:l}}t.module("material.components.slider",["material.core"]).directive("mdSlider",e),e.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log"]}(),function(){function e(e,i,o,r){function a(e){function t(e,t){t.addClass("md-sticky-clone");var n={element:e,clone:t};return h.items.push(n),r.nextTick(function(){f.prepend(n.clone)}),p(),function(){h.items.forEach(function(t,n){t.element[0]===e[0]&&(h.items.splice(n,1),t.clone.remove())}),p()}}function a(){h.items.forEach(s),h.items=h.items.sort(function(e,t){return e.top<t.top?-1:1});for(var e,t=f.prop("scrollTop"),n=h.items.length-1;n>=0;n--)if(t>h.items[n].top){e=h.items[n];break}l(e)}function s(e){var t=e.element[0];for(e.top=0,e.left=0;t&&t!==f[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t=t.offsetParent;e.height=e.element.prop("offsetHeight"),e.clone.css("margin-left",e.left+"px"),r.floatingScrollbars()&&e.clone.css("margin-right","0")}function u(){var e=f.prop("scrollTop"),t=e>(u.prevScrollTop||0);if(u.prevScrollTop=e,0===e)return void l(null);if(t){if(h.next&&h.next.top<=e)return void l(h.next);if(h.current&&h.next&&h.next.top-e<=h.next.height)return void m(h.current,e+(h.next.top-h.next.height-e))}if(!t){if(h.current&&h.prev&&e<h.current.top)return void l(h.prev);if(h.next&&h.current&&e>=h.next.top-h.current.height)return void m(h.current,e+(h.next.top-e-h.current.height))}h.current&&m(h.current,e)}function l(e){if(h.current!==e){h.current&&(m(h.current,null),d(h.current,null)),e&&d(e,"active"),h.current=e;var t=h.items.indexOf(e);h.next=h.items[t+1],h.prev=h.items[t-1],d(h.next,"next"),d(h.prev,"prev")}}function d(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function m(e,t){e&&(null===t||t===n?e.translateY&&(e.translateY=null,e.clone.css(i.CSS.TRANSFORM,"")):(e.translateY=t,e.clone.css(i.CSS.TRANSFORM,"translate3d("+e.left+"px,"+t+"px,0)")))}var f=e.$element,p=o.throttle(a);c(f),f.on("$scrollstart",p),f.on("$scroll",u);var h;return h={prev:null,current:null,next:null,items:[],add:t,refreshElements:a}}function s(n){var i,o=t.element("<div>");e[0].body.appendChild(o[0]);for(var r=["sticky","-webkit-sticky"],a=0;a<r.length;++a)if(o.css({position:r[a],top:0,"z-index":2}),o.css("position")==r[a]){i=r[a];break}return o.remove(),i}function c(e){function t(){+r.now()-i>a?(n=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),o.throttle(t))}var n,i,a=200;e.on("scroll touchmove",function(){n||(n=!0,o.throttle(t),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),i=+r.now()})}var u=s();return function(e,t,n){var i=t.controller("mdContent");if(i)if(u)t.css({position:u,top:0,"z-index":2});else{var o=i.$element.data("$$sticky");o||(o=a(i),i.$element.data("$$sticky",o));var r=o.add(t,n||t.clone());e.$on("$destroy",r)}}}t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e),e.$inject=["$document","$mdConstant","$$rAF","$mdUtil"]}(),function(){function e(e,n,i,o){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader">  <div class="md-subheader-inner">    <span class="md-subheader-content"></span>  </div></div>',link:function(r,a,s,c,u){function l(e){return t.element(e[0].querySelector(".md-subheader-content"))}i(a);var d=a[0].outerHTML;u(r,function(e){l(a).append(e)}),a.hasClass("md-no-sticky")||u(r,function(t){var i='<div class="md-subheader-wrapper">'+d+"</div>",s=n(i)(r);e(r,a,s),o.nextTick(function(){l(s).append(t)})})}}}t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e),e.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil"]}(),function(){function e(e){function t(e){function t(t,o,r){var a=e(r[n]);o.on(i,function(e){t.$apply(function(){a(t,{$event:e})})})}return{restrict:"A",link:t}}var n="md"+e,i="$md."+e.toLowerCase();return t.$inject=["$parse"],t}t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",e("SwipeLeft")).directive("mdSwipeRight",e("SwipeRight")).directive("mdSwipeUp",e("SwipeUp")).directive("mdSwipeDown",e("SwipeDown"))}(),function(){function e(e,n,i,o,r,a){function s(e,s){var u=c.compile(e,s);return e.addClass("md-dragging"),function(e,s,c,l){function d(t){h&&h(e)||(t.stopPropagation(),s.addClass("md-dragging"),_={width:v.prop("offsetWidth")},s.removeClass("transition"))}function m(e){if(_){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/_.width,n=l.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),v.css(i.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),_.translate=n}}function f(e){if(_){e.stopPropagation(),s.removeClass("md-dragging"),v.css(i.CSS.TRANSFORM,"");var t=l.$viewValue?_.translate>.5:_.translate<.5;t&&p(!l.$viewValue),_=null}}function p(t){e.$apply(function(){l.$setViewValue(t),l.$render()})}l=l||n.fakeNgModel();var h=null;null!=c.disabled?h=function(){return!0}:c.ngDisabled&&(h=o(c.ngDisabled));var v=t.element(s[0].querySelector(".md-thumb-container")),g=t.element(s[0].querySelector(".md-container"));r(function(){s.removeClass("md-dragging")}),u(e,s,c,l),h&&e.$watch(h,function(e){s.attr("tabindex",e?-1:0)}),a.register(g,"drag"),g.on("$md.dragstart",d).on("$md.drag",m).on("$md.dragend",f);var _}}var c=e[0];return{restrict:"E",priority:210,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:"?ngModel",compile:s}}t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e),e.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture"]}(),function(){t.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function e(e){return{restrict:"E",link:function(t,n,i){t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e){o=e}function i(e,n,i,r){function a(t,a,s){o=s.textContent||s.content;var l=!r("gt-sm");return a=i.extractElementByName(a,"md-toast",!0),s.onSwipe=function(e,t){var o=e.type.replace("$md.",""),r=o.replace("swipe","");"down"===r&&-1!=s.position.indexOf("top")&&!l||"up"===r&&(-1!=s.position.indexOf("bottom")||l)||("left"!==r&&"right"!==r||!l)&&(a.addClass("md-"+o),i.nextTick(n.cancel))},s.openClass=c(s.position),s.parent.addClass(s.openClass),i.hasComputedStyle(s.parent,"position","static")&&s.parent.css("position","relative"),a.on(u,s.onSwipe),a.addClass(l?"md-bottom":s.position.split(" ").map(function(e){return"md-"+e}).join(" ")),s.parent&&s.parent.addClass("md-toast-animating"),e.enter(a,s.parent).then(function(){s.parent&&s.parent.removeClass("md-toast-animating")})}function s(t,n,o){return n.off(u,o.onSwipe),o.parent&&o.parent.addClass("md-toast-animating"),o.openClass&&o.parent.removeClass(o.openClass),(1==o.$destroy?n.remove():e.leave(n)).then(function(){o.parent&&o.parent.removeClass("md-toast-animating"),i.hasComputedStyle(o.parent,"position","static")&&o.parent.css("position","")})}function c(e){return r("gt-sm")?"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"}var u="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:a,onRemove:s,position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(e,n){var i=n.autoWrap&&e&&!/md-toast-content/g.test(e);if(i){var o=t.element(e),r='<div class="md-toast-content">'+o.html()+"</div>";return o.empty().append(r),o[0].outerHTML}return i?'<div class="md-toast-content">'+e+"</div>":e||""}}}var o,r="ok",a=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent"],options:i}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","highlightAction","theme","parent"],options:["$mdToast","$mdTheming",function(e,t){var n={template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content">    <span flex role="alert" aria-relevant="all" aria-atomic="true">      {{ toast.content }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:["$scope",function(t){var n=this;t.$watch(function(){return o},function(){n.content=o}),this.resolve=function(){e.hide(r)}}],theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0};return n}]}).addMethod("updateTextContent",n).addMethod("updateContent",n);return i.$inject=["$animate","$mdToast","$mdUtil","$mdMedia"],a}t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",n),
e.$inject=["$mdToast"],n.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,i,o,r){var a=t.bind(null,i.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(s,c,u){function l(){function o(e){var t=c.parent().find("md-content");!h&&t.length&&l(null,t),e=s.$eval(e),e===!1?v():v=m()}function l(e,t){t&&c.parent()[0]===t.parent()[0]&&(h&&h.off("scroll",$),h=t,v=m())}function d(e){var t=e?e.target.scrollTop:_;y(),g=Math.min(p/b,Math.max(0,g+t-_)),c.css(n.CSS.TRANSFORM,a([-g*b])),h.css(n.CSS.TRANSFORM,a([(p-g)*b])),_=t,i.nextTick(function(){var e=c.hasClass("md-whiteframe-z1");e&&!g?r.removeClass(c,"md-whiteframe-z1"):!e&&g&&r.addClass(c,"md-whiteframe-z1")})}function m(){return h?(h.on("scroll",$),h.attr("scroll-shrink","true"),e(f),function(){h.off("scroll",$),h.attr("scroll-shrink","false"),e(f)}):t.noop}function f(){p=c.prop("offsetHeight");var e=-p*b+"px";h.css({"margin-top":e,"margin-bottom":e}),d()}var p,h,v=t.noop,g=0,_=0,b=u.mdShrinkSpeedFactor||.5,$=e.throttle(d),y=i.debounce(f,5e3);s.$on("$mdContentLoaded",l),u.$observe("mdScrollShrink",o),u.ngShow&&s.$watch(u.ngShow,f),u.ngHide&&s.$watch(u.ngHide,f),s.$on("$destroy",v)}o(c),t.isDefined(u.mdScrollShrink)&&l()}}}t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e),e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"]}(),function(){function e(e,n,i,o,r,a,s,c,u){function l(s,l,f){function p(){t.isDefined(f.mdDelay)||(s.delay=d)}function h(){var e="center top";switch(s.direction){case"left":e="right center";break;case"right":e="left center";break;case"top":e="center bottom";break;case"bottom":e="center top"}A.css("transform-origin",e)}function v(){s.$on("$destroy",function(){s.visible=!1,l.remove(),t.element(n).off("resize",x)}),s.$watch("visible",function(e){e?y():k()}),s.$watch("direction",E)}function g(){C.attr("aria-label")||C.text().trim()||C.attr("aria-label",l.text().trim())}function _(){l.detach(),l.attr("role","tooltip")}function b(){function e(){$(!1)}var i=!1,r=t.element(n);if(C[0]&&"MutationObserver"in n){var a=new MutationObserver(function(e){e.forEach(function(e){"disabled"===e.attributeName&&C[0].disabled&&($(!1),s.$digest())})});a.observe(C[0],{attributes:!0})}var c=function(){u=document.activeElement===C[0]},u=!1;r.on("blur",c),r.on("resize",x),document.addEventListener("scroll",e,!0),s.$on("$destroy",function(){r.off("blur",c),r.off("resize",x),document.removeEventListener("scroll",e,!0),a&&a.disconnect()});var l=function(e){return"focus"===e.type&&u?void(u=!1):(C.on("blur mouseleave touchend touchcancel",d),void $(!0))},d=function(){var e=s.hasOwnProperty("autohide")?s.autohide:f.hasOwnProperty("mdAutohide");(e||i||o[0].activeElement!==C[0])&&(C.off("blur mouseleave touchend touchcancel",d),C.triggerHandler("blur"),$(!1)),i=!1};C.on("mousedown",function(){i=!0}),C.on("focus mouseenter touchstart",l)}function $(t){$.value=!!t,$.queued||(t?($.queued=!0,e(function(){s.visible=$.value,$.queued=!1},s.delay)):r.nextTick(function(){s.visible=!1}))}function y(){return I.append(l),r.hasComputedStyle(l,"display","none")?(s.visible=!1,void l.detach()):(E(),void t.forEach([l,A],function(e){c.addClass(e,"md-show")}))}function k(){var e=[];t.forEach([l,A],function(t){t.parent()&&t.hasClass("md-show")&&e.push(c.removeClass(t,"md-show"))}),u.all(e).then(function(){s.visible||l.detach()})}function E(){s.visible&&(h(),w())}function w(){function e(e){var t={left:e.left,top:e.top};return t.left=Math.min(t.left,I.prop("scrollWidth")-n.width-m),t.left=Math.max(t.left,m),t.top=Math.min(t.top,I.prop("scrollHeight")-n.height-m),t.top=Math.max(t.top,m),t}function t(e){return"left"===e?{left:i.left-n.width-m,top:i.top+i.height/2-n.height/2}:"right"===e?{left:i.left+i.width+m,top:i.top+i.height/2-n.height/2}:"top"===e?{left:i.left+i.width/2-n.width/2,top:i.top-n.height-m}:{left:i.left+i.width/2-n.width/2,top:i.top+i.height+m}}var n=r.offsetRect(l,I),i=r.offsetRect(C,I),o=t(s.direction),a=l.prop("offsetParent");s.direction?o=e(o):a&&o.top>a.scrollHeight-n.height-m&&(o=e(t("top"))),l.css({left:o.left+"px",top:o.top+"px"})}a(l);var C=r.getParentWithPointerEvents(l),A=t.element(l[0].getElementsByClassName("md-content")[0]),I=t.element(document.body),x=i.throttle(function(){E()});c.pin&&c.pin(l,C),p(),_(),b(),h(),v(),g()}var d=0,m=8;return{restrict:"E",transclude:!0,priority:210,template:'<div class="md-content" ng-transclude></div>',scope:{delay:"=?mdDelay",visible:"=?mdVisible",autohide:"=?mdAutohide",direction:"@?mdDirection"},link:l}}t.module("material.components.tooltip",["material.core"]).directive("mdTooltip",e),e.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]}(),function(){function e(){return{controller:i,template:n,compile:function(e,t){e.addClass("md-virtual-repeat-container").addClass(t.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}function n(e){return'<div class="md-virtual-repeat-scroller"><div class="md-virtual-repeat-sizer"></div><div class="md-virtual-repeat-offsetter">'+e[0].innerHTML+"</div></div>"}function i(e,n,i,o,r,a,s,c){this.$rootScope=o,this.$scope=a,this.$element=s,this.$attrs=c,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.$attrs.mdTopIndex?(this.bindTopIndex=i(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),t.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,t.bind(this,function(e){e!==this.topIndex&&this.scrollToIndex(e)}))):this.topIndex=0,this.scroller=s[0].getElementsByClassName("md-virtual-repeat-scroller")[0],this.sizer=this.scroller.getElementsByClassName("md-virtual-repeat-sizer")[0],this.offsetter=this.scroller.getElementsByClassName("md-virtual-repeat-offsetter")[0];var u=t.bind(this,this.updateSize);e(t.bind(this,function(){u();var e=n.debounce(u,10,null,!1),i=t.element(r);this.size||e(),i.on("resize",e),a.$on("$destroy",function(){i.off("resize",e)}),a.$emit("$md-resize-enable"),a.$on("$md-resize",u)}))}function o(e){return{controller:r,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(t,n){var i=n.mdVirtualRepeat,o=i.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),r=o[1],a=e(o[2]),s=n.mdExtraName&&e(n.mdExtraName);return function(e,t,n,i,o){i[0].link_(i[1],o,r,a,s)}}}}function r(e,n,i,o,r,a,s){this.$scope=e,this.$element=n,this.$attrs=i,this.$browser=o,this.$document=r,this.$rootScope=a,this.$$rAF=s,this.onDemand=i.hasOwnProperty("mdOnDemand"),this.browserCheckUrlChange=o.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=e.$eval(i.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=t.noop,this.blocks={},this.pooledBlocks=[]}function a(e){if(!t.isFunction(e.getItemAtIndex)||!t.isFunction(e.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength() ");this.model=e}t.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",e).directive("mdVirtualRepeat",o);var s=1533917,c=3;i.$inject=["$$rAF","$mdUtil","$parse","$rootScope","$window","$scope","$element","$attrs"],i.prototype.register=function(e){this.repeater=e,t.element(this.scroller).on("scroll wheel touchmove touchend",t.bind(this,this.handleScroll_))},i.prototype.isHorizontal=function(){return this.horizontal},i.prototype.getSize=function(){return this.size},i.prototype.setSize_=function(e){this.size=e,this.$element[0].style[this.isHorizontal()?"width":"height"]=e+"px"},i.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.repeater&&this.repeater.containerUpdated())},i.prototype.getScrollSize=function(){return this.scrollSize},i.prototype.sizeScroller_=function(e){var t=this.isHorizontal()?"width":"height",n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",s>e)this.sizer.style[t]=e+"px";else{this.sizer.style[t]="auto",this.sizer.style[n]="auto";var i=Math.floor(e/s),o=document.createElement("div");o.style[t]=s+"px",o.style[n]="1px";for(var r=0;i>r;r++)this.sizer.appendChild(o.cloneNode(!1));o.style[t]=e-i*s+"px",this.sizer.appendChild(o)}},i.prototype.autoShrink_=function(e){var t=Math.max(e,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&t!==this.size){var n=this.originalSize||this.size;!n||n>t?(this.originalSize||(this.originalSize=this.size),this.setSize_(t)):this.originalSize&&(this.setSize_(this.originalSize),this.originalSize=null),this.repeater.containerUpdated()}},i.prototype.setScrollSize=function(e){var t=e+this.offsetSize;this.scrollSize!==t&&(this.sizeScroller_(t),this.autoShrink_(t),this.scrollSize=t)},i.prototype.getScrollOffset=function(){return this.scrollOffset},i.prototype.scrollTo=function(e){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=e,this.handleScroll_()},i.prototype.scrollToIndex=function(e){var t=this.repeater.getItemSize(),n=this.repeater.itemsLength;e>n&&(e=n-1),this.scrollTo(t*e)},i.prototype.resetScroll=function(){this.scrollTo(0)},i.prototype.handleScroll_=function(){var e=this.isHorizontal()?this.scroller.scrollLeft:this.scroller.scrollTop;if(e!==this.scrollOffset){var t=this.repeater.getItemSize();if(t){var n=Math.max(0,Math.floor(e/t)-c),i=this.isHorizontal()?"translateX(":"translateY(";if(i+=n*t+"px)",this.scrollOffset=e,this.offsetter.style.webkitTransform=i,this.offsetter.style.transform=i,this.bindTopIndex){var o=Math.floor(e/t);o!==this.topIndex&&o<this.repeater.itemsLength&&(this.topIndex=o,this.bindTopIndex.assign(this.$scope,o),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},o.$inject=["$parse"],r.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF"],r.Block,r.prototype.link_=function(e,n,i,o,r){this.container=e,this.transclude=n,this.repeatName=i,this.rawRepeatListExpression=o,this.extraName=r,this.sized=!1,this.repeatListExpression=t.bind(this,this.repeatListExpression_),this.container.register(this)},r.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var e=this.getBlock_(0);e.element[0].parentNode||this.parentNode.appendChild(e.element[0]),this.itemSize=e.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=e,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},r.prototype.repeatListExpression_=function(e){var t=this.rawRepeatListExpression(e);if(this.onDemand&&t){var n=new a(t);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return t},r.prototype.containerUpdated=function(){return this.itemSize?(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e,t){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(e,t)}))),this.updateIndexes_(),void((this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof a&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items)))):(this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e){e&&e.length&&this.$$rAF(t.bind(this,this.readItemSize_))})),void(this.$rootScope.$$phase||this.$scope.$digest()))},r.prototype.getItemSize=function(){return this.itemSize},r.prototype.virtualRepeatUpdate_=function(e,n){this.isVirtualRepeatUpdating_=!0;var i=e&&e.length||0,o=!1;if(this.items&&i<this.items.length&&0!==this.container.getScrollOffset())return this.items=e,void this.container.resetScroll();if(i!==this.itemsLength&&(o=!0,this.itemsLength=i),this.items=e,(e!==n||o)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,o&&this.container.setScrollSize(i*this.itemSize),this.isFirstRender){this.isFirstRender=!1;var r=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.container.scrollToIndex(r)}Object.keys(this.blocks).forEach(function(e){var t=parseInt(e,10);(t<this.newStartIndex||t>=this.newEndIndex)&&this.poolBlock_(t)},this),this.$browser.$$checkUrlChange=t.noop;var a,s,c=[],u=[];for(a=this.newStartIndex;a<this.newEndIndex&&null==this.blocks[a];a++)s=this.getBlock_(a),this.updateBlock_(s,a),c.push(s);for(;null!=this.blocks[a];a++)this.updateBlock_(this.blocks[a],a);for(var l=a-1;a<this.newEndIndex;a++)s=this.getBlock_(a),this.updateBlock_(s,a),u.push(s);c.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(c),this.$element[0].nextSibling),u.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(u),this.blocks[l]&&this.blocks[l].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isVirtualRepeatUpdating_=!1},r.prototype.getBlock_=function(e){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var n;return this.transclude(t.bind(this,function(t,i){n={element:t,"new":!0,scope:i},this.updateScope_(i,e),this.parentNode.appendChild(t[0])})),n},r.prototype.updateBlock_=function(e,t){this.blocks[t]=e,(e["new"]||e.scope.$index!==t||e.scope[this.repeatName]!==this.items[t])&&(e["new"]=!1,this.updateScope_(e.scope,t),this.$rootScope.$$phase||e.scope.$digest())},r.prototype.updateScope_=function(e,t){e.$index=t,e[this.repeatName]=this.items&&this.items[t],this.extraName&&(e[this.extraName(this.$scope)]=this.items[t])},r.prototype.poolBlock_=function(e){this.pooledBlocks.push(this.blocks[e]),this.parentNode.removeChild(this.blocks[e].element[0]),delete this.blocks[e]},r.prototype.domFragmentFromBlocks_=function(e){var t=this.$document[0].createDocumentFragment();return e.forEach(function(e){t.appendChild(e.element[0])}),t},r.prototype.updateIndexes_=function(){var e=this.items?this.items.length:0,t=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(e-t,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+t+c,this.newEndIndex=Math.min(e,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-c)},a.prototype.$$includeIndexes=function(e,t){for(var n=e;t>n;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()}}(),function(){t.module("material.components.whiteframe",[])}(),function(){function e(e,i,s,c,u,l,d,m,f,p){function h(){s.initOptionalProperties(e,f,{searchText:null,selectedItem:null}),u(i),b(),s.nextTick(function(){y(),g(),_(),i.on("focus",_)})}function v(){function t(){var e=0,t=i.find("md-input-container");if(t.length){var n=t.find("input");e=t.prop("offsetHeight"),e-=n.prop("offsetTop"),e-=n.prop("offsetHeight"),e+=t.prop("offsetTop")}return e}function n(){var e=de.scrollContainer.getBoundingClientRect(),t={};e.right>d.right-r&&(t.left=u.right-e.width+"px"),de.$.scrollContainer.css(t)}if(!de)return s.nextTick(v,!1,e);var c,u=de.wrap.getBoundingClientRect(),l=de.snap.getBoundingClientRect(),d=de.root.getBoundingClientRect(),m=l.bottom-d.top,p=d.bottom-l.top,h=u.left-d.left,g=u.width,_=t();f.mdFloatingLabel&&(h+=a,g-=2*a),c={left:h+"px",minWidth:g+"px",maxWidth:Math.max(u.right-d.left,d.right-u.left)-r+"px"},m>p&&d.height-u.bottom-r<o?(c.top="auto",c.bottom=p+"px",c.maxHeight=Math.min(o,u.top-d.top-r)+"px"):(c.top=m-_+"px",c.bottom="auto",c.maxHeight=Math.min(o,d.bottom+s.scrollTop()-u.bottom-r)+"px"),de.$.scrollContainer.css(c),s.nextTick(n,!1)}function g(){de.$.root.length&&(u(de.$.scrollContainer),de.$.scrollContainer.detach(),de.$.root.append(de.$.scrollContainer),d.pin&&d.pin(de.$.scrollContainer,m))}function _(){e.autofocus&&de.input.focus()}function b(){var n=parseInt(e.delay,10)||0;f.$observe("disabled",function(e){ce.isDisabled=!!e}),f.$observe("required",function(e){ce.isRequired=!!e}),e.$watch("searchText",n?s.debounce(O,n):O),e.$watch("selectedItem",x),t.element(l).on("resize",v),e.$on("$destroy",$)}function $(){if(t.element(l).off("resize",v),de){var e="ul scroller scrollContainer input".split(" ");t.forEach(e,function(e){de.$[e].remove()})}}function y(){de={main:i[0],scrollContainer:i[0].getElementsByClassName("md-virtual-repeat-container")[0],scroller:i[0].getElementsByClassName("md-virtual-repeat-scroller")[0],ul:i.find("ul")[0],input:i.find("input")[0],wrap:i.find("md-autocomplete-wrap")[0],root:document.body},de.li=de.ul.getElementsByTagName("li"),de.snap=k(),de.$=E(de)}function k(){for(var e=i;e.length;e=e.parent())if(t.isDefined(e.attr("md-autocomplete-snap")))return e[0];return de.wrap}function E(e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t.element(e[i]));return n}function w(t,n){!t&&n?(v(),de&&s.nextTick(function(){s.disableScrollAround(de.ul)},!1,e)):t&&!n&&s.nextTick(function(){s.enableScrolling()},!1,e)}function C(){fe=!0}function A(){he||de.input.focus(),fe=!1,ce.hidden=V()}function I(){de.input.focus()}function x(t,n){t&&B(t).then(function(i){e.searchText=i,S(t,n)}),t!==n&&M()}function M(){t.isFunction(e.itemChange)&&e.itemChange(R(e.selectedItem))}function T(){t.isFunction(e.textChange)&&e.textChange()}function S(e,t){pe.forEach(function(n){n(e,t)})}function N(e){-1==pe.indexOf(e)&&pe.push(e)}function D(e){var t=pe.indexOf(e);-1!=t&&pe.splice(t,1)}function O(t,n){ce.index=U(),t!==n&&B(e.selectedItem).then(function(i){t!==i&&(e.selectedItem=null,t!==n&&T(),X()?ae():(ce.matches=[],F(!1),te()))})}function L(){he=!1,fe||(ce.hidden=V())}function H(e){e&&(fe=!1,he=!1),de.input.blur()}function P(){he=!0,t.isString(e.searchText)||(e.searchText=""),ce.hidden=V(),ce.hidden||ae()}function q(e){switch(e.keyCode){case c.KEY_CODE.DOWN_ARROW:if(ce.loading)return;e.stopPropagation(),e.preventDefault(),ce.index=Math.min(ce.index+1,ce.matches.length-1),ie(),te();break;case c.KEY_CODE.UP_ARROW:if(ce.loading)return;e.stopPropagation(),e.preventDefault(),ce.index=ce.index<0?ce.matches.length-1:Math.max(0,ce.index-1),ie(),te();break;case c.KEY_CODE.TAB:if(A(),ce.hidden||ce.loading||ce.index<0||ce.matches.length<1)return;Q(ce.index);break;case c.KEY_CODE.ENTER:if(ce.hidden||ce.loading||ce.index<0||ce.matches.length<1)return;if(Y())return;e.stopPropagation(),e.preventDefault(),Q(ce.index);break;case c.KEY_CODE.ESCAPE:e.stopPropagation(),e.preventDefault(),Z(),H(!0)}}function j(){return t.isNumber(e.minLength)?e.minLength:1}function B(t){function n(t){return t&&e.itemText?e.itemText(R(t)):null}return p.when(n(t)||t)}function R(e){if(!e)return n;var t={};return ce.itemName&&(t[ce.itemName]=e),t}function U(){return e.autoselect?0:-1}function F(e){ce.loading!=e&&(ce.loading=e),ce.hidden=V()}function V(){return ce.loading&&!z()?!0:Y()?!0:he?!G():!0}function G(){return X()&&z()||re()}function z(){return ce.matches.length?!0:!1}function Y(){return ce.scope.selectedItem?!0:!1}function W(){return ce.loading&&!Y()}function K(){return B(ce.matches[ce.index])}function X(){return(e.searchText||"").length>=j()}function J(e,t,n){Object.defineProperty(ce,e,{get:function(){return n},set:function(e){var i=n;n=e,t(e,i)}})}function Q(t){s.nextTick(function(){B(ce.matches[t]).then(function(e){var t=de.$.input.controller("ngModel");t.$setViewValue(e),t.$render()})["finally"](function(){e.selectedItem=ce.matches[t],F(!1)})},!1)}function Z(){F(!0),ce.index=0,ce.matches=[],e.searchText="",Q(-1);var t=document.createEvent("CustomEvent");t.initCustomEvent("input",!0,!0,{value:e.searchText}),de.input.dispatchEvent(t),de.input.focus()}function ee(n){function i(t){me[r]=t,(n||"")===(e.searchText||"")&&(ce.matches=t,ce.hidden=V(),e.selectOnMatch&&se(),te(),v())}var o=e.$parent.$eval(le),r=n.toLowerCase();t.isArray(o)?i(o):o&&(F(!0),s.nextTick(function(){o.success&&o.success(i),o.then&&o.then(i),o["finally"]&&o["finally"](function(){F(!1)})},!0,e))}function te(){K().then(function(e){ce.messages=[ne(),e]})}function ne(){if(ve===ce.matches.length)return"";switch(ve=ce.matches.length,ce.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+ce.matches.length+" matches available."}}function ie(){if(de.li[0]){var e=de.li[0].offsetHeight,t=e*ce.index,n=t+e,i=de.scroller.clientHeight,o=de.scroller.scrollTop;o>t?oe(t):n>o+i&&oe(n-i)}}function oe(e){de.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(e)}function re(){var e=(ce.scope.searchText||"").length;return ce.hasNotFound&&!z()&&!ce.loading&&e>=j()&&he&&!Y()}function ae(){var t=e.searchText||"",n=t.toLowerCase();!e.noCache&&me[n]?(ce.matches=me[n],te()):ee(t),ce.hidden=V()}function se(){var t=e.searchText,n=ce.matches,i=n[0];1===n.length&&B(i).then(function(e){t==e&&Q(0)})}var ce=this,ue=e.itemsExpr.split(/ in /i),le=ue[1],de=null,me={},fe=!1,pe=[],he=!1,ve=0;return J("hidden",w,!0),ce.scope=e,ce.parent=e.$parent,ce.itemName=ue[0],ce.matches=[],ce.loading=!1,ce.hidden=!0,ce.index=null,ce.messages=[],ce.id=s.nextUid(),ce.isDisabled=null,ce.isRequired=null,ce.hasNotFound=!1,ce.keydown=q,ce.blur=L,ce.focus=P,ce.clear=Z,ce.select=Q,ce.listEnter=C,ce.listLeave=A,ce.mouseUp=I,ce.getCurrentDisplayValue=K,ce.registerSelectedItemWatcher=N,ce.unregisterSelectedItemWatcher=D,ce.notFoundVisible=re,ce.loadingIsVisible=W,h()}t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",e);var i=41,o=5.5*i,r=8,a=2;e.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q"]}(),function(){function e(){var e=!1;return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",selectOnMatch:"=?mdSelectOnMatch",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId"},link:function(t,n,i,o){o.hasNotFound=e},template:function(t,n){function i(){var e=t.find("md-item-template").detach(),n=e.length?e.html():t.html();return e.length||t.empty(),"<md-autocomplete-parent-scope md-autocomplete-replace>"+n+"</md-autocomplete-parent-scope>"}function o(){var e=t.find("md-not-found").detach(),n=e.length?e.html():"";return n?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"	                         md-autocomplete-parent-scope>'+n+"</li>":""}function r(){return n.mdFloatingLabel?'	            <md-input-container flex ng-if="floatingLabel">	              <label>{{floatingLabel}}</label>	              <input type="search"	                  '+(null!=u?'tabindex="'+u+'"':"")+'	                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"	                  name="{{inputName}}"	                  autocomplete="off"	                  ng-required="$mdAutocompleteCtrl.isRequired"	                  ng-minlength="inputMinlength"	                  ng-maxlength="inputMaxlength"	                  ng-disabled="$mdAutocompleteCtrl.isDisabled"	                  ng-model="$mdAutocompleteCtrl.scope.searchText"	                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"	                  ng-blur="$mdAutocompleteCtrl.blur()"	                  ng-focus="$mdAutocompleteCtrl.focus()"	                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"	                  aria-label="{{floatingLabel}}"	                  aria-autocomplete="list"	                  aria-haspopup="true"	                  aria-activedescendant=""	                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>	              <div md-autocomplete-parent-scope md-autocomplete-replace>'+c+"</div>	            </md-input-container>":'	            <input flex type="search"	                '+(null!=u?'tabindex="'+u+'"':"")+'	                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"	                name="{{inputName}}"	                ng-if="!floatingLabel"	                autocomplete="off"	                ng-required="$mdAutocompleteCtrl.isRequired"	                ng-disabled="$mdAutocompleteCtrl.isDisabled"	                ng-model="$mdAutocompleteCtrl.scope.searchText"	                ng-keydown="$mdAutocompleteCtrl.keydown($event)"	                ng-blur="$mdAutocompleteCtrl.blur()"	                ng-focus="$mdAutocompleteCtrl.focus()"	                placeholder="{{placeholder}}"	                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"	                aria-label="{{placeholder}}"	                aria-autocomplete="list"	                aria-haspopup="true"	                aria-activedescendant=""	                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>	            <button	                type="button"	                tabindex="-1"	                ng-if="$mdAutocompleteCtrl.scope.searchText && !$mdAutocompleteCtrl.isDisabled"	                ng-click="$mdAutocompleteCtrl.clear()">	              <md-icon md-svg-icon="md-close"></md-icon>	              <span class="md-visually-hidden">Clear</span>	            </button>	                '}var a=o(),s=i(),c=t.html(),u=n.tabindex;return e=a?!0:!1,n.hasOwnProperty("tabindex")||t.attr("tabindex","-1"),'	        <md-autocomplete-wrap	            layout="row"	            ng-class="{ \'md-whiteframe-z1\': !floatingLabel, \'md-menu-showing\': !$mdAutocompleteCtrl.hidden }"	            role="listbox">	          '+r()+'	          <md-progress-linear	              class="'+(n.mdFloatingLabel?"md-inline":"")+'"	              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"	              md-mode="indeterminate"></md-progress-linear>	          <md-virtual-repeat-container	              md-auto-shrink	              md-auto-shrink-min="1"	              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"	              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"	              ng-mouseup="$mdAutocompleteCtrl.mouseUp()"	              ng-hide="$mdAutocompleteCtrl.hidden"	              class="md-autocomplete-suggestions-container md-whiteframe-z1"	              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"	              role="presentation">	            <ul class="md-autocomplete-suggestions"	                ng-class="::menuClass"	                id="ul-{{$mdAutocompleteCtrl.id}}">	              <li md-virtual-repeat="item in $mdAutocompleteCtrl.matches"	                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"	                  ng-click="$mdAutocompleteCtrl.select($index)"	                  md-extra-name="$mdAutocompleteCtrl.itemName">	                  '+s+"	                  </li>"+a+'	            </ul>	          </md-virtual-repeat-container>	        </md-autocomplete-wrap>	        <aria-status	            class="md-visually-hidden"	            role="status"	            aria-live="assertive">	          <p ng-repeat="message in $mdAutocompleteCtrl.messages track by $index" ng-if="message">{{message}}</p>	        </aria-status>'}}}t.module("material.components.autocomplete").directive("mdAutocomplete",e)}(),function(){function e(e,t){function n(e,n,i){return function(e,n,o){function r(n,i){c[i]=e[n],e.$watch(n,function(e){t.nextTick(function(){c[i]=e})})}function a(){var t=!1,n=!1;e.$watch(function(){n||t||(t=!0,e.$$postDigest(function(){n||c.$digest(),t=n=!1}))}),c.$watch(function(){n=!0})}var s=e.$mdAutocompleteCtrl,c=s.parent.$new(),u=s.itemName;r("$index","$index"),r("item",u),a(),i(c,function(e){n.after(e)})}}return{restrict:"AE",compile:n,terminal:!0,transclude:"element"}}t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",e),e.$inject=["$compile","$mdUtil"]}(),function(){function e(e,n,i){function o(o,r){var s=null,c=null,u=i.mdHighlightFlags||"",l=e.$watch(function(e){return{term:o(e),unsafeText:r(e)}},function(e,i){(null===s||e.unsafeText!==i.unsafeText)&&(s=t.element("<div>").text(e.unsafeText).html()),(null===c||e.term!==i.term)&&(c=a(e.term,u)),n.html(s.replace(c,'<span class="highlight">$&</span>'))},!0);n.on("$destroy",l)}function r(e){return e&&e.replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&")}function a(e,t){var n="";return t.indexOf("^")>=1&&(n+="^"),n+=e,t.indexOf("$")>=1&&(n+="$"),new RegExp(r(n),t.replace(/[\$\^]/g,""))}this.init=o}t.module("material.components.autocomplete").controller("MdHighlightCtrl",e),e.$inject=["$scope","$element","$attrs"]}(),function(){function e(e,t){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(n,i){var o=t(i.mdHighlightText),r=e(n.html());return function(e,t,n,i){i.init(o,r)}}}}t.module("material.components.autocomplete").directive("mdHighlightText",e),e.$inject=["$interpolate","$parse"]}(),function(){function e(e,i){function o(n,o){return n.append(i.processTemplate(r)),function(n,i,o,r){i.addClass("md-chip"),e(i),r&&t.element(i[0].querySelector(".md-chip-content")).on("blur",function(){r.selectedChip=-1})}}var r=i.processTemplate(n);return{restrict:"E",require:"^?mdChips",compile:o}}t.module("material.components.chips").directive("mdChip",e);var n='	    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">	      {{$mdChipsCtrl.deleteHint}}	    </span>';e.$inject=["$mdTheming","$mdUtil"]}(),function(){function e(e){function t(t,n,i,o){n.on("click",function(e){t.$apply(function(){o.removeChip(t.$$replacedScope.$index)})}),e(function(){n.attr({tabindex:-1,"aria-hidden":!0}),n.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:t}}t.module("material.components.chips").directive("mdChipRemove",e),e.$inject=["$timeout"]}(),function(){function e(e){function t(t,n,i){var o=t.$parent.$mdChipsCtrl,r=o.parent.$new(!1,o.parent);r.$$replacedScope=t,r.$chip=t.$chip,r.$index=t.$index,r.$mdChipsCtrl=o;var a=o.$scope.$eval(i.mdChipTransclude);n.html(a),e(n.contents())(r)}return{restrict:"EA",terminal:!0,link:t,scope:!1}}t.module("material.components.chips").directive("mdChipTransclude",e),e.$inject=["$compile"]}(),function(){function e(e,t,n,i,o){this.$timeout=o,this.$mdConstant=t,this.$scope=e,this.parent=e.$parent,this.$log=n,this.$element=i,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.hasAutocomplete=!1,this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useOnAppend=!1,this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.useOnSelect=!1}t.module("material.components.chips").controller("MdChipsCtrl",e),e.$inject=["$scope","$mdConstant","$log","$element","$timeout"],e.prototype.inputKeydown=function(e){var t=this.getChipBuffer();if(!(this.hasAutocomplete&&e.isDefaultPrevented&&e.isDefaultPrevented())){if(e.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(t)return;return e.preventDefault(),e.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),-1!==this.separatorKeys.indexOf(e.keyCode)){if(this.hasAutocomplete&&this.requireMatch||!t)return;e.preventDefault(),this.appendChip(t),this.resetChipBuffer()}}},
e.prototype.chipKeydown=function(e){if(!this.getChipBuffer())switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;e.preventDefault(),this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault(),this.selectedChip<0&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault(),this.onFocus()}},e.prototype.getPlaceholder=function(){var e=this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return e?this.placeholder:this.secondaryPlaceholder},e.prototype.removeAndSelectAdjacentChip=function(e){var n=this.getAdjacentChipIndex(e);this.removeChip(e),this.$timeout(t.bind(this,function(){this.selectAndFocusChipSafe(n)}))},e.prototype.resetSelectedChip=function(){this.selectedChip=-1},e.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return 0==t?-1:e==t?e-1:e},e.prototype.appendChip=function(e){if(this.useTransformChip&&this.transformChip){var n=this.transformChip({$chip:e});t.isDefined(n)&&(e=n)}if(t.isObject(e)){var i=this.items.some(function(n){return t.equals(e,n)});if(i)return}if(!(null==e||this.items.indexOf(e)+1)){var o=this.items.push(e);this.useOnAdd&&this.onAdd&&this.onAdd({$chip:e,$index:o})}},e.prototype.useOnAppendExpression=function(){this.$log.warn("md-on-append is deprecated; please use md-transform-chip or md-on-add instead"),this.useTransformChip&&this.transformChip||(this.useTransformChip=!0,this.transformChip=this.onAppend)},e.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},e.prototype.useOnAddExpression=function(){this.useOnAdd=!0},e.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},e.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},e.prototype.getChipBuffer=function(){return this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer},e.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},e.prototype.removeChip=function(e){var t=this.items.splice(e,1);t&&t.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:t[0],$index:e})},e.prototype.removeChipAndFocusInput=function(e){this.removeChip(e),this.onFocus()},e.prototype.selectAndFocusChipSafe=function(e){return this.items.length?e===this.items.length?this.onFocus():(e=Math.max(e,0),e=Math.min(e,this.items.length-1),this.selectChip(e),void this.focusChip(e)):(this.selectChip(-1),void this.onFocus())},e.prototype.selectChip=function(e){e>=-1&&e<=this.items.length?(this.selectedChip=e,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[this.selectedChip]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},e.prototype.selectAndFocusChip=function(e){this.selectChip(e),-1!=e&&this.focusChip(e)},e.prototype.focusChip=function(e){this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content').focus()},e.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}},e.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus(),this.resetSelectedChip()},e.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.resetSelectedChip()},e.prototype.onInputBlur=function(){this.inputHasFocus=!1},e.prototype.configureUserInput=function(e){this.userInputElement=e;var n=e.controller("ngModel");n!=this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var i=this.$scope,o=this,r=function(e,n){i.$evalAsync(t.bind(o,n,e))};e.attr({tabindex:0}).on("keydown",function(e){r(e,o.inputKeydown)}).on("focus",function(e){r(e,o.onInputFocus)}).on("blur",function(e){r(e,o.onInputBlur)})},e.prototype.configureAutocomplete=function(e){e&&(this.hasAutocomplete=!0,e.registerSelectedItemWatcher(t.bind(this,function(e){e&&(this.appendChip(e),this.resetChipBuffer())})),this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur)))},e.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0}}(),function(){function e(e,t,a,s,c){function u(n,i){function o(e){if(i.ngModel){var t=r[0].querySelector(e);return t&&t.outerHTML}}var r=i.$mdUserTemplate;i.$mdUserTemplate=null;var u=o("md-chips>*[md-chip-remove]")||d.remove,l=o("md-chips>md-chip-template")||d["default"],m=o("md-chips>md-autocomplete")||o("md-chips>input")||d.input,f=r.find("md-chip");return r[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(n,o,r,s){t.initOptionalProperties(n,i),e(o);var p=s[0];if(p.chipContentsTemplate=l,p.chipRemoveTemplate=u,p.chipInputTemplate=m,o.attr({"aria-hidden":!0,tabindex:-1}).on("focus",function(){p.onFocus()}),i.ngModel&&(p.configureNgModel(o.controller("ngModel")),r.mdTransformChip&&p.useTransformChipExpression(),r.mdOnAppend&&p.useOnAppendExpression(),r.mdOnAdd&&p.useOnAddExpression(),r.mdOnRemove&&p.useOnRemoveExpression(),r.mdOnSelect&&p.useOnSelectExpression(),m!=d.input&&n.$watch("$mdChipsCtrl.readonly",function(e){e||t.nextTick(function(){0===m.indexOf("<md-autocomplete")&&p.configureAutocomplete(o.find("md-autocomplete").controller("mdAutocomplete")),p.configureUserInput(o.find("input"))})}),t.nextTick(function(){var e=o.find("input");e&&e.toggleClass("md-input",!0)})),f.length>0){var h=a(f.clone())(n.$parent);c(function(){o.find("md-chips-wrap").prepend(h)})}}}function l(){return{chips:t.processTemplate(n),input:t.processTemplate(i),"default":t.processTemplate(o),remove:t.processTemplate(r)}}var d=l();return{template:function(e,t){return t.$mdUserTemplate=e.clone(),d.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:u,scope:{readonly:"=readonly",placeholder:"@",secondaryPlaceholder:"@",transformChip:"&mdTransformChip",onAppend:"&mdOnAppend",onAdd:"&mdOnAdd",onRemove:"&mdOnRemove",onSelect:"&mdOnSelect",deleteHint:"@",deleteButtonLabel:"@",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch"}}}t.module("material.components.chips").directive("mdChips",e);var n='	      <md-chips-wrap	          ng-if="!$mdChipsCtrl.readonly || $mdChipsCtrl.items.length > 0"	          ng-keydown="$mdChipsCtrl.chipKeydown($event)"	          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(), \'md-readonly\': !$mdChipsCtrl.ngModelCtrl }"	          class="md-chips">	        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"	            index="{{$index}}"	            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': $mdChipsCtrl.readonly}">	          <div class="md-chip-content"	              tabindex="-1"	              aria-hidden="true"	              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"	              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>	          <div ng-if="!$mdChipsCtrl.readonly"	               class="md-chip-remove-container"	               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>	        </md-chip>	        <div ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl"	            class="md-chip-input-container"	            md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>	        </div>	      </md-chips-wrap>',i='	        <input	            class="md-input"	            tabindex="0"	            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"	            aria-label="{{$mdChipsCtrl.getPlaceholder()}}"	            ng-model="$mdChipsCtrl.chipBuffer"	            ng-focus="$mdChipsCtrl.onInputFocus()"	            ng-blur="$mdChipsCtrl.onInputBlur()"	            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',o="	      <span>{{$chip}}</span>",r='	      <button	          class="md-chip-remove"	          ng-if="!$mdChipsCtrl.readonly"	          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"	          type="button"	          aria-hidden="true"	          tabindex="-1">	        <md-icon md-svg-icon="md-close"></md-icon>	        <span class="md-visually-hidden">	          {{$mdChipsCtrl.deleteButtonLabel}}	        </span>	      </button>';e.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout"]}(),function(){function e(){this.selectedItem=null,this.searchText=""}t.module("material.components.chips").controller("MdContactChipsCtrl",e),e.prototype.queryContact=function(e){var n=this.contactQuery({$query:e});return this.filterSelected?n.filter(t.bind(this,this.filterSelectedContacts)):n},e.prototype.itemName=function(e){return e[this.contactName]},e.prototype.filterSelectedContacts=function(e){return-1==this.contacts.indexOf(e)}}(),function(){function e(e,t){function i(n,i){return function(n,o,r,a){t.initOptionalProperties(n,i),e(o),o.attr("tabindex","-1")}}return{template:function(e,t){return n},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:i,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch",highlightFlags:"@?mdHighlightFlags"}}}t.module("material.components.chips").directive("mdContactChips",e);var n='	      <md-chips class="md-contact-chips"	          ng-model="$mdContactChipsCtrl.contacts"	          md-require-match="$mdContactChipsCtrl.requireMatch"	          md-autocomplete-snap>	          <md-autocomplete	              md-menu-class="md-contact-chips-suggestions"	              md-selected-item="$mdContactChipsCtrl.selectedItem"	              md-search-text="$mdContactChipsCtrl.searchText"	              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"	              md-item-text="$mdContactChipsCtrl.itemName(item)"	              md-no-cache="true"	              md-autoselect	              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?	                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">	            <div class="md-contact-suggestion">	              <img 	                  ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"	                  alt="{{item[$mdContactChipsCtrl.contactName]}}"	                  ng-if="item[$mdContactChipsCtrl.contactImage]" />	              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"	                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">	                {{item[$mdContactChipsCtrl.contactName]}}	              </span>	              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>	            </div>	          </md-autocomplete>	          <md-chip-template>	            <div class="md-contact-avatar">	              <img 	                  ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"	                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"	                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />	            </div>	            <div class="md-contact-name">	              {{$chip[$mdContactChipsCtrl.contactName]}}	            </div>	          </md-chip-template>	      </md-chips>';e.$inject=["$mdTheming","$mdUtil"]}(),function(){function e(e,t,n){function i(i,o,r){function a(){var e=o.parent();return e.attr("aria-label")||e.text()?!0:e.parent().attr("aria-label")||e.parent().text()?!0:!1}function s(){i.svgIcon||i.svgSrc||(i.fontIcon&&o.addClass("md-font "+i.fontIcon),o.addClass(e.fontSet(i.fontSet)))}t(o),s();var c=r.alt||i.fontIcon||i.svgIcon||o.text(),u=r.$normalize(r.$attr.mdSvgIcon||r.$attr.mdSvgSrc||"");r["aria-label"]||(""==c||a()?o.text()||n.expect(o,"aria-hidden","true"):(n.expect(o,"aria-label",c),n.expect(o,"role","img"))),u&&r.$observe(u,function(t){o.empty(),t&&e(t).then(function(e){o.append(e)})})}return{scope:{fontSet:"@mdFontSet",fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",link:i}}t.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria",e])}(),function(){function e(){}function n(e,t){this.url=e,this.viewBoxSize=t||o.defaultViewBoxSize}function i(e,n,i,o,r){function a(t){if(t=t||"",g[t])return i.when(g[t].clone());if(_.test(t))return d(t).then(c(t));-1==t.indexOf(":")&&(t="$default:"+t);var n=e[t]?u:l;return n(t).then(c(t))}function s(n){var i=t.isUndefined(n)||!(n&&n.length);if(i)return e.defaultFontSet;var o=n;return t.forEach(e.fontSets,function(e){e.alias==n&&(o=e.fontSet||o)}),o}function c(t){return function(n){return g[t]=f(n)?n:new p(n,e[t]),g[t].clone()}}function u(t){var n=e[t];return d(n.url).then(function(e){return new p(e,n)})}function l(t){function n(e){var n=t.slice(t.lastIndexOf(":")+1),i=e.querySelector("#"+n);return i?new p(i,s):r(t)}function r(e){var t="icon "+e+" not found";return o.warn(t),i.reject(t||e)}var a=t.substring(0,t.lastIndexOf(":"))||"$default",s=e[a];return s?d(s.url).then(n):r(t)}function d(e){return n.get(e,{cache:r}).then(function(e){return t.element("<div>").append(e.data).find("svg")[0]})["catch"](m)}function m(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;return o.warn(n),i.reject(n)}function f(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function p(e,n){e&&"svg"!=e.tagName&&(e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e)[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=n,this.prepare()}function h(){var n=this.config?this.config.viewBoxSize:e.defaultViewBoxSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+n+" "+n},function(e,t){this.element.setAttribute(t,e)},this),t.forEach({"pointer-events":"none",display:"block"},function(e,t){this.element.style[t]=e},this)}function v(){return this.element.cloneNode(!0)}var g={},_=/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/i;return p.prototype={clone:v,prepare:h},a.fontSet=s,a}t.module("material.components.icon").provider("$mdIcon",e);var o={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};e.prototype={icon:function(e,t,i){return-1==e.indexOf(":")&&(e="$default:"+e),o[e]=new n(t,i),this},iconSet:function(e,t,i){return o[e]=new n(t,i),this},defaultIconSet:function(e,t){var i="$default";return o[i]||(o[i]=new n(e,t)),o[i].viewBoxSize=t||o.defaultViewBoxSize,this},defaultViewBoxSize:function(e){return o.defaultViewBoxSize=e,this},fontSet:function(e,t){return o.fontSets.push({alias:e,fontSet:t||e}),this},defaultFontSet:function(e){return o.defaultFontSet=e?e:"",this},defaultIconSize:function(e){return o.defaultIconSize=e,this},preloadIcons:function(e){var t=this,n=[{id:"md-tabs-arrow",url:"md-tabs-arrow.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "/></g></svg>'},{id:"md-close",url:"md-close.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"/></g></svg>'},{id:"md-cancel",url:"md-cancel.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M12 2c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm5 13.59l-1.41 1.41-3.59-3.59-3.59 3.59-1.41-1.41 3.59-3.59-3.59-3.59 1.41-1.41 3.59 3.59 3.59-3.59 1.41 1.41-3.59 3.59 3.59 3.59z"/></g></svg>'},{id:"md-menu",url:"md-menu.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>'},{id:"md-toggle-arrow",url:"md-toggle-arrow-svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 48 48"><path d="M24 16l-12 12 2.83 2.83 9.17-9.17 9.17 9.17 2.83-2.83z"/><path d="M0 0h48v48h-48z" fill="none"/></svg>'},{id:"md-calendar",url:"md-calendar.svg",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg>'}];n.forEach(function(n){t.icon(n.id,n.url),e.put(n.url,n.svg)})},$get:["$http","$q","$log","$templateCache",function(e,t,n,r){return this.preloadIcons(r),i(o,e,t,n,r)}]},i.$inject=["config","$http","$q","$log","$templateCache"]}(),function(){function e(e,i,o,r,a,s,c,u){var l,d,m=this;this.nestLevel=parseInt(i.mdNestLevel,10)||0,this.init=function(e,n){n=n||{},l=e,d=o[0].querySelector("[ng-click],[ng-mouseenter]"),d.setAttribute("aria-expanded","false"),this.isInMenuBar=n.isInMenuBar,this.nestedMenus=a.nodesToArray(l[0].querySelectorAll(".md-nested-menu")),l.on("$mdInterimElementRemove",function(){m.isOpen=!1});var i="menu_container_"+a.nextUid();l.attr("id",i),t.element(d).attr({"aria-owns":i,"aria-haspopup":"true"}),r.$on("$destroy",this.disableHoverListener)};var f,p,h=[];this.enableHoverListener=function(){h.push(c.$on("$mdMenuOpen",function(e,t){l[0].contains(t[0])&&(m.currentlyOpenMenu=t.controller("mdMenu"),m.isAlreadyOpening=!1,m.currentlyOpenMenu.registerContainerProxy(m.triggerContainerProxy.bind(m)))})),h.push(c.$on("$mdMenuClose",function(e,t){l[0].contains(t[0])&&(m.currentlyOpenMenu=n)})),p=t.element(a.nodesToArray(l[0].children[0].children)),p.on("mouseenter",m.handleMenuItemHover),p.on("mouseleave",m.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;h.length;)h.shift()();p&&p.off("mouseenter",m.handleMenuItemHover),p&&p.off("mouseleave",m.handleMenuMouseLeave)},this.handleMenuItemHover=function(e){if(!m.isAlreadyOpening){var n=e.target.querySelector("md-menu")||a.getClosest(e.target,"MD-MENU");f=s(function(){if(n&&(n=t.element(n).controller("mdMenu")),m.currentlyOpenMenu&&m.currentlyOpenMenu!=n){var e=m.nestLevel+1;m.currentlyOpenMenu.close(!0,{closeTo:e})}else n&&!n.isOpen&&n.open&&(m.isAlreadyOpening=!0,n.open())},n?100:250);var i=e.currentTarget.querySelector("button:not([disabled])");i&&i.focus()}},this.handleMenuItemMouseLeave=function(){f&&(s.cancel(f),f=n)},this.open=function(t){t&&t.stopPropagation(),t&&t.preventDefault(),m.isOpen||(m.enableHoverListener(),m.isOpen=!0,d=d||(t?t.target:o[0]),d.setAttribute("aria-expanded","true"),r.$emit("$mdMenuOpen",o),e.show({scope:r,mdMenuCtrl:m,nestLevel:m.nestLevel,element:l,target:d,preserveElement:!0,parent:"body"})["finally"](function(){d.setAttribute("aria-expanded","false"),m.disableHoverListener()}))},r.$mdOpenMenu=this.open,r.$watch(function(){return m.isOpen},function(e){e?(l.attr("aria-hidden","false"),o[0].classList.add("md-open"),t.forEach(m.nestedMenus,function(e){e.classList.remove("md-open")})):(l.attr("aria-hidden","true"),o[0].classList.remove("md-open")),r.$mdMenuIsOpen=m.isOpen}),this.focusMenuContainer=function(){var e=l[0].querySelector("[md-menu-focus-target]");e||(e=l[0].querySelector(".md-button")),e.focus()},this.registerContainerProxy=function(e){this.containerProxy=e},this.triggerContainerProxy=function(e){this.containerProxy&&this.containerProxy(e)},this.destroy=function(){return m.isOpen?e.destroy():u.when(!1)},this.close=function(n,i){if(m.isOpen){m.isOpen=!1;var a=t.extend({},i,{skipFocus:n});if(r.$emit("$mdMenuClose",o,a),e.hide(null,i),!n){var s=m.restoreFocusTo||o.find("button")[0];s instanceof t.element&&(s=s[0]),s&&s.focus()}}},this.positionMode=function(){var e=(i.mdPositionMode||"target").split(" ");return 1==e.length&&e.push(e[0]),{left:e[0],top:e[1]}},this.offsets=function(){var e=(i.mdOffset||"0 0").split(" ").map(parseFloat);if(2==e.length)return{left:e[0],top:e[1]};if(1==e.length)return{top:e[0],left:e[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")}}t.module("material.components.menu").controller("mdMenuCtrl",e),e.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q"]}(),function(){function e(e){function i(n){n.addClass("md-menu");var i=n.children()[0];if(i.hasAttribute("ng-click")||(i=i.querySelector("[ng-click],[ng-mouseenter]")||i),!i||"MD-BUTTON"!=i.nodeName&&"BUTTON"!=i.nodeName||i.hasAttribute("type")||i.setAttribute("type","button"),2!=n.children().length)throw Error(r+"Expected two children elements.");i&&i.setAttribute("aria-haspopup","true");var a=n[0].querySelectorAll("md-menu"),s=parseInt(n[0].getAttribute("md-nest-level"),10)||0;return a&&t.forEach(e.nodesToArray(a),function(e){e.hasAttribute("md-position-mode")||e.setAttribute("md-position-mode","cascade"),e.classList.add("md-nested-menu"),e.setAttribute("md-nest-level",s+1)}),o}function o(e,i,o,r){var a=r[0],s=r[1]!=n,c=t.element('<div class="md-open-menu-container md-whiteframe-z2"></div>'),u=i.children()[1];u.hasAttribute("role")||u.setAttribute("role","menu"),c.append(u),i.on("$destroy",function(){c.remove()}),i.append(c),c[0].style.display="none",a.init(c,{isInMenuBar:s})}var r="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:i}}t.module("material.components.menu").directive("mdMenu",e),e.$inject=["$mdUtil"]}(),function(){function e(e){function i(e,i,a,s,c,u,l,d,m){function f(n,i,o){return o.nestLevel?t.noop:(o.disableParentScroll&&!e.getClosest(o.target,"MD-DIALOG")?o.restoreScroll=e.disableScrollAround(o.element,o.parent):o.disableParentScroll=!1,o.hasBackdrop&&(o.backdrop=e.createBackdrop(n,"md-menu-backdrop md-click-catcher"),m.enter(o.backdrop,s[0].body)),function(){o.backdrop&&o.backdrop.remove(),o.disableParentScroll&&o.restoreScroll()})}function p(e,t,n){function i(){return d(t,{addClass:"md-leave"}).start()}function o(){t.removeClass("md-active"),_(t,n),n.alreadyOpen=!1}return n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),n.$destroy===!0?o():i().then(o)}function h(n,o,r){function s(){return r.parent.append(o),o[0].style.display="",u(function(e){var t=b(o,r);o.removeClass("md-leave"),d(o,{addClass:"md-active",from:$.toCss(t),to:$.toCss({transform:""})}).start().then(e)})}function m(){if(!r.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");t.extend(r,{alreadyOpen:!1,isRemoved:!1,target:t.element(r.target),parent:t.element(r.parent),menuContentEl:t.element(o[0].querySelector("md-menu-content"))})}function p(){var e=function(e,t){return l.throttle(function(){if(!r.isRemoved){var n=b(e,t);e.css($.toCss(n))}})}(o,r);return c.addEventListener("resize",e),c.addEventListener("orientationchange",e),function(){c.removeEventListener("resize",e),c.removeEventListener("orientationchange",e)}}function h(){function t(t){var n;switch(t.keyCode){case a.KEY_CODE.ESCAPE:r.mdMenuCtrl.close(!1,{closeAll:!0}),n=!0;break;case a.KEY_CODE.UP_ARROW:v(t,r.menuContentEl,r,-1)||r.nestLevel||r.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.DOWN_ARROW:v(t,r.menuContentEl,r,1)||r.nestLevel||r.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.LEFT_ARROW:r.nestLevel?r.mdMenuCtrl.close():r.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.RIGHT_ARROW:var i=e.getClosest(t.target,"MD-MENU");i&&i!=r.parent[0]?t.target.click():r.mdMenuCtrl.triggerContainerProxy(t),n=!0}n&&(t.preventDefault(),t.stopImmediatePropagation())}function i(e){e.preventDefault(),e.stopPropagation(),n.$apply(function(){r.mdMenuCtrl.close(!0,{closeAll:!0})})}function s(t){function i(){n.$apply(function(){r.mdMenuCtrl.close(!0,{closeAll:!0})})}function o(e,t){if(!e)return!1;for(var n,i=0;n=t[i];++i)for(var o,r=[n,"data-"+n,"x-"+n],a=0;o=r[a];++a)if(e.hasAttribute(o))return!0;return!1}var a=t.target;do{if(a==r.menuContentEl[0])return;if((o(a,["ng-click","ng-href","ui-sref"])||"BUTTON"==a.nodeName||"MD-BUTTON"==a.nodeName)&&!o(a,["md-prevent-menu-close"])){var s=e.getClosest(a,"MD-MENU");a.hasAttribute("disabled")||s&&s!=r.parent[0]||i();break}}while(a=a.parentNode)}o.addClass("md-clickable"),r.backdrop&&r.backdrop.on("click",i),r.menuContentEl.on("keydown",t),r.menuContentEl[0].addEventListener("click",s,!0);var c=r.menuContentEl[0].querySelector("[md-menu-focus-target]");if(!c){var u=r.menuContentEl[0].firstElementChild;c=u&&(u.querySelector(".md-button:not([disabled])")||u.firstElementChild)}return c&&c.focus(),function(){o.removeClass("md-clickable"),r.backdrop&&r.backdrop.off("click",i),r.menuContentEl.off("keydown",t),r.menuContentEl[0].removeEventListener("click",s,!0)}}return m(r),i.inherit(r.menuContentEl,r.target),r.cleanupResizing=p(),r.hideBackdrop=f(n,o,r),s().then(function(e){return r.alreadyOpen=!0,r.cleanupInteraction=h(),e})}function v(t,n,i,o){for(var r,a=e.getClosest(t.target,"MD-MENU-ITEM"),s=e.nodesToArray(n[0].children),c=s.indexOf(a),u=c+o;u>=0&&u<s.length;u+=o){var l=s[u].querySelector(".md-button");if(r=g(l))break}return r}function g(e){return e&&-1!=e.getAttribute("tabindex")?(e.focus(),s[0].activeElement==e):void 0}function _(e,t){t.preserveElement?o(e).style.display="none":o(e).parentNode===o(t.parent)&&o(t.parent).removeChild(o(e))}function b(t,i){function o(e){e.top=Math.max(Math.min(e.top,_.bottom-l.offsetHeight),_.top),e.left=Math.max(Math.min(e.left,_.right-l.offsetWidth),_.left)}function a(){for(var e=0;e<d.children.length;++e)if("none"!=c.getComputedStyle(d.children[e]).display)return d.children[e]}var u,l=t[0],d=t[0].firstElementChild,m=d.getBoundingClientRect(),f=s[0].body,p=f.getBoundingClientRect(),h=c.getComputedStyle(d),v=i.target[0].querySelector("[md-menu-origin]")||i.target[0],g=v.getBoundingClientRect(),_={left:p.left+r,top:Math.max(p.top,0)+r,bottom:Math.max(p.bottom,Math.max(p.top,0)+p.height)-r,right:p.right-r},b={top:0,left:0,right:0,bottom:0},$={top:0,left:0,right:0,bottom:0},y=i.mdMenuCtrl.positionMode();("target"==y.top||"target"==y.left||"target-right"==y.left)&&(u=a(),u&&(u=u.firstElementChild||u,u=u.querySelector("[md-menu-align-target]")||u,b=u.getBoundingClientRect(),$={top:parseFloat(l.style.top||0),left:parseFloat(l.style.left||0)}));var k={},E="top ";switch(y.top){case"target":k.top=$.top+g.top-b.top;break;case"cascade":k.top=g.top-parseFloat(h.paddingTop)-v.style.top;break;case"bottom":k.top=g.top+g.height;break;default:throw new Error('Invalid target mode "'+y.top+'" specified for md-menu on Y axis.')}switch(y.left){case"target":k.left=$.left+g.left-b.left,E+="left";break;case"target-right":k.left=g.right-m.width+(m.right-b.right),E+="right";break;case"cascade":var w=g.right+m.width<_.right;k.left=w?g.right-v.style.left:g.left-v.style.left-m.width,E+=w?"left":"right";break;case"left":k.left=g.left,E+="left";break;default:throw new Error('Invalid target mode "'+y.left+'" specified for md-menu on X axis.')}var C=i.mdMenuCtrl.offsets();k.top+=C.top,k.left+=C.left,o(k);var A=Math.round(100*Math.min(g.width/l.offsetWidth,1))/100,I=Math.round(100*Math.min(g.height/l.offsetHeight,1))/100;return{top:Math.round(k.top),left:Math.round(k.left),transform:i.alreadyOpen?n:e.supplant("scale({0},{1})",[A,I]),transformOrigin:E}}var $=e.dom.animator;return{parent:"body",onShow:h,onRemove:p,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,skipHide:!0,themable:!0}}function o(e){return e instanceof t.element&&(e=e[0]),e}var r=8;return i.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate"],e("$mdMenu").setDefaults({methods:["target"],options:i})}t.module("material.components.menu").provider("$mdMenu",e),e.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,o,r,a,s,c,u){this.$element=o,this.$attrs=r,this.$mdConstant=a,this.$mdUtil=c,this.$document=s,this.$scope=e,this.$rootScope=n,this.$timeout=u;var l=this;t.forEach(i,function(e){l[e]=t.bind(l,l[e])})}t.module("material.components.menuBar").controller("MenuBarController",e);var i=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];e.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],e.prototype.init=function(){var e=this.$element,t=this.$mdUtil,i=this.$scope,o=this,r=[];e.on("keydown",this.handleKeyDown),this.parentToolbar=t.getClosest(e,"MD-TOOLBAR"),r.push(this.$rootScope.$on("$mdMenuOpen",function(t,n){-1!=o.getMenus().indexOf(n[0])&&(e[0].classList.add("md-open"),n[0].classList.add("md-open"),o.currentlyOpenMenu=n.controller("mdMenu"),o.currentlyOpenMenu.registerContainerProxy(o.handleKeyDown),o.enableOpenOnHover())})),r.push(this.$rootScope.$on("$mdMenuClose",function(i,r,a){var s=o.getMenus();if(-1!=s.indexOf(r[0])&&(e[0].classList.remove("md-open"),r[0].classList.remove("md-open")),e[0].contains(r[0])){for(var c=r[0];c&&-1==s.indexOf(c);)c=t.getClosest(c,"MD-MENU",!0);c&&(a.skipFocus||c.querySelector("button:not([disabled])").focus(),o.currentlyOpenMenu=n,o.disableOpenOnHover(),o.setKeyboardMode(!0))}})),i.$on("$destroy",function(){for(;r.length;)r.shift()()}),this.setKeyboardMode(!0)},e.prototype.setKeyboardMode=function(e){e?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},e.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){this.openOnHoverEnabled=!0;var e;(e=this.parentToolbar)&&(e.dataset.mdRestoreStyle=e.getAttribute("style"),e.style.position="relative",e.style.zIndex=100),t.element(this.getMenus()).on("mouseenter",this.handleMenuHover)}},e.prototype.handleMenuHover=function(e){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(e)},e.prototype.disableOpenOnHover=function(){if(this.openOnHoverEnabled){this.openOnHoverEnabled=!1;var e;(e=this.parentToolbar)&&e.setAttribute("style",e.dataset.mdRestoreStyle||""),t.element(this.getMenus()).off("mouseenter",this.handleMenuHover)}},e.prototype.scheduleOpenHoveredMenu=function(e){var n=t.element(e.currentTarget),i=n.controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(i)},e.prototype.scheduleOpenMenu=function(e){var t=this,i=this.$timeout;e!=t.currentlyOpenMenu&&(i.cancel(t.pendingMenuOpen),t.pendingMenuOpen=i(function(){t.pendingMenuOpen=n,t.currentlyOpenMenu&&t.currentlyOpenMenu.close(!0,{closeAll:!0}),e.open()},200,!1))},e.prototype.handleKeyDown=function(e){var n=this.$mdConstant.KEY_CODE,i=this.currentlyOpenMenu,o=i&&i.isOpen;this.setKeyboardMode(!0);var r,a,s;switch(e.keyCode){case n.DOWN_ARROW:i?i.focusMenuContainer():this.openFocusedMenu(),r=!0;break;case n.UP_ARROW:i&&i.close(),r=!0;break;case n.LEFT_ARROW:a=this.focusMenu(-1),o&&(s=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),r=!0;break;case n.RIGHT_ARROW:a=this.focusMenu(1),o&&(s=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),r=!0}r&&(e&&e.preventDefault&&e.preventDefault(),e&&e.stopImmediatePropagation&&e.stopImmediatePropagation())},e.prototype.focusMenu=function(e){var t=this.getMenus(),n=this.getFocusedMenuIndex();-1==n&&(n=this.getOpenMenuIndex());var i=!1;return-1==n?n=0:(0>e&&n>0||e>0&&n<t.length-e)&&(n+=e,i=!0),i?(t[n].querySelector("button").focus(),t[n]):void 0},e.prototype.openFocusedMenu=function(){var e=this.getFocusedMenu();e&&t.element(e).controller("mdMenu").open()},e.prototype.getMenus=function(){var e=this.$element;return this.$mdUtil.nodesToArray(e[0].children).filter(function(e){return"MD-MENU"==e.nodeName})},e.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},e.prototype.getFocusedMenuIndex=function(){var e=this.$mdUtil,t=e.getClosest(this.$document[0].activeElement,"MD-MENU");if(!t)return-1;var n=this.getMenus().indexOf(t);return n},e.prototype.getOpenMenuIndex=function(){for(var e=this.getMenus(),t=0;t<e.length;++t)if(e[t].classList.contains("md-open"))return t;
return-1}}(),function(){function e(e,n){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(i,o){return o.ariaRole||i[0].setAttribute("role","menubar"),t.forEach(i[0].children,function(n){if("MD-MENU"==n.nodeName){n.hasAttribute("md-position-mode")||(n.setAttribute("md-position-mode","left bottom"),n.querySelector("button,a").setAttribute("role","menuitem"));var i=e.nodesToArray(n.querySelectorAll("md-menu-content"));t.forEach(i,function(e){e.classList.add("md-menu-bar-menu"),e.classList.add("md-dense"),e.hasAttribute("width")||e.setAttribute("width",5)})}}),function(e,t,i,o){n(e,t),o.init()}}}}t.module("material.components.menuBar").directive("mdMenuBar",e),e.$inject=["$mdUtil","$mdTheming"]}(),function(){function e(){return{restrict:"E",compile:function(e,t){t.role||e[0].setAttribute("role","separator")}}}t.module("material.components.menuBar").directive("mdMenuDivider",e)}(),function(){function e(e,t,n){this.$element=t,this.$attrs=n,this.$scope=e}t.module("material.components.menuBar").controller("MenuItemController",e),e.$inject=["$scope","$element","$attrs"],e.prototype.init=function(e){var t=this.$element,n=this.$attrs;this.ngModel=e,("checkbox"==n.type||"radio"==n.type)&&(this.mode=n.type,this.iconEl=t[0].children[0],this.buttonEl=t[0].children[1],e&&this.initClickListeners())},e.prototype.clearNgAria=function(){var e=this.$element[0],n=["role","tabindex","aria-invalid","aria-checked"];t.forEach(n,function(t){e.removeAttribute(t)})},e.prototype.initClickListeners=function(){function e(){if("radio"==s){var e=a.ngValue?r.$eval(a.ngValue):a.value;return o.$modelValue==e}return o.$modelValue}function n(e){e?u.off("click",l):u.on("click",l)}var i=this,o=this.ngModel,r=this.$scope,a=this.$attrs,s=(this.$element,this.mode);this.handleClick=t.bind(this,this.handleClick);var c=this.iconEl,u=t.element(this.buttonEl),l=this.handleClick;a.$observe("disabled",n),n(a.disabled),o.$render=function(){i.clearNgAria(),e()?(c.style.display="",u.attr("aria-checked","true")):(c.style.display="none",u.attr("aria-checked","false"))},r.$$postDigest(o.$render)},e.prototype.handleClick=function(e){var t,n=this.mode,i=this.ngModel,o=this.$attrs;"checkbox"==n?t=!i.$modelValue:"radio"==n&&(t=o.ngValue?this.$scope.$eval(o.ngValue):o.value),i.$setViewValue(t),i.$render()}}(),function(){function e(){return{require:["mdMenuItem","?ngModel"],priority:210,compile:function(e,n){function i(n,i,o){o=o||e,o instanceof t.element&&(o=o[0]),o.hasAttribute(n)||o.setAttribute(n,i)}function o(t){if(e[0].hasAttribute(t)){var n=e[0].getAttribute(t);a[0].setAttribute(t,n),e[0].removeAttribute(t)}}if("checkbox"==n.type||"radio"==n.type){var r=e[0].textContent,a=t.element('<md-button type="button"></md-button>');a.html(r),a.attr("tabindex","0"),e.html(""),e.append(t.element('<md-icon md-svg-icon="check"></md-icon>')),e.append(a),e[0].classList.add("md-indent"),i("role","checkbox"==n.type?"menuitemcheckbox":"menuitemradio",a),t.forEach(["ng-disabled"],o)}else i("role","menuitem",e[0].querySelector("md-button,button,a"));return function(e,t,n,i){var o=i[0],r=i[1];o.init(r)}},controller:"MenuItemController"}}t.module("material.components.menuBar").directive("mdMenuItem",e)}(),function(){function e(){function e(e,i,o,r){if(r){var a=r.getTabElementIndex(i),s=n(i,"md-tab-body").remove(),c=n(i,"md-tab-label").remove(),u=r.insertTab({scope:e,parent:e.$parent,index:a,element:i,template:s.html(),label:c.html()},a);e.select=e.select||t.noop,e.deselect=e.deselect||t.noop,e.$watch("active",function(e){e&&r.select(u.getIndex())}),e.$watch("disabled",function(){r.refreshIndex()}),e.$watch(function(){return r.getTabElementIndex(i)},function(e){u.index=e,r.updateTabOrder()}),e.$on("$destroy",function(){r.removeTab(u)})}}function n(e,n){for(var i=e[0].children,o=0,r=i.length;r>o;o++){var a=i[o];if(a.tagName===n.toUpperCase())return t.element(a)}return t.element()}return{require:"^?mdTabs",terminal:!0,compile:function(i,o){var r=n(i,"md-tab-label"),a=n(i,"md-tab-body");if(0==r.length&&(r=t.element("<md-tab-label></md-tab-label>"),o.label?r.text(o.label):r.append(i.contents()),0==a.length)){var s=i.contents().detach();a=t.element("<md-tab-body></md-tab-body>"),a.append(s)}return i.append(r),a.html()&&i.append(a),e},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}}t.module("material.components.tabs").directive("mdTab",e)}(),function(){function e(){return{require:"^?mdTabs",link:function(e,t,n,i){i&&i.attachRipple(e,t)}}}t.module("material.components.tabs").directive("mdTabItem",e)}(),function(){function e(){return{terminal:!0}}t.module("material.components.tabs").directive("mdTabLabel",e)}(),function(){function e(e){return{restrict:"A",compile:function(t,n){var i=e(n.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){i(e,{$event:t})})})}}}}t.module("material.components.tabs").directive("mdTabScroll",e),e.$inject=["$parse"]}(),function(){function e(e,i,o,r,a,s,c,u,l,d){function m(){ce.selectedIndex=ce.selectedIndex||0,f(),h(),p(),d(i),s.nextTick(function(){ie(),Z(),oe(),ce.tabs[ce.selectedIndex]&&ce.tabs[ce.selectedIndex].scope.select(),fe=!0,Y()})}function f(){var e=u.$mdTabsTemplate,n=t.element(le.data);n.html(e),l(n.contents())(ce.parent),delete u.$mdTabsTemplate}function p(){t.element(o).on("resize",O),e.$on("$destroy",_)}function h(){e.$watch("$mdTabsCtrl.selectedIndex",A)}function v(e,t){var n=u.$normalize("md-"+e);t&&z(e,t),u.$observe(n,function(t){ce[e]=t})}function g(e,t){function n(t){ce[e]="false"!==t}var i=u.$normalize("md-"+e);t&&z(e,t),u.hasOwnProperty(i)&&n(u[i]),u.$observe(i,n)}function _(){me=!0,t.element(o).off("resize",O)}function b(e){t.element(le.wrapper).toggleClass("md-stretch-tabs",U()),oe()}function $(e){ce.shouldCenterTabs=F()}function y(e,t){e!==t&&s.nextTick(ce.updateInkBarStyles)}function k(e,t){e!==t&&(ce.maxTabWidth=K(),ce.shouldCenterTabs=F(),s.nextTick(function(){ce.maxTabWidth=K(),Z(ce.selectedIndex)}))}function E(e){i[e?"removeClass":"addClass"]("md-no-tab-content")}function w(n){var i=ce.shouldCenterTabs?"":"-"+n+"px";t.element(le.paging).css(r.CSS.TRANSFORM,"translate3d("+i+", 0, 0)"),e.$broadcast("$mdTabsPaginationChanged")}function C(e,t){e!==t&&le.tabs[e]&&(Z(),Q())}function A(t,n){t!==n&&(ce.selectedIndex=G(t),ce.lastSelectedIndex=n,ce.updateInkBarStyles(),ie(),Z(t),e.$broadcast("$mdTabsChanged"),ce.tabs[n]&&ce.tabs[n].scope.deselect(),ce.tabs[t]&&ce.tabs[t].scope.select())}function I(e){var t=i[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(t,e[0])}function x(){x.watcher||(x.watcher=e.$watch(function(){s.nextTick(function(){x.watcher&&i.prop("offsetParent")&&(x.watcher(),x.watcher=null,O())},!1)}))}function M(e){switch(e.keyCode){case r.KEY_CODE.LEFT_ARROW:e.preventDefault(),J(-1,!0);break;case r.KEY_CODE.RIGHT_ARROW:e.preventDefault(),J(1,!0);break;case r.KEY_CODE.SPACE:case r.KEY_CODE.ENTER:e.preventDefault(),ue||(ce.selectedIndex=ce.focusIndex)}ce.lastClick=!1}function T(e){ue||(ce.focusIndex=ce.selectedIndex=e),ce.lastClick=!0,s.nextTick(function(){ce.tabs[e].element.triggerHandler("click")},!1)}function S(e){ce.shouldPaginate&&(e.preventDefault(),ce.offsetLeft=ae(ce.offsetLeft-e.wheelDelta))}function N(){var e,t,n=le.canvas.clientWidth,i=n+ce.offsetLeft;for(e=0;e<le.tabs.length&&(t=le.tabs[e],!(t.offsetLeft+t.offsetWidth>i));e++);ce.offsetLeft=ae(t.offsetLeft)}function D(){var e,t;for(e=0;e<le.tabs.length&&(t=le.tabs[e],!(t.offsetLeft+t.offsetWidth>=ce.offsetLeft));e++);ce.offsetLeft=ae(t.offsetLeft+t.offsetWidth-le.canvas.clientWidth)}function O(){ce.lastSelectedIndex=ce.selectedIndex,ce.offsetLeft=ae(ce.offsetLeft),s.nextTick(function(){ce.updateInkBarStyles(),Y()})}function L(e){t.element(le.inkBar).toggleClass("ng-hide",e)}function H(e){i.toggleClass("md-dynamic-height",e)}function P(e){if(!me){var t=ce.selectedIndex,n=ce.tabs.splice(e.getIndex(),1)[0];ne(),ce.selectedIndex===t&&(n.scope.deselect(),ce.tabs[ce.selectedIndex]&&ce.tabs[ce.selectedIndex].scope.select()),s.nextTick(function(){Y(),ce.offsetLeft=ae(ce.offsetLeft)})}}function q(e,n){var i=fe,o={getIndex:function(){return ce.tabs.indexOf(r)},isActive:function(){return this.getIndex()===ce.selectedIndex},isLeft:function(){return this.getIndex()<ce.selectedIndex},isRight:function(){return this.getIndex()>ce.selectedIndex},shouldRender:function(){return!ce.noDisconnect||this.isActive()},hasFocus:function(){return!ce.lastClick&&ce.hasFocus&&this.getIndex()===ce.focusIndex},id:s.nextUid()},r=t.extend(o,e);return t.isDefined(n)?ce.tabs.splice(n,0,r):ce.tabs.push(r),ee(),te(),s.nextTick(function(){Y(),i&&ce.autoselect&&s.nextTick(function(){s.nextTick(function(){T(ce.tabs.indexOf(r))})})}),r}function j(){var e={};return e.wrapper=i[0].getElementsByTagName("md-tabs-wrapper")[0],e.data=i[0].getElementsByTagName("md-tab-data")[0],e.canvas=e.wrapper.getElementsByTagName("md-tabs-canvas")[0],e.paging=e.canvas.getElementsByTagName("md-pagination-wrapper")[0],e.tabs=e.paging.getElementsByTagName("md-tab-item"),e.dummies=e.canvas.getElementsByTagName("md-dummy-tab"),e.inkBar=e.paging.getElementsByTagName("md-ink-bar")[0],e.contentsWrapper=i[0].getElementsByTagName("md-tabs-content-wrapper")[0],e.contents=e.contentsWrapper.getElementsByTagName("md-tab-content"),e}function B(){return ce.offsetLeft>0}function R(){var e=le.tabs[le.tabs.length-1];return e&&e.offsetLeft+e.offsetWidth>le.canvas.clientWidth+ce.offsetLeft}function U(){switch(ce.stretchTabs){case"always":return!0;case"never":return!1;default:return!ce.shouldPaginate&&o.matchMedia("(max-width: 600px)").matches}}function F(){return ce.centerTabs&&!ce.shouldPaginate}function V(){if(ce.noPagination||!fe)return!1;var e=i.prop("clientWidth");return t.forEach(j().dummies,function(t){e-=t.offsetWidth}),0>e}function G(e){if(-1===e)return-1;var t,n,i=Math.max(ce.tabs.length-e,e);for(t=0;i>=t;t++){if(n=ce.tabs[e+t],n&&n.scope.disabled!==!0)return n.getIndex();if(n=ce.tabs[e-t],n&&n.scope.disabled!==!0)return n.getIndex()}return e}function z(e,t,n){Object.defineProperty(ce,e,{get:function(){return n},set:function(e){var i=n;n=e,t&&t(e,i)}})}function Y(){U()||W(),ce.maxTabWidth=K(),ce.shouldPaginate=V()}function W(){var e=1;t.forEach(j().dummies,function(t){e+=Math.ceil(t.offsetWidth)}),t.element(le.paging).css("width",e+"px")}function K(){return i.prop("clientWidth")}function X(){var e=ce.tabs[ce.selectedIndex],t=ce.tabs[ce.focusIndex];ce.tabs=ce.tabs.sort(function(e,t){return e.index-t.index}),ce.selectedIndex=ce.tabs.indexOf(e),ce.focusIndex=ce.tabs.indexOf(t)}function J(e,t){var n,i=t?"focusIndex":"selectedIndex",o=ce[i];for(n=o+e;ce.tabs[n]&&ce.tabs[n].scope.disabled;n+=e);ce.tabs[n]&&(ce[i]=n)}function Q(){j().dummies[ce.focusIndex].focus()}function Z(e){if(null==e&&(e=ce.focusIndex),le.tabs[e]&&!ce.shouldCenterTabs){var t=le.tabs[e],n=t.offsetLeft,i=t.offsetWidth+n;ce.offsetLeft=Math.max(ce.offsetLeft,ae(i-le.canvas.clientWidth+64)),ce.offsetLeft=Math.min(ce.offsetLeft,ae(n))}}function ee(){de.forEach(function(e){s.nextTick(e)}),de=[]}function te(){var e=!1;t.forEach(ce.tabs,function(t){t.template&&(e=!0)}),ce.hasContent=e}function ne(){ce.selectedIndex=G(ce.selectedIndex),ce.focusIndex=G(ce.focusIndex)}function ie(){if(!ce.dynamicHeight)return i.css("height","");if(!ce.tabs.length)return de.push(ie);var e=le.contents[ce.selectedIndex],t=e?e.offsetHeight:0,o=le.wrapper.offsetHeight,r=t+o,a=i.prop("clientHeight");if(a!==r){"bottom"===i.attr("md-align-tabs")&&(a-=o,r-=o,i.attr("md-border-bottom")!==n&&++a),ue=!0;var u={height:a+"px"},l={height:r+"px"};i.css(u),c(i,{from:u,to:l,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){i.css({transition:"none",height:""}),s.nextTick(function(){i.css("transition","")}),ue=!1})}}function oe(){if(!le.tabs[ce.selectedIndex])return void t.element(le.inkBar).css({left:"auto",right:"auto"});if(!ce.tabs.length)return de.push(ce.updateInkBarStyles);if(!i.prop("offsetParent"))return x();var e,n=ce.selectedIndex,o=le.paging.offsetWidth,r=le.tabs[n],a=r.offsetLeft,c=o-a-r.offsetWidth;ce.shouldCenterTabs&&(e=Array.prototype.slice.call(le.tabs).reduce(function(e,t){return e+t.offsetWidth},0),o>e&&s.nextTick(oe,!1)),re(),t.element(le.inkBar).css({left:a+"px",right:c+"px"})}function re(){var e=ce.selectedIndex,n=ce.lastSelectedIndex,i=t.element(le.inkBar);t.isNumber(n)&&i.toggleClass("md-left",n>e).toggleClass("md-right",e>n)}function ae(e){if(!le.tabs.length||!ce.shouldPaginate)return 0;var t=le.tabs[le.tabs.length-1],n=t.offsetLeft+t.offsetWidth;return e=Math.max(0,e),e=Math.min(n-le.canvas.clientWidth,e)}function se(e,n){var i={colorElement:t.element(le.inkBar)};a.attach(e,n,i)}var ce=this,ue=!1,le=j(),de=[],me=!1,fe=!1;v("stretchTabs",b),z("focusIndex",C,ce.selectedIndex||0),z("offsetLeft",w,0),z("hasContent",E,!1),z("maxTabWidth",y,K()),z("shouldPaginate",k,!1),g("noInkBar",L),g("dynamicHeight",H),g("noPagination"),g("swipeContent"),g("noDisconnect"),g("autoselect"),g("centerTabs",$,!1),g("enableDisconnect"),ce.scope=e,ce.parent=e.$parent,ce.tabs=[],ce.lastSelectedIndex=null,ce.hasFocus=!1,ce.lastClick=!0,ce.shouldCenterTabs=F(),ce.updatePagination=s.debounce(Y,100),ce.redirectFocus=Q,ce.attachRipple=se,ce.insertTab=q,ce.removeTab=P,ce.select=T,ce.scroll=S,ce.nextPage=N,ce.previousPage=D,ce.keydown=M,ce.canPageForward=R,ce.canPageBack=B,ce.refreshIndex=ne,ce.incrementIndex=J,ce.getTabElementIndex=I,ce.updateInkBarStyles=s.debounce(oe,100),ce.updateTabOrder=s.debounce(X,100),m()}t.module("material.components.tabs").controller("MdTabsController",e),e.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming"]}(),function(){function e(){return{scope:{selectedIndex:"=?mdSelected"},template:function(e,t){return t.$mdTabsTemplate=e.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-icon="md-tabs-arrow"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-icon="md-tabs-arrow"></md-icon> </md-next-button> <md-tabs-canvas tabindex="{{ $mdTabsCtrl.hasFocus ? -1 : 0 }}" aria-activedescendant="tab-item-{{$mdTabsCtrl.tabs[$mdTabsCtrl.focusIndex].id}}" ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)" role="tablist"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)"> <md-tab-item tabindex="-1" class="md-tab" style="max-width: {{ $mdTabsCtrl.maxTabWidth + \'px\' }}" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" aria-controls="tab-content-{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <div class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" id="tab-item-{{::tab.id}}" role="tab" aria-controls="tab-content-{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </div> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0"> <md-tab-content id="tab-content-{{::tab.id}}" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="$mdTabsCtrl.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}t.module("material.components.tabs").directive("mdTabs",e)}(),function(){function e(e,t){function n(n,i,o,r){function a(){n.$watch("connected",function(e){e===!1?s():c()}),n.$on("$destroy",c)}function s(){r.enableDisconnect&&t.disconnectScope(u)}function c(){r.enableDisconnect&&t.reconnectScope(u)}if(r){var u=r.enableDisconnect?n.compileScope.$new():n.compileScope;return i.html(n.template),e(i.contents())(u),i.on("DOMSubtreeModified",function(){r.updatePagination(),r.updateInkBarStyles()}),t.nextTick(a)}}return{restrict:"A",link:n,scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}t.module("material.components.tabs").directive("mdTabsTemplate",e),e.$inject=["$compile","$mdUtil"]}(),function(){t.module("material.core").constant("$MD_THEME_CSS","md-autocomplete.md-THEME_NAME-theme {  background: '{{background-50}}'; }  md-autocomplete.md-THEME_NAME-theme[disabled] {    background: '{{background-100}}'; }  md-autocomplete.md-THEME_NAME-theme button md-icon path {    fill: '{{background-600}}'; }  md-autocomplete.md-THEME_NAME-theme button:after {    background: '{{background-600-0.3}}'; }.md-autocomplete-suggestions-container.md-THEME_NAME-theme {  background: '{{background-50}}'; }  .md-autocomplete-suggestions-container.md-THEME_NAME-theme li {    color: '{{background-900}}'; }    .md-autocomplete-suggestions-container.md-THEME_NAME-theme li .highlight {      color: '{{background-600}}'; }    .md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover, .md-autocomplete-suggestions-container.md-THEME_NAME-theme li.selected {      background: '{{background-200}}'; }md-backdrop {  background-color: '{{background-900-0.0}}'; }  md-backdrop.md-opaque.md-THEME_NAME-theme {    background-color: '{{background-900-1.0}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }a.md-button.md-THEME_NAME-theme:not([disabled]):hover,.md-button.md-THEME_NAME-theme:not([disabled]):hover {  background-color: '{{background-500-0.2}}'; }a.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]).md-focused {  background-color: '{{background-500-0.2}}'; }a.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover,.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover {  background-color: transparent; }a.md-button.md-THEME_NAME-theme.md-fab,.md-button.md-THEME_NAME-theme.md-fab {  background-color: '{{accent-color}}';  color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab md-icon,  .md-button.md-THEME_NAME-theme.md-fab md-icon {    color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {    background-color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {    background-color: '{{accent-A700}}'; }a.md-button.md-THEME_NAME-theme.md-primary,.md-button.md-THEME_NAME-theme.md-primary {  color: '{{primary-color}}'; }  a.md-button.md-THEME_NAME-theme.md-primary.md-raised, a.md-button.md-THEME_NAME-theme.md-primary.md-fab,  .md-button.md-THEME_NAME-theme.md-primary.md-raised,  .md-button.md-THEME_NAME-theme.md-primary.md-fab {    color: '{{primary-contrast}}';    background-color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon {      color: '{{primary-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover {      background-color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused {      background-color: '{{primary-600}}'; }  a.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon,  .md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon {    color: '{{primary-color}}'; }a.md-button.md-THEME_NAME-theme.md-fab,.md-button.md-THEME_NAME-theme.md-fab {  background-color: '{{accent-color}}';  color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon {    color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {    background-color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {    background-color: '{{accent-A700}}'; }a.md-button.md-THEME_NAME-theme.md-raised,.md-button.md-THEME_NAME-theme.md-raised {  color: '{{background-900}}';  background-color: '{{background-50}}'; }  a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon,  .md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon {    color: '{{background-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover,  .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover {    background-color: '{{background-50}}'; }  a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused,  .md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused {    background-color: '{{background-200}}'; }a.md-button.md-THEME_NAME-theme.md-warn,.md-button.md-THEME_NAME-theme.md-warn {  color: '{{warn-color}}'; }  a.md-button.md-THEME_NAME-theme.md-warn.md-raised, a.md-button.md-THEME_NAME-theme.md-warn.md-fab,  .md-button.md-THEME_NAME-theme.md-warn.md-raised,  .md-button.md-THEME_NAME-theme.md-warn.md-fab {    color: '{{warn-contrast}}';    background-color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon {      color: '{{warn-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover {      background-color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused {      background-color: '{{warn-700}}'; }  a.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon,  .md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon {    color: '{{warn-color}}'; }a.md-button.md-THEME_NAME-theme.md-accent,.md-button.md-THEME_NAME-theme.md-accent {  color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme.md-accent.md-raised, a.md-button.md-THEME_NAME-theme.md-accent.md-fab,  .md-button.md-THEME_NAME-theme.md-accent.md-raised,  .md-button.md-THEME_NAME-theme.md-accent.md-fab {    color: '{{accent-contrast}}';    background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused {      background-color: '{{accent-700}}'; }  a.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon,  .md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon {    color: '{{accent-color}}'; }a.md-button.md-THEME_NAME-theme[disabled], a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], a.md-button.md-THEME_NAME-theme.md-accent[disabled], a.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled] {  color: '{{foreground-3}}' !important;  cursor: default; }  a.md-button.md-THEME_NAME-theme[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,  .md-button.md-THEME_NAME-theme[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon {    color: '{{foreground-3}}'; }a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled] {  background-color: '{{foreground-4}}'; }a.md-button.md-THEME_NAME-theme[disabled],.md-button.md-THEME_NAME-theme[disabled] {  background-color: transparent; }md-card.md-THEME_NAME-theme {  background-color: '{{background-color}}';  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }  md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon {    color: '{{background-color}}';    background-color: '{{foreground-3}}'; }  md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead {    color: '{{foreground-2}}'; }  md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead {    color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme .md-ink-ripple {  color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{accent-contrast-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple {  color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{primary-contrast-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple {  color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-label {  color: '{{foreground-3}}'; }md-chips.md-THEME_NAME-theme .md-chips {  box-shadow: 0 1px '{{background-300}}'; }  md-chips.md-THEME_NAME-theme .md-chips.md-focused {    box-shadow: 0 2px '{{primary-color}}'; }md-chips.md-THEME_NAME-theme .md-chip {  background: '{{background-300}}';  color: '{{background-800}}'; }  md-chips.md-THEME_NAME-theme .md-chip.md-focused {    background: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-chips.md-THEME_NAME-theme .md-chip.md-focused md-icon {      color: '{{primary-contrast}}'; }md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path {  fill: '{{background-500}}'; }.md-contact-suggestion span.md-contact-email {  color: '{{background-400}}'; }md-content.md-THEME_NAME-theme {  color: '{{foreground-1}}';  background-color: '{{background-color}}'; }/** Theme styles for mdCalendar. */.md-calendar.md-THEME_NAME-theme {  color: '{{foreground-1}}'; }  .md-calendar.md-THEME_NAME-theme tr:last-child td {    border-bottom-color: '{{background-200}}'; }.md-THEME_NAME-theme .md-calendar-day-header {  background: '{{background-hue-1}}';  color: '{{foreground-1}}'; }.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator {  border: 1px solid '{{primary-500}}'; }.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled {  color: '{{primary-500-0.6}}'; }.md-THEME_NAME-theme .md-calendar-date.md-focus .md-calendar-date-selection-indicator {  background: '{{background-hue-1}}'; }.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover {  background: '{{background-hue-1}}'; }.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator {  background: '{{primary-500}}';  color: '{{primary-500-contrast}}';  border-color: transparent; }.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled {  color: '{{foreground-3}}'; }/** Theme styles for mdDatepicker. */md-datepicker.md-THEME_NAME-theme {  background: '{{background-color}}'; }.md-THEME_NAME-theme .md-datepicker-input {  color: '{{background-contrast}}';  background: '{{background-color}}'; }  .md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder, .md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder, .md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder, .md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder {    color: \"{{foreground-3}}\"; }.md-THEME_NAME-theme .md-datepicker-input-container {  border-bottom-color: '{{background-300}}'; }  .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused {    border-bottom-color: '{{primary-500}}'; }  .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid {    border-bottom-color: '{{warn-A700}}'; }.md-THEME_NAME-theme .md-datepicker-calendar-pane {  border-color: '{{background-300}}'; }.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle {  border-top-color: '{{foreground-3}}'; }.md-THEME_NAME-theme .md-datepicker-triangle-button:hover .md-datepicker-expand-triangle {  border-top-color: '{{foreground-2}}'; }.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon {  fill: '{{primary-500}}'; }.md-THEME_NAME-theme .md-datepicker-calendar,.md-THEME_NAME-theme .md-datepicker-input-mask-opaque {  background: '{{background-color}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-color}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions, md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions {    border-top-color: '{{foreground-4}}'; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }.layout-row > md-divider.md-THEME_NAME-theme {  border-right-color: '{{foreground-4}}'; }md-icon.md-THEME_NAME-theme {  color: '{{foreground-2}}'; }  md-icon.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  md-icon.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  md-icon.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: \"{{foreground-3}}\"; }md-input-container.md-THEME_NAME-theme > md-icon {  color: '{{foreground-1}}'; }md-input-container.md-THEME_NAME-theme label,md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme ng-messages :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [ng-messages] :not(.md-char-counter),md-input-container.md-THEME_NAME-theme ng-message :not(.md-char-counter), md-input-container.md-THEME_NAME-theme data-ng-message :not(.md-char-counter), md-input-container.md-THEME_NAME-theme x-ng-message :not(.md-char-counter),md-input-container.md-THEME_NAME-theme [ng-message] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [data-ng-message] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [x-ng-message] :not(.md-char-counter),md-input-container.md-THEME_NAME-theme [ng-message-exp] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [data-ng-message-exp] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [x-ng-message-exp] :not(.md-char-counter) {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid.md-input-focused label {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message,md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message],md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message-exp], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message-exp], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message-exp],md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled],md-input-container.md-THEME_NAME-theme .md-input [disabled] {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, \"{{foreground-3}}\" 0%, \"{{foreground-3}}\" 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, \"{{foreground-3}}\" 100%); }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4 {  color: '{{foreground-1}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p {  color: '{{foreground-2}}'; }md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style {  background-color: '{{background-100}}'; }md-list.md-THEME_NAME-theme md-list-item > .md-avatar-icon {  background-color: '{{foreground-3}}';  color: '{{background-color}}'; }md-list.md-THEME_NAME-theme md-list-item > md-icon {  color: '{{foreground-2}}'; }  md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight {    color: '{{primary-color}}'; }    md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight.md-accent {      color: '{{accent-color}}'; }md-menu-content.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }  md-menu-content.md-THEME_NAME-theme md-menu-divider {    background-color: '{{foreground-4}}'; }md-menu-bar.md-THEME_NAME-theme > button.md-button {  color: '{{foreground-2}}';  border-radius: 2px; }md-menu-bar.md-THEME_NAME-theme md-menu.md-open > button, md-menu-bar.md-THEME_NAME-theme md-menu > button:focus {  outline: none;  background: '{{background-200}}'; }md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover > button {  background-color: '{{ background-500-0.2}}'; }md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus {  background: transparent; }md-menu-content.md-THEME_NAME-theme .md-menu > .md-button:after {  color: '{{foreground-2}}'; }md-menu-content.md-THEME_NAME-theme .md-menu.md-open > .md-button {  background-color: '{{ background-500-0.2}}'; }md-toolbar.md-THEME_NAME-theme.md-menu-toolbar {  background-color: '{{background-color}}';  color: '{{foreground-1}}'; }  md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler {    background-color: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon {      color: '{{primary-contrast}}'; }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient(\"{{warn-100}}\" 0%, \"{{warn-100}}\" 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient(\"{{accent-100}}\" 0%, \"{{accent-100}}\" 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-group.md-THEME_NAME-theme[disabled],md-radio-button.md-THEME_NAME-theme[disabled] {  color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,  md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {    border-color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on,  md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {    border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple {  color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple, md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple {  color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme .md-checked.md-primary .md-ink-ripple {  color: '{{warn-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-value {  border-bottom-color: transparent;  background-image: linear-gradient(to right, \"{{foreground-3}}\" 0%, \"{{foreground-3}}\" 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, \"{{foreground-3}}\" 100%); }md-select.md-THEME_NAME-theme .md-select-value {  border-bottom-color: '{{foreground-4}}'; }  md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }md-select.md-THEME_NAME-theme.ng-invalid.ng-dirty .md-select-value {  color: '{{warn-A700}}' !important;  border-bottom-color: '{{warn-A700}}' !important; }md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value {  border-bottom-color: '{{primary-color}}';  color: '{{ foreground-1 }}'; }  md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder {    color: '{{ foreground-1 }}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value {  border-bottom-color: '{{accent-color}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value {  border-bottom-color: '{{warn-color}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-value {  color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }md-select-menu.md-THEME_NAME-theme md-option[disabled] {  color: '{{foreground-3}}'; }md-select-menu.md-THEME_NAME-theme md-optgroup {  color: '{{foreground-2}}'; }  md-select-menu.md-THEME_NAME-theme md-optgroup md-option {    color: '{{foreground-1}}'; }md-select-menu.md-THEME_NAME-theme md-option[selected] {  color: '{{primary-500}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected]:focus {    color: '{{primary-600}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent {    color: '{{accent-500}}'; }    md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent:focus {      color: '{{accent-600}}'; }md-select-menu.md-THEME_NAME-theme md-option:focus:not([disabled]):not([selected]) {  background: '{{background-200}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-ink-ripple {  color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before {  background-color: '{{accent-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-ink-ripple {  color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before {  background-color: '{{primary-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-ink-ripple {  color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before {  background-color: '{{warn-color-0.26}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: transparent;  border-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme .md-paginator md-icon {  color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme .md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme .md-tab[disabled], md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-active, md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon, md-tabs.md-THEME_NAME-theme .md-tab.md-focused, md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    background: '{{primary-color-0.1}}'; }  md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-100}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{accent-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{primary-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{warn-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{primary-contrast}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-100}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{accent-contrast}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{warn-contrast}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toast.md-THEME_NAME-theme .md-toast-content {  background-color: #323232;  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-toast-content .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button:not(.md-raised) {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-content {    background-color: '{{foreground-2}}'; }");
}()}(window,window.angular),window.ngMaterial={version:{full:"1.0.1"}}},function(e,t,n){n(15),e.exports="ngRoute"},function(e,t){/**
	 * @license AngularJS v1.4.8
	 * (c) 2010-2015 Google, Inc. http://angularjs.org
	 * License: MIT
	 */
!function(e,t,n){"use strict";function i(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,i={originalPath:e,regexp:e},o=i.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,i){var r="?"===i?i:null,a="*"===i?i:null;return o.push({name:n,optional:!!r}),t=t||"",""+(r?"":t)+"(?:"+(r?t:"")+(a&&"(.+?)"||"([^/]+)")+(r||"")+")"+(r||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=new RegExp("^"+e+"$",n?"i":""),i}var i={};this.when=function(e,o){var r=t.copy(o);if(t.isUndefined(r.reloadOnSearch)&&(r.reloadOnSearch=!0),t.isUndefined(r.caseInsensitiveMatch)&&(r.caseInsensitiveMatch=this.caseInsensitiveMatch),i[e]=t.extend(r,e&&n(e,r)),e){var a="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";i[a]=t.extend({redirectTo:e},n(a,r))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,o,r,a,s,u,l){function d(e,t){var n=t.keys,i={};if(!t.regexp)return null;var o=t.regexp.exec(e);if(!o)return null;for(var r=1,a=o.length;a>r;++r){var s=n[r-1],c=o[r];s&&c&&(i[s.name]=c)}return i}function m(e){var i=b.current;v=p(),g=v&&i&&v.$$route===i.$$route&&t.equals(v.pathParams,i.pathParams)&&!v.reloadOnSearch&&!_,g||!i&&!v||n.$broadcast("$routeChangeStart",v,i).defaultPrevented&&e&&e.preventDefault()}function f(){var e=b.current,i=v;g?(e.params=i.params,t.copy(e.params,r),n.$broadcast("$routeUpdate",e)):(i||e)&&(_=!1,b.current=i,i&&i.redirectTo&&(t.isString(i.redirectTo)?o.path(h(i.redirectTo,i.params)).search(i.params).replace():o.url(i.redirectTo(i.pathParams,o.path(),o.search())).replace()),a.when(i).then(function(){if(i){var e,n,o=t.extend({},i.resolve);return t.forEach(o,function(e,n){o[n]=t.isString(e)?s.get(e):s.invoke(e,null,null,n)}),t.isDefined(e=i.template)?t.isFunction(e)&&(e=e(i.params)):t.isDefined(n=i.templateUrl)&&(t.isFunction(n)&&(n=n(i.params)),t.isDefined(n)&&(i.loadedTemplateUrl=l.valueOf(n),e=u(n))),t.isDefined(e)&&(o.$template=e),a.all(o)}}).then(function(o){i==b.current&&(i&&(i.locals=o,t.copy(i.params,r)),n.$broadcast("$routeChangeSuccess",i,e))},function(t){i==b.current&&n.$broadcast("$routeChangeError",i,e,t)}))}function p(){var n,r;return t.forEach(i,function(i,a){!r&&(n=d(o.path(),i))&&(r=e(i,{params:t.extend({},o.search(),n),pathParams:n}),r.$$route=i)}),r||i[null]&&e(i[null],{params:{},pathParams:{}})}function h(e,n){var i=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)i.push(e);else{var o=e.match(/(\w+)(?:[?*])?(.*)/),r=o[1];i.push(n[r]),i.push(o[2]||""),delete n[r]}}),i.join("")}var v,g,_=!1,b={routes:i,reload:function(){_=!0,n.$evalAsync(function(){m(),f()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw c("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),o.path(h(this.current.$$route.originalPath,e)),o.search(e)}};return n.$on("$locationChangeStart",m),n.$on("$locationChangeSuccess",f),b}]}function o(){this.$get=function(){return{}}}function r(e,n,i){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(o,r,a,s,c){function u(){f&&(i.cancel(f),f=null),d&&(d.$destroy(),d=null),m&&(f=i.leave(m),f.then(function(){f=null}),m=null)}function l(){var a=e.current&&e.current.locals,s=a&&a.$template;if(t.isDefined(s)){var l=o.$new(),f=e.current,v=c(l,function(e){i.enter(e,null,m||r).then(function(){!t.isDefined(p)||p&&!o.$eval(p)||n()}),u()});m=v,d=f.scope=l,d.$emit("$viewContentLoaded"),d.$eval(h)}else u()}var d,m,f,p=a.autoscroll,h=a.onload||"";o.$on("$routeChangeSuccess",l),l()}}}function a(e,t,n){return{restrict:"ECA",priority:-400,link:function(i,o){var r=n.current,a=r.locals;o.html(a.$template);var s=e(o.contents());if(r.controller){a.$scope=i;var c=t(r.controller,a);r.controllerAs&&(i[r.controllerAs]=c),o.data("$ngControllerController",c),o.children().data("$ngControllerController",c)}s(i)}}}var s=t.module("ngRoute",["ng"]).provider("$route",i),c=t.$$minErr("ngRoute");s.provider("$routeParams",o),s.directive("ngView",r),s.directive("ngView",a),r.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"]}(window,window.angular)},function(e,t,n){n(17),e.exports="ngSanitize"},function(e,t){/**
	 * @license AngularJS v1.4.8
	 * (c) 2010-2015 Google, Inc. http://angularjs.org
	 * License: MIT
	 */
!function(e,t,n){"use strict";function i(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return a(t,u(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function o(e){var n=[],i=u(n,t.noop);return i.chars(e),n.join("")}function r(e,n){var i,o={},r=e.split(",");for(i=0;i<r.length;i++)o[n?t.lowercase(r[i]):r[i]]=!0;return o}function a(e,n){function i(e,i,r,a){if(i=t.lowercase(i),C[i])for(;b.last()&&A[b.last()];)o("",b.last());w[i]&&b.last()==i&&o("",i),a=y[i]||!!a,a||b.push(i);var c={};r.replace(f,function(e,t,n,i,o){var r=n||i||o||"";c[t]=s(r)}),n.start&&n.start(i,c,a)}function o(e,i){var o,r=0;if(i=t.lowercase(i))for(r=b.length-1;r>=0&&b[r]!=i;r--);if(r>=0){for(o=b.length-1;o>=r;o--)n.end&&n.end(b[o]);b.length=r}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var r,a,c,u,b=[],$=e;for(b.last=function(){return b[b.length-1]};e;){if(u="",a=!0,b.last()&&x[b.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(e,t){return t=t.replace(v,"$1").replace(_,"$1"),n.chars&&n.chars(s(t)),""}),o("",b.last())):(0===e.indexOf("<!--")?(r=e.indexOf("--",4),r>=0&&e.lastIndexOf("-->",r)===r&&(n.comment&&n.comment(e.substring(4,r)),e=e.substring(r+3),a=!1)):g.test(e)?(c=e.match(g),c&&(e=e.replace(c[0],""),a=!1)):h.test(e)?(c=e.match(m),c&&(e=e.substring(c[0].length),c[0].replace(m,o),a=!1)):p.test(e)&&(c=e.match(d),c?(c[4]&&(e=e.substring(c[0].length),c[0].replace(d,i)),a=!1):(u+="<",e=e.substring(1))),a&&(r=e.indexOf("<"),u+=0>r?e:e.substring(0,r),e=0>r?"":e.substring(r),n.chars&&n.chars(s(u)))),e==$)throw l("badparse","The sanitizer was unable to parse the following block of html: {0}",e);$=e}o()}function s(e){return e?(O.innerHTML=e.replace(/</g,"&lt;"),O.textContent):""}function c(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace($,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(e,n){var i=!1,o=t.bind(e,e.push);return{start:function(e,r,a){e=t.lowercase(e),!i&&x[e]&&(i=e),i||M[e]!==!0||(o("<"),o(e),t.forEach(r,function(i,r){var a=t.lowercase(r),s="img"===e&&"src"===a||"background"===a;D[a]!==!0||T[a]===!0&&!n(i,s)||(o(" "),o(r),o('="'),o(c(i)),o('"'))}),o(a?"/>":">"))},end:function(e){e=t.lowercase(e),i||M[e]!==!0||(o("</"),o(e),o(">")),e==i&&(i=!1)},chars:function(e){i||o(c(e))}}}var l=t.$$minErr("$sanitize"),d=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,m=/^<\/\s*([\w:-]+)[^>]*>/,f=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,h=/^<\//,v=/<!--(.*?)-->/g,g=/<!DOCTYPE([^>]*?)>/i,_=/<!\[CDATA\[(.*?)]]>/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$=/([^\#-~| |!])/g,y=r("area,br,col,hr,img,wbr"),k=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),E=r("rp,rt"),w=t.extend({},E,k),C=t.extend({},k,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),A=t.extend({},E,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),I=r("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),x=r("script,style"),M=t.extend({},y,C,A,w,I),T=r("background,cite,href,longdesc,src,usemap,xlink:href"),S=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),N=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),D=t.extend({},T,N,S),O=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",i),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i;return function(r,a){function s(e){e&&f.push(o(e))}function c(e,n){f.push("<a "),t.isDefined(a)&&f.push('target="',a,'" '),f.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),f.push("</a>")}if(!r)return r;for(var u,l,d,m=r,f=[];u=m.match(n);)l=u[0],u[2]||u[4]||(l=(u[3]?"http://":"mailto:")+l),d=u.index,s(m.substr(0,d)),c(l,u[0].replace(i,"")),m=m.substring(d+u[0].length);return s(m),e(f.join(""))}}])}(window,window.angular)},function(e,t,n){!function(t,i){e.exports=i(n(3))}(this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}var o=n(1),r=(i(o),n(2)),a=(i(r),n(10));i(a)},function(t,n){t.exports=e},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=i(o),a=n(4),s=i(a),c=n(5),u=i(c),l=n(8),d=i(l),m=n(7),f=i(m),p=n(6),h=i(p),v=n(9),g=i(v);angular.module("ngPeach",["ngCookies","angular-cache",r["default"].moduleName,s["default"].moduleName,u["default"].moduleName,d["default"].moduleName,f["default"].moduleName,h["default"].moduleName,g["default"].moduleName]),t["default"]="ngPeach",e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),a=i(r),s=n(5),c=i(s),u=n(8),l=i(u),d=n(7),m=i(d),f=n(6),p=i(f),h=n(9),v=i(h),g="peach",_=function b(){function e(e,t,n,i,o,r){var a={};return a.account=e,a.api=t,a.app=n,a.event=i,a.session=o,a.user=r,a}o(this,b),this.defaults={},this.$get=function(t,n,i,o,r,a){return new e(t,n,i,o,r,a)},this.$get.$inject=["$peachAccount","$peachApi","$peachApp","$peachEvent","$peachSession","$peachUser"]};_.$inject=[],angular.module(g,[a["default"].moduleName,c["default"].moduleName,l["default"].moduleName,m["default"].moduleName,p["default"].moduleName,v["default"].moduleName]).provider("$peach",_),t["default"]={moduleName:g,provider:_},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),a=i(r),s=n(8),c=i(s),u=n(6),l=i(u),d="ngPeachAccount",m=function f(){function e(e,t,n,i,o){function r(){v=t.get(g)?t.get(g):t.createCache(g,{maxAge:864e5,deleteOnExpire:"aggressive",storageMode:"memory"})}function a(t){var i=e.defer(),r=n.getActiveAccount();if(!r)return i.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up alerts."}}),i.promise;var a=v.get("/alerts/"+r);if(a)if(t){var s=_.find(a,{id:t});i.resolve(s?s:null)}else i.resolve(a);else o("alerts",{useCoreToken:!0}).find().then(function(e){if(v.put("/alerts/"+r,e.results),t){var n=_.find(e.results,{id:t});i.resolve(n?n:null)}else i.resolve(e.results)},function(e){i.resolve([])});return i.promise}function s(t){var i=e.defer(),r=n.getActiveAccount();if(!r)return i.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up day parts."}}),i.promise;var a=v.get("/day_parts/"+r);if(a)if(t){var s=_.find(a,{id:t});i.resolve(s?s:null)}else i.resolve(a);else o("day_parts",{useCoreToken:!0}).find().then(function(e){if(v.put("/day_parts/"+r,e.results),t){var n=_.find(e.results,{id:t});i.resolve(n?n:null)}else i.resolve(e.results)},function(e){i.reject(e)});return i.promise}function c(t){var i=e.defer(),r=n.getActiveAccount();if(!r)return i.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up docs."}}),i.promise;var a=v.get("/docs/"+r);if(a)if(t){var s=_.find(a,{id:t});i.resolve(s?s:null)}else i.resolve(a);else o("docs",{useCoreToken:!0}).find().then(function(e){if(v.put("/docs/"+r,e.results),t){var n=_.find(e.results,{id:t});i.resolve(n?n:null)}else i.resolve(e.results)},function(e){i.resolve([])});return i.promise}function u(t){var i=e.defer(),r=n.getActiveAccount();if(!r)return i.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up employees."}}),i.promise;var a=v.get("/employees/"+r);if(a)if(t){var s=_.find(a,{id:t});i.resolve(s?s:null)}else i.resolve(a);else o("employees",{useCoreToken:!0}).find().then(function(e){if(v.put("/employees/"+r,e.results),t){var n=_.find(e.results,{id:t});i.resolve(n?n:null)}else i.resolve(e.results)},function(e){i.reject(e)});return i.promise}function l(){var t=e.defer(),i=n.getActiveAccount(),r=n.isDevelopment()||n.isPreview();if(!i)return t.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up information."}}),t.promise;var a="/accounts/"+i,s="/account/"+i;r&&(a="/developers/me",s="/dev_account/"+i);var c=v.get(s);return c?t.resolve(c):o(a,{useCoreToken:!0}).find().then(function(e){if(r){var n=_.find(e.developer_accounts,{id:i});n?(v.put(s),t.resolve(n)):t.resolve(null)}else v.put(s),t.resolve(e)},function(e){t.reject(e)}),t.promise}function d(t){var i=e.defer(),r=n.getActiveAccount();if(!r)return i.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up jobs."}}),i.promise;var a=v.get("/jobs/"+r);if(a)if(t){var s=_.find(a,{id:t});i.resolve(s?s:null)}else i.resolve(a);else o("jobs",{useCoreToken:!0}).find().then(function(e){if(v.put("/jobs/"+r,e.results),t){var n=_.find(e.results,{id:t});i.resolve(n?n:null)}else i.resolve(e.results)},function(e){i.reject(e)});return i.promise}function m(t){var i=e.defer(),r=n.getActiveAccount();if(!r)return i.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up locations."}}),i.promise;var a=v.get("/locations/"+r);if(a)if(t){var s=_.find(a,{id:t});i.resolve(s?s:null)}else i.resolve(a);else o("locations/me",{useCoreToken:!0}).find(null,{sort:"name"}).then(function(e){if(v.put("/locations/"+r,e.results),t){var n=_.find(e.results,{id:t});i.resolve(n?n:null)}else i.resolve(e.results)},function(e){i.reject(e)});return i.promise}function f(t,r){var a=e.defer();r=_.isUndefined(r)?i.isCoreApp():r;var s=n.getActiveAccount(),c=r?"core":n.getActiveApp(),u=n.isDevelopment()||n.isPreview();return s?c?(i.getInfo().then(function(e){var n=r?1:e.id,i="account_prefs",l="/prefs/"+s+"/"+c;u&&(i="/developers/"+s+"/account_prefs",l="/dev_prefs/"+s+"/"+c);var d=v.get(l);if(d)if(r&&(d=_.where(d,{app_id:n})),t){var m=_.find(d,{key:t});a.resolve(m?m:null)}else a.resolve(d);else o(i,{useCoreToken:!0}).find({app_id:n}).then(function(e){if(v.put(l,e.results),r&&(e.results=_.where(e.results,{app_id:n})),t){var i=_.find(e.results,{key:t});a.resolve(i?i:null)}else a.resolve(e.results)},function(e){a.reject(e)})},function(e){a.reject(e)}),a.promise):(a.reject({error:{name:"No Active Application",message:"An active application is not found, so we are unable to look up preferences."}}),a.promise):(a.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up preferences."}}),a.promise)}function p(t){var i=e.defer(),r=n.getActiveAccount();if(!r)return i.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up roles."}}),i.promise;var a=v.get("/roles/"+r);if(a)if(t){var s=_.find(a,{id:t});i.resolve(s?s:null)}else i.resolve(a);else o("roles",{useCoreToken:!0}).find().then(function(e){if(v.put("/roles/"+r,e.results),t){var n=_.find(e.results,{id:t});i.resolve(n?n:null)}else i.resolve(e.results)},function(e){i.reject(e)});return i.promise}function h(t){var i=e.defer(),r=n.getActiveAccount();if(!r)return i.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up users."}}),i.promise;var a=v.get("/users/"+r);if(a)if(t){var s=_.find(a,{id:t});i.resolve(s?s:null)}else i.resolve(a);else o("users",{useCoreToken:!0}).find().then(function(e){if(v.put("/users/"+r,e.results),t){var n=_.find(e.results,{id:t});i.resolve(n?n:null)}else i.resolve(e.results)},function(e){i.reject(e)});return i.promise}var v=null,g="accountCache",b={};return b.getAlerts=a,b.getDayParts=s,b.getDocs=c,b.getEmployees=u,b.getInfo=l,b.getJobs=d,b.getLocations=m,b.getPrefs=f,b.getRoles=p,b.getUsers=h,r(),b}o(this,f),this.defaults={},this.$get=function(t,n,i,o,r){return new e(t,n,i,o,r)},this.$get.$inject=["$q","CacheFactory","$peachSession","$peachApp","$peachApi"]};m.$inject=[],angular.module(d,[a["default"].moduleName,c["default"].moduleName,l["default"].moduleName]).provider("$peachAccount",m),t["default"]={moduleName:d,provider:m},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),a=i(r),s="ngPeachApi",c=function u(){function e(e,n,i,o){function r(e,n,i,o,r,a){function s(){if(a=a||{},!angular.isObject(a))throw new Error("API options must be an object.");if(h=o.getApiUrl(),a=_.merge(_.clone(t),a),h+="/"===r.charAt(0)?r:"/accounts/"+o.getActiveAccount()+"/"+r,o.isDevelopment()||o.isPreview())v=i.get(o.getDevSessionCookieName());else{var e=o.getActiveApp(),n=i.getObject(o.getSessionAppTokensCookieName());v=!a.useCoreToken&&_.has(n,e)&&_.has(n[e],"access_token")?n[e].access_token:i.get(o.getSessionCookieName())}}function c(t,i){var o=n.defer(),r=!0,a=!1;if(i=i||{},!angular.isObject(i))throw new Error("CREATE options must be an object.");_.has(i,"atomic")&&(r=i.atomic,delete i.atomic),_.has(i,"verbose")&&(a=i.verbose,delete i.verbose);var s={};return s.method="POST",s.url=h,s.headers={"Content-Type":"application/json",Authorization:v},s.data=_.isArray(t)?{atomic:r,verbose:a,collection:t}:t,_.isEmpty(i)||(s.params=i),e(s).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}function u(t,i){var o=n.defer(),r={};if(r.method="GET",r.url=h,r.headers={Authorization:v},_.isNumber(t)||_.isString(t))r.url+="/"+t;else if(_.isObject(t)){var a=encodeURIComponent(JSON.stringify(t));r.url+="?find="+a}return _.isObject(i)&&!_.isEmpty(i)&&(r.params=i),e(r).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}function l(t,i){var o=n.defer();if(i=i||{},!angular.isObject(t))throw new Error("DELETE query must be an object.");if(_.isEmpty(t))throw new Error("DELETE query must exist.");var r={};r.method="DELETE",r.url=h,r.headers={"Content-Type":"application/json",Authorization:v},r.data=i;var a=encodeURIComponent(JSON.stringify(t));return r.url+="?find="+a,e(r).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}function d(t,i){var o=n.defer();if(!angular.isObject(t))throw new Error("PUT query must be an object.");if(_.isEmpty(t))throw new Error("PUT query must exist.");if(!angular.isObject(i))throw new Error("PUT params must be an object.");if(_.isEmpty(i))throw new Error("PUT params must exist.");var r={};r.method="PUT",r.url=h,r.headers={"Content-Type":"application/json",Authorization:v},r.data=i;var a=encodeURIComponent(JSON.stringify(t));return r.url+="?find="+a,e(r).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}function m(t,i){var o=n.defer(),r=!0,a=!1;if(i=i||{},!angular.isObject(i))throw new Error("REMOVE options must be an object.");_.has(i,"atomic")&&(r=i.atomic,delete i.atomic),_.has(i,"verbose")&&(a=i.verbose,delete i.verbose);var s={};if(s.method="DELETE",s.url=h,s.headers={Authorization:v},_.isNumber(t)||_.isString(t))s.url+="/"+t;else if(_.isArray(t)){for(var c=[],u=0;u<t.length;u++)if(_.isNumber(t[u])||_.isString(t[u]))c.push(t[u]);else{if(!(_.isObject(t[u])&&_.has(t[u],"id")&&t[u].id))throw new Error("DELETE array is malformed.");c.push(t[u].id)}s.headers={"Content-Type":"application/json",Authorization:v},s.data={atomic:r,verbose:a,collection:c}}else{if(!_.isObject(t))throw new Error("DELETE array is malformed.");if(!_.has(t,"id")&&!t.id)throw new Error("DELETE object must have `id` property.");s.url+="/"+t.id}return _.isEmpty(i)||(s.params=i),e(s).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}function f(e){var t=n.defer();if(!_.isObject(e))throw new Error("SAVE properties must be an object.");return t.resolve(_.has(e,"id")||e.id?g.update(e):g.create(e)),t.promise}function p(t,i){var o=n.defer(),r=!0,a=!1;if(i=i||{},!angular.isObject(i))throw new Error("UPDATE options must be an object.");_.has(i,"atomic")&&(r=i.atomic,delete i.atomic),_.has(i,"verbose")&&(a=i.verbose,delete i.verbose);var s={};if(s.method="PUT",s.url=h,s.headers={"Content-Type":"application/json",Authorization:v},_.isArray(t)){for(var c=[],u=0;u<t.length;u++)if(_.isNumber(t[u])||_.isString(t[u]))c.push(t[u]);else{if(!(_.isObject(t[u])&&_.has(t[u],"id")&&t[u].id))throw new Error("PUT array is malformed.");c.push(t[u])}s.data={atomic:r,verbose:a,collection:c}}else{if(!_.isObject(t))throw new Error("PUT properties must be an object or array of objects.");if(-1===s.url.indexOf("/me",s.url.length-3)){if(!_.has(t,"id")&&!t.id)throw new Error("PUT object must have `id` property.");s.url+="/"+t.id,delete t.id,delete t.created_at,delete t.created_by,delete t.is_deleted,delete t.updated_at,delete t.updated_by,delete t.uri}s.data=t}return _.isEmpty(i)||(s.params=i),e(s).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}var h="",v="",g={};return g.create=c,g.find=u,g.findAndRemove=l,g.findAndUpdate=d,g.remove=m,g.save=f,g.update=p,s(),g}return function(t,a){return new r(e,n,i,o,t,a)}}o(this,u);var t=this.defaults={useCoreToken:!1};this.$get=function(t,n,i,o){return new e(t,n,i,o)},this.$get.$inject=["$http","$q","$cookies","$peachSession"]};c.$inject=[],angular.module(s,[a["default"].moduleName]).provider("$peachApi",c),t["default"]={moduleName:s,provider:c},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),a=i(r),s="ngPeachSession",c=function u(){function e(e,n,i,o,r,a){function s(){x=r.get(S)?r.get(S):r.createCache(S,{maxAge:2592e6,deleteOnExpire:"aggressive",storageMode:"sessionStorage"})}function c(){var e=i.location.pathname.split("/"),t=i.location.hash.split("/"),n="",o="";return e.length>2&&("preview"===e[1]||"accounts"===e[1])?(n="preview"===e[1]?3:2,o=e[n]):t.length>2&&("preview"===t[1]||"accounts"===t[1])&&(n="preview"===t[1]?3:2,o=t[n]),""===o?null:Number(o)}function u(){var e=i.location.pathname.split("/"),t=i.location.hash.split("/"),n="",o="";return"config"===e[e.length-1]||"config"===e[e.length-2]?"config":"dashboard"===e[e.length-1]||"dashboard"===e[e.length-2]?"dashboard":"welcome"===e[e.length-1]||"welcome"===e[e.length-2]?"welcome":"reports"===e[e.length-1]||"reports"===e[e.length-2]?"reports":"profile"===e[e.length-1]||"profile"===e[e.length-2]?"profile":"help"===e[e.length-1]||"help"===e[e.length-2]?"help":(e.length>4&&("preview"===e[1]||"accounts"===e[1])?(n="preview"===e[1]?5:4,o=e[n]):t.length>4&&("preview"===t[1]||"accounts"===t[1])&&(n="preview"===t[1]?5:4,o=t[n]),o)}function l(){var e=c();return e?x.get("/location/"+e):null}function d(){return D.apiURL+"/"+m()}function m(){return D.apiVersion}function f(){return D.devSessionCookieName}function p(e){return e&&_.has(D,e)?D[e]:D}function h(){return D.sessionAppTokensCookieName}function v(){return D.sessionCookieName}function g(){return D.sessionExpiryCookieName}function b(){return D.sessionRefreshCookieName}function $(){return D.userSaveCookieName}function y(){return D.development}function k(){var e=i.location.pathname.split("/"),t=i.location.hash.split("/"),n=!1;return e.length>2&&"preview"===e[1]?n=!0:t.length>2&&"preview"===t[1]&&(n=!0),n}function E(t,i,a){var s=n.defer(),c=y()||k(),u="/oauth/session/login";c&&(u="/oauth/session/developer_login");var l={username:t,password:i};return e.post(d()+u,l).success(function(e){var n=!1;if(a&&D.userSaveCookieName){var i=o.getObject($()),u=!1;if(_.isEmpty(i)?u=!0:_.has(i,"user")&&_.has(i,"developer")?(t!==i.user||c!==i.developer)&&(u=!0):u=!0,u){var l={user:t,developer:c};o.putObject($(),l),n=!0}}else o.remove($()),n=!0;n&&(y()?o.remove(f()):(o.remove(h()),o.remove(v()),o.remove(b()),o.remove(g())),r.get(M).removeAll(),r.get(T).removeAll(),r.get(N).removeAll()),c?(o.put(f(),e.access_token),o.put(b(),e.refresh_token),o.put(g(),e.expires_in)):(o.putObject(h(),e.app_tokens),o.put(v(),e.access_token),o.put(b(),e.refresh_token),o.put(g(),e.expires_in)),s.resolve(e)}).error(function(e){s.reject(e)}),s.promise}function w(){var t=n.defer(),i=o.get(y()?f():v()),a={headers:{Authorization:i}};return e.get(d()+"/oauth/session/logout",a).success(function(e){r.destroyAll(),o.remove($()),y()?o.remove(f()):(o.remove(h()),o.remove(v()),o.remove(b()),o.remove(g())),t.resolve(e)}).error(function(e){r.destroyAll(),o.remove($()),y()?o.remove(f()):(o.remove(h()),o.remove(v()),o.remove(b()),o.remove(g())),t.reject(e)}),t.promise}function C(t){var i=n.defer(),a="/oauth/token",s={refresh_token:t,grant_type:"refresh_token",key:"core"};return e.post(d()+a,s).success(function(e){o.remove(f()),o.remove(h()),o.remove(v()),o.remove(b()),o.remove(g()),r.get(M).removeAll(),r.get(T).removeAll(),r.get(N).removeAll(),o.putObject(h(),e.app_tokens),o.put(v(),e.access_token),o.put(b(),e.refresh_token),o.put(g(),e.expires_in),i.resolve(e)}).error(function(e){i.reject(e)}),i.promise}function A(e){var t=c();return t?null===e?(x.remove("/location/"+t),a.publish(a.events.LOCATION_CHANGE,null),null):(x.put("/location/"+t,e),a.publish(a.events.LOCATION_CHANGE,e),e):null}function I(e){if(e=e||{},!angular.isObject(e))throw new Error("$peachSession options must be an object!");"apiURL"in e&&(D.apiURL=e.apiURL),"apiVersion"in e&&(D.apiVersion=e.apiVersion),"development"in e&&(D.development=e.development),"devSessionCookieName"in e&&(D.devSessionCookieName=e.devSessionCookieName),"sessionAppTokensCookieName"in e&&(D.sessionAppTokensCookieName=e.sessionAppTokensCookieName),"sessionCookieName"in e&&(D.sessionCookieName=e.sessionCookieName),"sessionRefreshCookieName"in e&&(D.sessionRefreshCookieName=e.sessionRefreshCookieName),"sessionExpiryCookieName"in e&&(D.sessionExpiryCookieName=e.sessionExpiryCookieName),"userSaveCookieName"in e&&(D.userSaveCookieName=e.userSaveCookieName)}var x=null,M="accountCache",T="appCache",S="sessionCache",N="userCache",D=t,O={};return O.getActiveAccount=c,O.getActiveApp=u,O.getActiveLocation=l,O.getApiUrl=d,O.getApiVersion=m,O.getDevSessionCookieName=f,O.getOptions=p,O.getSessionAppTokensCookieName=h,O.getSessionCookieName=v,O.getSessionExpiryCookieName=g,O.getSessionRefreshCookieName=b,O.getUserSaveCookieName=$,O.isDevelopment=y,O.isPreview=k,O.login=E,O.logout=w,O.refresh=C,O.setActiveLocation=A,O.setOptions=I,O.states={showSidenav:!0},s(),O}o(this,u);var t=this.defaults={apiURL:"https://api.peachworks.com",apiVersion:"v1",development:!1,devSessionCookieName:"peach_dev_sid",sessionAppTokensCookieName:"peach_app_tokens",sessionCookieName:"peach_sid",sessionRefreshCookieName:"peach_sid_ref",sessionExpiryCookieName:"peach_sid_expiry",userSaveCookieName:"peach_user"};this.$get=function(t,n,i,o,r,a){return new e(t,n,i,o,r,a)},this.$get.$inject=["$http","$q","$window","$cookies","CacheFactory","$peachEvent"]};c.$inject=[],angular.module(s,[a["default"].moduleName]).provider("$peachSession",c),t["default"]={moduleName:s,provider:c},e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="ngPeachEvent",o=function r(){function e(e,t){function n(){r.events={LOCATION_CHANGE:"locationChangeEvent",HIDE_INTRO_PAGE:"hideIntroPageEvent",REFRESH_APP_LIST:"refreshAppListEvent"}}function i(t,n){e.$emit(t,n)}function o(t,n){return e.$on(t,function(e,t){n(t)})}var r={};return r.events={},r.publish=i,r.subscribe=o,n(),r}n(this,r),this.defaults={},this.$get=function(t,n){return new e(t,n)},this.$get.$inject=["$rootScope","$log"]};o.$inject=[],angular.module(i,[]).provider("$peachEvent",o),t["default"]={moduleName:i,provider:o},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),a=i(r),s=n(6),c=i(s),u="ngPeachApp",l=function d(){function e(e,t,n,i,o){function r(){m=n.get(f)?n.get(f):n.createCache(f,{maxAge:864e5,deleteOnExpire:"aggressive",storageMode:"memory"})}function a(){var t=e.defer(),n=i.isDevelopment()||i.isPreview();if(n)return o("/apps",{useCoreToken:!0}).find().then(function(e){t.resolve(_.where(e.results,{key:i.getActiveApp()}))},function(e){t.reject(e)}),t.promise;var r=i.getActiveAccount();if(!r)return t.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up account apps."}}),t.promise;var a=m.get("/apps/"+r);return a?t.resolve(a):o("apps",{useCoreToken:!0}).find().then(function(e){m.put("/apps/"+r,e.results),t.resolve(e.results)},function(e){t.reject(e)}),t.promise}function s(){var n=e.defer();if(d()||i.isDevelopment())!function(){var e=[];_.forIn(t.routes,function(t,n){!_.has(t,"name")||_.has(t,"is_settings_page")&&t.is_settings_page||e.push(t)}),n.resolve(e)}();else{var r=function(){var e=i.getActiveAccount(),t=i.getActiveApp();if(!e)return n.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up pages."}}),{v:n.promise};if(!t)return n.reject({error:{name:"No Active Application",message:"An active application is not found, so we are unable to look up pages."}}),{v:n.promise};var r=m.get("/pages/"+e+"/"+t);r?n.resolve(r):o("apps/"+t+"/pages",{useCoreToken:!0}).find(null,{sort:"position"}).then(function(i){var o=_.where(i.results,{is_settings_page:!1});m.put("/pages/"+e+"/"+t,o),n.resolve(o)},function(e){n.reject(e)})}();if("object"==typeof r)return r.v}return n.promise}function c(){var t=e.defer(),n=d()?1:i.getActiveApp();return n?(a().then(function(e){t.resolve(_.find(e,{key:n}))},function(e){t.reject(e)}),t.promise):(t.reject({error:{name:"No Active Application",message:"An active application is not found, so we are unable to look up information."}}),t.promise)}function u(){var n=e.defer();if(d()||i.isDevelopment())!function(){var e=[];_.forIn(t.routes,function(t,n){_.has(t,"name")&&_.has(t,"is_settings_page")&&t.is_settings_page&&e.push(t)}),n.resolve(e)}();else{var r=function(){var e=i.getActiveAccount(),t=i.getActiveApp();if(!e)return n.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up settings pages."}}),{v:n.promise};if(!t)return n.reject({error:{name:"No Active Application",message:"An active application is not found, so we are unable to look up settings pages."}}),{v:n.promise};var r=m.get("/settings_pages/"+e+"/"+t);r?n.resolve(r):o("apps/"+t+"/pages",{useCoreToken:!0}).find().then(function(i){var o=_.where(i.results,{is_settings_page:!0});m.put("/settings_pages/"+e+"/"+t,o),n.resolve(o)},function(e){n.reject(e)})}();if("object"==typeof r)return r.v}return n.promise}function l(t){var n=e.defer();if(i.isDevelopment())return n.resolve(!0),n.promise;var r=i.getActiveAccount(),a=d()?1:i.getActiveApp();if(!r)return n.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up permissions."}}),n.promise;if(!a)return n.reject({error:{name:"No Active Application",message:"An active application is not found, so we are unable to look up permissions."}}),n.promise;var s=m.get("/permissions/"+r+"/"+a);if(s){var c=_.find(s,{key:t});n.resolve(c?!!c:!1)}else o("apps/"+a+"/permissions",{useCoreToken:!0}).find().then(function(e){m.put("/permissions/"+r+"/"+a,e.permissions);var i=_.find(e.permissions,{key:t});n.resolve(i?!!i:!1)},function(e){n.resolve(!1)});return n.promise}function d(){var e=!1,t=i.getActiveApp();return("welcome"===t||"dashboard"===t||"reports"===t||"profile"===t||"help"===t||"config"===t)&&(e=!0),e}var m=null,f="appCache",p={};return p.getAllApps=a,p.getAppPages=s,p.getInfo=c,p.getSettingsPages=u,p.hasPermission=l,p.isCoreApp=d,r(),p}o(this,d),this.defaults={},this.$get=function(t,n,i,o,r){return new e(t,n,i,o,r)},this.$get.$inject=["$q","$route","CacheFactory","$peachSession","$peachApi"]};l.$inject=[],angular.module(u,[a["default"].moduleName,c["default"].moduleName]).provider("$peachApp",l),t["default"]={moduleName:u,provider:l},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),a=i(r),s=n(8),c=i(s),u=n(6),l=i(u),d="ngPeachUser",m=function f(){function e(e,t,n,i,o){function r(){v=t.get(g)?t.get(g):t.createCache(g,{maxAge:864e5,deleteOnExpire:"aggressive",storageMode:"memory"})}function a(){var t=e.defer();return n.isDevelopment()||n.isPreview()?(t.resolve(null),t.promise):(v.get("accounts")?t.resolve(v.get("accounts")):o("/accounts",{useCoreToken:!0}).find().then(function(e){v.put("accounts",e.results),t.resolve(e.results)},function(e){t.reject(e)}),t.promise)}function s(t){var i=e.defer(),r=n.getActiveAccount();if(!r)return i.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up alert preferences."}}),i.promise;var a=v.get("/alert_prefs/"+r);if(a)if(t){var s=_.where(a,{alert_id:t})[0];i.resolve(s?s:null)}else i.resolve(a);else o("user_alert_prefs",{useCoreToken:!0}).find().then(function(e){if(v.put("/alert_prefs/"+r,e.results),t){var n=_.find(e.results,{alert_id:t});i.resolve(n?n:null)}else i.resolve(e.results)},function(e){i.reject(e)});return i.promise}function c(){var t=e.defer();return v.get("user")?t.resolve(v.get("user")):o("/users/me/simplified",{useCoreToken:!0}).find().then(function(e){v.put("user",e.user),t.resolve(e.user)},function(e){t.reject(e)}),t.promise}function u(t,r){var a=e.defer();r=_.isUndefined(r)?i.isCoreApp():r;var s=n.getActiveAccount(),c=r?"core":n.getActiveApp();
return s?c?(i.getInfo().then(function(e){var n=r?1:e.id,i=v.get("/prefs/"+s+"/"+c);if(i)if(i=_.where(i,{app_id:n}),t){var u=_.find(i,{key:t});a.resolve(u?u:null)}else a.resolve(i);else o("user_prefs",{useCoreToken:!0}).find({app_id:n}).then(function(e){if(v.put("/prefs/"+s+"/"+c,e.results),e.results=_.where(e.results,{app_id:n}),t){var i=_.find(e.results,{key:t});a.resolve(i?i:null)}else a.resolve(e.results)},function(e){a.reject(e)})},function(e){a.reject(e)}),a.promise):(a.reject({error:{name:"No Active Application",message:"An active application is not found, so we are unable to look up preferences."}}),a.promise):(a.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up preferences."}}),a.promise)}function l(){var t=e.defer(),n=[];return n.push(d("manage_users")),n.push(d("assign_roles")),n.push(d("assign_locations")),n.push(d("manage_locations")),n.push(d("manage_app_locations")),n.push(d("admin_manage_roles")),n.push(d("show_day_parts_settings_page")),n.push(d("show_gl_accounts_settings_page")),e.all(n).then(function(e){var n=!1;_.forIn(e,function(e){e&&(n=!0)}),t.resolve(n)},function(e){t.resolve(!1)}),t.promise}function d(t){var i=e.defer(),r=n.isDevelopment()||n.isPreview();if(r)return i.resolve(!0),i.promise;var a=n.getActiveAccount();if(!a)return i.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up permissions."}}),i.promise;var s=v.get("core_permissions");if(s){var c=_.find(s,{key:t});i.resolve(c?!!c:!1)}else o("apps/core/permissions",{useCoreToken:!0}).find().then(function(e){v.put("core_permissions",e.permissions);var n=_.find(e.permissions,{key:t});i.resolve(n?!!n:!1)},function(e){i.resolve(!1)});return i.promise}function m(){var t=e.defer(),i=n.getActiveAccount();return i?(o("reports",{useCoreToken:!0}).find(null,{limit:0}).then(function(e){t.resolve(e.count>0)},function(e){t.reject(e)}),t.promise):(t.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up reports."}}),t.promise)}function f(t,i){var r=e.defer();return s(t).then(function(e){var t=o("user_alert_prefs",{useCoreToken:!0});_.isEmpty(e)?t=t.create(i):(_.merge(e,i),t=t.update(e)),t.then(function(e){v.remove("/alert_prefs/"+n.getActiveAccount()),s(),r.resolve(e)},function(e){r.reject(e)})},function(e){r.reject(e)}),r.promise}function p(t){var n=e.defer();return o("/users/me",{useCoreToken:!0}).update(t).then(function(e){v.remove("user"),c(),n.resolve(e)},function(e){n.reject(e)}),n.promise}function h(t,r,a){var s=e.defer();a=_.isUndefined(a)?i.isCoreApp():a;var c=n.getActiveAccount(),l=a?"core":n.getActiveApp();if(!c)return s.reject({error:{name:"No Active Account",message:"An active account is not found, so we are unable to look up preferences."}}),s.promise;if(!l)return s.reject({error:{name:"No Active Application",message:"An active application is not found, so we are unable to look up preferences."}}),s.promise;var d=[];return d.push(u(t,a)),d.push(i.getInfo()),e.all(d).then(function(e){var n=e[0],i=e[1],d=a?1:i.id,m=o("user_prefs",{useCoreToken:!0});m=_.isEmpty(n)?m.create({app_id:d,key:t,value:r}):m.update({id:n.id,value:r}),m.then(function(e){v.remove("/prefs/"+c+"/"+l),u(null,a),s.resolve(e)},function(e){s.reject(e)})},function(e){s.reject(e)}),s.promise}var v=null,g="userCache",b={};return b.getAccounts=a,b.getAlertsPrefs=s,b.getInfo=c,b.getPrefs=u,b.hasConfig=l,b.hasCorePermission=d,b.hasReports=m,b.setAlertPref=f,b.setInfo=p,b.setPref=h,r(),b}o(this,f),this.defaults={},this.$get=function(t,n,i,o,r){return new e(t,n,i,o,r)},this.$get.$inject=["$q","CacheFactory","$peachSession","$peachApp","$peachApi"]};m.$inject=[],angular.module(d,[a["default"].moduleName,c["default"].moduleName,l["default"].moduleName]).provider("$peachUser",m),t["default"]={moduleName:d,provider:m},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=i(o);n(11);var a=n(12),s=i(a),c=n(13),u=i(c),l=n(14),d=i(l),m=n(26),f=i(m),p=n(29),h=i(p),v=n(32),g=i(v),_=n(41),b=i(_),$=n(43),y=i($),k=n(46),E=i(k),w=n(61),C=i(w),A=n(67),I=i(A),x=n(70),M=i(x),T=n(73),S=i(T),N=n(76),D=i(N),O=n(79),L=i(O),H=n(82),P=i(H),q=n(83),j=i(q),B=n(84),R=i(B),U=n(85),F=i(U),V=n(86),G=i(V),z=n(87),Y=(i(z),n(88));i(Y),angular.module("ngPeach.ui",[r["default"],"ngAnimate","ngAria","ngCookies","ngMaterial","angular-cache",u["default"].moduleName,d["default"].moduleName,f["default"].moduleName,h["default"].moduleName,g["default"].moduleName,b["default"].moduleName,y["default"].moduleName,E["default"].moduleName,C["default"].moduleName,I["default"].moduleName,M["default"].moduleName,S["default"].moduleName,D["default"].moduleName,L["default"].moduleName,P["default"].moduleName,j["default"].moduleName,R["default"].moduleName,F["default"].moduleName,G["default"].moduleName]).run(s["default"]),t["default"]="ngPeach.ui",e.exports=t["default"]},function(e,t){(function(){var e,t,n,i,o,r,a;i=function(e,t){var n,i,o,r;o=[];for(i in t.prototype)try{r=t.prototype[i],o.push(null==e[i]&&"function"!=typeof r?e[i]=r:void 0)}catch(a){n=a}return o},e={},null==e.options&&(e.options={}),n={checks:{xhr:{url:function(){return"/favicon.ico?_="+(new Date).getTime()},timeout:5e3,type:"HEAD"},image:{url:function(){return"/favicon.ico?_="+(new Date).getTime()}},active:"xhr"},checkOnLoad:!1,interceptRequests:!0,reconnect:!0,deDupBody:!1},o=function(e,t){var n,i,o,r,a,s;for(n=e,s=t.split("."),i=o=0,r=s.length;r>o&&(a=s[i],n=n[a],"object"==typeof n);i=++o);return i===s.length-1?n:void 0},e.getOption=function(t){var i,r;return r=null!=(i=o(e.options,t))?i:o(n,t),"function"==typeof r?r():r},"function"==typeof window.addEventListener&&window.addEventListener("online",function(){return setTimeout(e.confirmUp,100)},!1),"function"==typeof window.addEventListener&&window.addEventListener("offline",function(){return e.confirmDown()},!1),e.state="up",e.markUp=function(){return e.trigger("confirmed-up"),"up"!==e.state?(e.state="up",e.trigger("up")):void 0},e.markDown=function(){return e.trigger("confirmed-down"),"down"!==e.state?(e.state="down",e.trigger("down")):void 0},r={},e.on=function(t,n,i){var o,a,s,c,u;if(a=t.split(" "),a.length>1){for(u=[],s=0,c=a.length;c>s;s++)o=a[s],u.push(e.on(o,n,i));return u}return null==r[t]&&(r[t]=[]),r[t].push([i,n])},e.off=function(e,t){var n,i,o,a,s;if(null!=r[e]){if(t){for(o=0,s=[];o<r[e].length;)a=r[e][o],i=a[0],n=a[1],s.push(n===t?r[e].splice(o,1):o++);return s}return r[e]=[]}},e.trigger=function(e){var t,n,i,o,a,s,c;if(null!=r[e]){for(a=r[e],c=[],i=0,o=a.length;o>i;i++)s=a[i],t=s[0],n=s[1],c.push(n.call(t));return c}},t=function(e,t,n){var i,o,r,a,s;return s=function(){return e.status&&e.status<12e3?t():n()},null===e.onprogress?(i=e.onerror,e.onerror=function(){return n(),"function"==typeof i?i.apply(null,arguments):void 0},a=e.ontimeout,e.ontimeout=function(){return n(),"function"==typeof a?a.apply(null,arguments):void 0},o=e.onload,e.onload=function(){return s(),"function"==typeof o?o.apply(null,arguments):void 0}):(r=e.onreadystatechange,e.onreadystatechange=function(){return 4===e.readyState?s():0===e.readyState&&n(),"function"==typeof r?r.apply(null,arguments):void 0})},e.checks={},e.checks.xhr=function(){var n,i;i=new XMLHttpRequest,i.offline=!1,i.open(e.getOption("checks.xhr.type"),e.getOption("checks.xhr.url"),!0),null!=i.timeout&&(i.timeout=e.getOption("checks.xhr.timeout")),t(i,e.markUp,e.markDown);try{i.send()}catch(o){n=o,e.markDown()}return i},e.checks.image=function(){var t;return t=document.createElement("img"),t.onerror=e.markDown,t.onload=e.markUp,void(t.src=e.getOption("checks.image.url"))},e.checks.down=e.markDown,e.checks.up=e.markUp,e.check=function(){return e.trigger("checking"),e.checks[e.getOption("checks.active")]()},e.confirmUp=e.confirmDown=e.check,e.onXHR=function(e){var t,n,o;return o=function(t,n){var i;return i=t.open,t.open=function(o,r,a,s,c){return e({type:o,url:r,async:a,flags:n,user:s,password:c,xhr:t}),i.apply(t,arguments)}},n=window.XMLHttpRequest,window.XMLHttpRequest=function(e){var t,i,r;return r=new n(e),o(r,e),i=r.setRequestHeader,r.headers={},r.setRequestHeader=function(e,t){return r.headers[e]=t,i.call(r,e,t)},t=r.overrideMimeType,r.overrideMimeType=function(e){return r.mimeType=e,t.call(r,e)},r},i(window.XMLHttpRequest,n),null!=window.XDomainRequest?(t=window.XDomainRequest,window.XDomainRequest=function(){var e;return e=new t,o(e),e},i(window.XDomainRequest,t)):void 0},a=function(){return e.getOption("interceptRequests")&&e.onXHR(function(n){var i;return i=n.xhr,i.offline!==!1?t(i,e.markUp,e.confirmDown):void 0}),e.getOption("checkOnLoad")?e.check():void 0},setTimeout(a,0),window.Offline=e}).call(this),function(){var e,t,n,i,o,r,a,s,c;if(!window.Offline)throw new Error("Offline Reconnect brought in without offline.js");i=Offline.reconnect={},r=null,o=function(){var e;return null!=i.state&&"inactive"!==i.state&&Offline.trigger("reconnect:stopped"),i.state="inactive",i.remaining=i.delay=null!=(e=Offline.getOption("reconnect.initialDelay"))?e:3},t=function(){var e,t;return e=null!=(t=Offline.getOption("reconnect.delay"))?t:Math.min(Math.ceil(1.5*i.delay),3600),i.remaining=i.delay=e},a=function(){return"connecting"!==i.state?(i.remaining-=1,Offline.trigger("reconnect:tick"),0===i.remaining?s():void 0):void 0},s=function(){return"waiting"===i.state?(Offline.trigger("reconnect:connecting"),i.state="connecting",Offline.check()):void 0},e=function(){return Offline.getOption("reconnect")?(o(),i.state="waiting",Offline.trigger("reconnect:started"),r=setInterval(a,1e3)):void 0},c=function(){return null!=r&&clearInterval(r),o()},n=function(){return Offline.getOption("reconnect")&&"connecting"===i.state?(Offline.trigger("reconnect:failure"),i.state="waiting",t()):void 0},i.tryNow=s,o(),Offline.on("down",e),Offline.on("confirmed-down",n),Offline.on("up",c)}.call(this),function(){var e,t,n,i,o,r;if(!window.Offline)throw new Error("Requests module brought in without offline.js");n=[],r=!1,i=function(e){return Offline.getOption("requests")!==!1?(Offline.trigger("requests:capture"),"down"!==Offline.state&&(r=!0),n.push(e)):void 0},o=function(e){var t,n,i,o,r,a,s,c,u;if(u=e.xhr,a=e.url,r=e.type,s=e.user,i=e.password,t=e.body,Offline.getOption("requests")!==!1){u.abort(),u.open(r,a,!0,s,i),o=u.headers;for(n in o)c=o[n],u.setRequestHeader(n,c);return u.mimeType&&u.overrideMimeType(u.mimeType),u.send(t)}},e=function(){return n=[]},t=function(){var t,i,r,a,s,c,u;if(Offline.getOption("requests")!==!1){for(Offline.trigger("requests:flush"),c={},i=0,a=n.length;a>i;i++)s=n[i],u=s.url.replace(/(\?|&)_=[0-9]+/,function(e,t){return"?"===t?t:""}),Offline.getOption("deDupBody")?(t=s.body,t="[object Object]"===t.toString()?JSON.stringify(t):t.toString(),c[s.type.toUpperCase()+" - "+u+" - "+t]=s):c[s.type.toUpperCase()+" - "+u]=s;for(r in c)s=c[r],o(s);return e()}},setTimeout(function(){return Offline.getOption("requests")!==!1?(Offline.on("confirmed-up",function(){return r?(r=!1,e()):void 0}),Offline.on("up",t),Offline.on("down",function(){return r=!1}),Offline.onXHR(function(e){var t,n,o,r,a;return a=e.xhr,o=e.async,a.offline!==!1&&(r=function(){return i(e)},n=a.send,a.send=function(t){return e.body=t,n.apply(a,arguments)},o)?null===a.onprogress?(a.addEventListener("error",r,!1),a.addEventListener("timeout",r,!1)):(t=a.onreadystatechange,a.onreadystatechange=function(){return 0===a.readyState?r():4===a.readyState&&(0===a.status||a.status>=12e3)&&r(),"function"==typeof t?t.apply(null,arguments):void 0}):void 0}),Offline.requests={flush:t,clear:e}):void 0},0)}.call(this),function(){var e,t,n,i,o;if(!Offline)throw new Error("Offline simulate brought in without offline.js");for(i=["up","down"],t=0,n=i.length;n>t;t++)o=i[t],(document.querySelector("script[data-simulate='"+o+"']")||("undefined"!=typeof localStorage&&null!==localStorage?localStorage.OFFLINE_SIMULATE:void 0)===o)&&(null==Offline.options&&(Offline.options={}),null==(e=Offline.options).checks&&(e.checks={}),Offline.options.checks.active=o)}.call(this),function(){var e,t,n,i,o,r,a,s,c,u,l,d,m;if(!window.Offline)throw new Error("Offline UI brought in without offline.js");t='<div class="offline-ui"><div class="offline-ui-content"></div></div>',e='<a href class="offline-ui-retry"></a>',r=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.children[0]},a=o=null,i=function(e){return l(e),a.className+=" "+e},l=function(e){return a.className=a.className.replace(new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi")," ")},c={},s=function(e,t){return i(e),null!=c[e]&&clearTimeout(c[e]),c[e]=setTimeout(function(){return l(e),delete c[e]},1e3*t)},m=function(e){var t,n,i,o;i={day:86400,hour:3600,minute:60,second:1};for(n in i)if(t=i[n],e>=t)return o=Math.floor(e/t),[o,n];return["now",""]},d=function(){var n,s;return a=r(t),document.body.appendChild(a),null!=Offline.reconnect&&Offline.getOption("reconnect")&&(a.appendChild(r(e)),n=a.querySelector(".offline-ui-retry"),s=function(e){return e.preventDefault(),Offline.reconnect.tryNow()},null!=n.addEventListener?n.addEventListener("click",s,!1):n.attachEvent("click",s)),i("offline-ui-"+Offline.state),o=a.querySelector(".offline-ui-content")},u=function(){return d(),Offline.on("up",function(){return l("offline-ui-down"),i("offline-ui-up"),s("offline-ui-up-2s",2),s("offline-ui-up-5s",5)}),Offline.on("down",function(){return l("offline-ui-up"),i("offline-ui-down"),s("offline-ui-down-2s",2),s("offline-ui-down-5s",5)}),Offline.on("reconnect:connecting",function(){return i("offline-ui-connecting"),l("offline-ui-waiting")}),Offline.on("reconnect:tick",function(){var e,t,n;return i("offline-ui-waiting"),l("offline-ui-connecting"),e=m(Offline.reconnect.remaining),t=e[0],n=e[1],o.setAttribute("data-retry-in-value",t),o.setAttribute("data-retry-in-unit",n)}),Offline.on("reconnect:stopped",function(){return l("offline-ui-connecting offline-ui-waiting"),o.setAttribute("data-retry-in-value",null),o.setAttribute("data-retry-in-unit",null)}),Offline.on("reconnect:failure",function(){return s("offline-ui-reconnect-failed-2s",2),s("offline-ui-reconnect-failed-5s",5)}),Offline.on("reconnect:success",function(){return s("offline-ui-reconnect-succeeded-2s",2),s("offline-ui-reconnect-succeeded-5s",5)})},"complete"===document.readyState?u():null!=document.addEventListener?document.addEventListener("DOMContentLoaded",u,!1):(n=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&u(),"function"==typeof n?n.apply(null,arguments):void 0})}.call(this)},function(e,t){function n(e,t,n,i,o){function r(e){e.length>0&&t.app.getInfo().then(function(t){var i=e[0].path;t.platform||(i=t.key+"/"+i),n.path(i)})}e.states=t.session.states,e.$on("$routeChangeStart",function(e,n,a){!t.app.isCoreApp()&&_.has(n.$$route,"page")&&!function(){var e=Number(n.$$route.page),a=[];a.push(t.app.getAppPages()),a.push(t.app.getSettingsPages()),i.all(a).then(function(n){var i=n[0].concat(n[1]),o=_.find(i,{id:e});!_.isUndefined(o)||t.session.isDevelopment()||t.session.isPreview()||r(_.reject(i,{is_hidden:!0})),o&&_.has(o,"is_welcome_page")&&o.is_welcome_page&&t.user.getPrefs("hide_"+t.session.getActiveApp()+"_welcome_page").then(function(e){_.has(e,"value")&&"true"===e.value&&r(_.reject(i,{is_welcome_page:!0}))})},function(e){o.error(e)})}()}),e.$on("$routeChangeSuccess",function(e,i,o){"undefined"==typeof analytics||_.isNull(analytics)||analytics.page(t.session.getActiveApp()||"Customer Platform",n.path(),{account_id:t.session.getActiveAccount()||null})})}Object.defineProperty(t,"__esModule",{value:!0}),n.$inject=["$rootScope","$peach","$location","$q","$log"],t["default"]=n,e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="PeachAlertController",r=function(){function e(t,i,o,r,a,s){n(this,e),this.$log=t,this.$mdDialog=i,this.$peach=o,this.$peachAlert=r,this.$q=a,this.$window=s,this.accountAlertById={},this.accountId=null,this.alerts={},this.appById={},this.defaultBulkReadLimit=50,this.doneLoading=!1,this.dynamicItems={},this.inReadingProgress=!1,this.inSwitchingProgress=!1,this.isFullWidth=!1,this.isForceReload=!1,this.query={},this.selectedIndex=0,this.settings={},this.tabs=[],this.title="Alerts",this.user=null,this.userById={},this.activate()}return i(e,[{key:"activate",value:function(){this.$peach.session.getActiveAccount()&&(this.accountId=this.$peach.session.getActiveAccount(),this.alerts={unread:{count:0,userAlertEvents:[],isLoaded:!1},read:{count:0,userAlertEvents:[],isLoaded:!1}},this.dynamicItems={getItemAtIndex:angular.bind(this,this.getItemAtIndex),getLength:angular.bind(this,this.getLength)},this.isFullwidth=!this.$peach.session.states.showSidenav,this.query={limit:50,page:1,sort:"-created_at"},this.tabs=[{title:"Unread",category:"unread"},{title:"Read",category:"read"}],this.activateAlerts())}},{key:"accept",value:function(e){var t=this;this.$peachAlert.getAlertEvent(e.alertEvent).then(function(n){n&&null!==n.action_user_id?(e.claimed=!0,e.resolvedBy=e.alertEvent.action_user_id&&t.userById[e.alertEvent.action_user_id]?t.userById[e.alertEvent.action_user_id].first_name+" "+t.userById[e.alertEvent.action_user_id].last_name:"[unknown]",e.updatedAt=moment(e.alertEvent.updated_at).format("MMMM D, h:mm A")):t.claim(e)},function(e){t.$log.error(e)})}},{key:"activateAlerts",value:function(){var e=this;this.query.page=1;var t={},n="read"===this.tabs[this.selectedIndex].category;t.userAlertEvents=this.$peachAlert.getUserAlertEvents(this.query.page,this.query.limit,n),_.isEmpty(this.accountAlertById)&&(t.accountAlerts=this.$peach.account.getAlerts()),_.isEmpty(this.appById)&&(t.apps=this.$peach.app.getAllApps()),_.isEmpty(this.userById)&&(t.users=this.loadUsers()),null===this.user&&(t.user=this.$peach.user.getInfo()),this.$q.all(t).then(function(t){t.accountAlerts&&(e.accountAlertById=_.object(_.map(t.accountAlerts,function(e){return[e.id,e]}))),t.apps&&(e.appById=_.object(_.map(t.apps,function(e){return[e.id,e]}))),t.users&&(e.userById=_.object(_.map(t.users.results,function(e){return[e.id,e]}))),t.user&&(e.user=t.user),e.alerts[e.tabs[e.selectedIndex].category].count=t.userAlertEvents.count,e.alerts[e.tabs[e.selectedIndex].category].userAlertEvents=t.userAlertEvents.results,e.alerts[e.tabs[e.selectedIndex].category].userAlertEvents&&e.alerts[e.tabs[e.selectedIndex].category].count===e.alerts[e.tabs[e.selectedIndex].category].userAlertEvents.length&&(e.alerts[e.tabs[e.selectedIndex].category].isLoaded=!0);var n=_.without(_.pluck(e.alerts[e.tabs[e.selectedIndex].category].userAlertEvents,"alert_event_id"),null);n.length&&e.mergeWithAlertEvents(n)},function(t){e.$log.error(t)})["finally"](function(){e.doneLoading=!0,e.inSwitchingProgress=!1,e.isForceReload=!1})}},{key:"cancel",value:function(){this.$mdDialog.cancel()}},{key:"claim",value:function(e){var t=this,n={id:e.alertEvent.id,is_action_user:!0,action_user_id:this.user.id};this.$peach.api("alert_events").update(n).then(function(n){e.alertEvent=n,e.claimed=!0,e.resolvedBy=e.alertEvent.action_user_id&&t.userById[e.alertEvent.action_user_id]?t.userById[e.alertEvent.action_user_id].first_name+" "+t.userById[e.alertEvent.action_user_id].last_name:"[unknown]",e.updatedAt=moment(e.alertEvent.updated_at).format("MMMM D, h:mm A")},function(e){t.$log.error(e)})}},{key:"fetchMoreAlerts",value:function(){var e=this,t="read"===this.tabs[this.selectedIndex].category;this.$peachAlert.getUserAlertEvents(this.query.page,this.query.limit,t).then(function(t){e.alerts[e.tabs[e.selectedIndex].category].count=t.count,e.alerts[e.tabs[e.selectedIndex].category].userAlertEvents=e.alerts[e.tabs[e.selectedIndex].category].userAlertEvents.concat(t.results),e.alerts[e.tabs[e.selectedIndex].category].count===e.alerts[e.tabs[e.selectedIndex].category].userAlertEvents.length&&(e.alerts[e.tabs[e.selectedIndex].category].isLoaded=!0);var n=_.without(_.pluck(t.results,"alert_event_id"),null);n.length&&e.mergeWithAlertEvents(n)},function(t){e.$log.error(t)})}},{key:"getItemAtIndex",value:function(e){var t=Math.ceil(this.alerts[this.tabs[this.selectedIndex].category].count/this.query.limit),n=Math.ceil(e/this.query.limit);return e+1>=this.alerts[this.tabs[this.selectedIndex].category].userAlertEvents.length&&this.query.page<t&&!this.alerts[this.tabs[this.selectedIndex].category].isLoaded&&n-this.query.page===1?(this.query.page=n,this.fetchMoreAlerts()):this.alerts[this.tabs[this.selectedIndex].category].userAlertEvents[e]}},{key:"getLength",value:function(){return this.alerts[this.tabs[this.selectedIndex].category].userAlertEvents.length}},{key:"getListHeight",value:function(){return{height:""+(this.$window.innerHeight-300)+"px"}}},{key:"loadUsers",value:function(){return this.$peach.api("users").find().then(function(e){return e},function(e){return e})}},{key:"mergeWithAlertEvents",value:function(e){var t=this;return e&&e.length?void this.$peachAlert.getAlertEvents(e).then(function(e){_.forEach(t.alerts[t.tabs[t.selectedIndex].category].userAlertEvents,function(n){_.isUndefined(n.alertEvent)&&(n.alertEvent=_.find(e.results,{id:n.alert_event_id}),_.isUndefined(n.alertEvent)||(n.alertEvent.message=t.parseMessage(n.alertEvent.message),n.icon=t.accountAlertById[n.alertEvent.alert_id]&&t.appById[t.accountAlertById[n.alertEvent.alert_id].app_id]&&t.appById[t.accountAlertById[n.alertEvent.alert_id].app_id].icon?"https://"+t.appById[t.accountAlertById[n.alertEvent.alert_id].app_id].icon:"/img/default_app_icon.png",n.name=t.accountAlertById[n.alertEvent.alert_id]?t.accountAlertById[n.alertEvent.alert_id].name:"[unknown]",n.type=n.alertEvent.is_actionable===!0?"action":"info",n.claimed=n.alertEvent.is_actionable===!0&&null===n.alertEvent.action_user_id?!1:!0,n.resolvedBy=n.alertEvent.is_actionable===!0?n.alertEvent.action_user_id&&t.userById[n.alertEvent.action_user_id]?t.userById[n.alertEvent.action_user_id].first_name+" "+t.userById[n.alertEvent.action_user_id].last_name:"[unknown]":null,n.updatedAt=moment(n.alertEvent.updated_at).format("MMMM D, h:mm A"),n.createdAt=moment(n.alertEvent.created_at).format("MMMM D, h:mm A")))})},function(e){t.$log.error(e)}):!1}},{key:"openApp",value:function(e){this.cancel();var t=this.appById[this.accountAlertById[e.alertEvent.alert_id].app_id].key;if(t){var n="/accounts/"+this.accountId+"/apps/"+t;this.$window.location.pathname!==n&&(this.$window.location.href=n)}}},{key:"parseMessage",value:function(e){var t=e.split(" "),n=[],i=!0,o="",r="";return _.forEach(t,function(e){/.+\..+/.test(e)&&(e="<a href="+e+">See here</a>"),i?(o=o+" "+e,i=o.length<25?!0:!1):r=r+" "+e,n.push(e)}),{full:n.join(" "),start:o,end:r,isFullShown:!1}}},{key:"read",value:function(e,t){var n=this;this.$peachAlert.updateUserAlertEvent(e).then(function(e){n.alerts[n.tabs[n.selectedIndex].category].count=n.alerts[n.tabs[n.selectedIndex].category].count-1,n.alerts[n.tabs[n.selectedIndex].category].userAlertEvents.splice(t,1),n.isForceReload=!0},function(e){n.$log.error(e)})}},{key:"readAll",value:function(){var e=this;this.inReadingProgress=!0;var t=_.range(1,Math.ceil(this.alerts[this.tabs[this.selectedIndex].category].count/this.defaultBulkReadLimit)+1),n=[],i=[],o=[],r=[],a=[],s="read"===this.tabs[this.selectedIndex].category;_.forEach(t,function(t){n.push(e.$peachAlert.getUserAlertEvents(t,e.defaultBulkReadLimit,s))}),this.$q.all(n).then(function(t){_.forEach(t,function(t){var n=_.without(_.pluck(t.results,"alert_event_id"),null);i.push(e.$peachAlert.getAlertEvents(n))}),r=[].concat.apply([],_.pluck(t,"results")),e.$q.all(i).then(function(t){a=[].concat.apply([],_.pluck(t,"results")),_.forEach(r,function(e){e.alertEvent=_.find(a,{id:e.alert_event_id}),_.isUndefined(e.alertEvent)||(e.alertEvent.is_actionable?null!==e.alertEvent.action_user_id&&o.push({id:e.id,is_read:!0}):o.push({id:e.id,is_read:!0}))}),o.length&&e.$peachAlert.updateUserAlertEvents(o).then(function(t){e.isForceReload=!0,e.activateAlerts()},function(t){e.$log.error(t)})["finally"](function(){e.inReadingProgress=!1})},function(t){e.$log.error(t),e.inReadingProgress=!1})},function(t){e.$log.error(t),e.inReadingProgress=!1})}},{key:"switchTabs",value:function(){(!this.alerts[this.tabs[this.selectedIndex].category].userAlertEvents.length||this.isForceReload)&&(this.inSwitchingProgress=!0,this.activateAlerts())}}]),e}();r.$inject=["$log","$mdDialog","$peach","$peachAlert","$q","$window"],angular.module(o,[]).controller("PeachAlertController",r),t["default"]={moduleName:o,controller:r},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(15),s=i(a),c=n(24),u=i(c),l=n(25),d=i(l);n(24);var m="ngPeachAccordion",f=function(){function e(){o(this,e),this.bindToController=!0,this.controller=d["default"].moduleName,this.controllerAs="accordion",this.replace=!1,this.restrict="E",this.scope={},this.templateUrl=u["default"],this.transclude=!0}return r(e,[{key:"link",value:function(e,t,n){function i(){var e=t.find("peach-accordion-panel");_.forEach(e,function(e){var t=angular.element(e);t.hasClass("is-open")&&t.hasClass("is-opening")?(t.removeClass("is-open"),t.removeClass("is-opening")):t.hasClass("is-open")?t.removeClass("is-open"):t.hasClass("is-opening")&&(t.addClass("is-open"),t.removeClass("is-opening"))})}e.accordion.refresh=i}}],[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();f.factory.$inject=[],angular.module(m,[s["default"].moduleName]).directive("peachAccordion",f.factory).controller(d["default"].moduleName,d["default"].controller),t["default"]={moduleName:m,directive:f},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(16),s=i(a),c=n(19),u=i(c),l=n(22),d=i(l),m=n(23),f=i(m);n(22);var p="ngPeachAccordionPanel",h=function(){function e(t){function n(e,n,i,o){function r(){n.addClass("is-opening"),o.refresh()}e.accordionPanel.active&&t(function(){r()}),n.find("peach-accordion-header").on("click",r)}o(this,e),this.bindToController=!0,this.controller=f["default"].moduleName,this.controllerAs="accordionPanel",this.link=n,this.replace=!1,this.restrict="E",this.require="^peachAccordion",this.scope={active:"="},this.templateUrl=d["default"],this.transclude=!0}return r(e,null,[{key:"factory",value:function(t){return e.instance=new e(t),e.instance}}]),e}();h.factory.$inject=["$timeout"],angular.module(p,[s["default"].moduleName,u["default"].moduleName]).directive("peachAccordionPanel",h.factory).controller(f["default"].moduleName,f["default"].controller),t["default"]={moduleName:p,directive:h},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(17),s=i(a),c=n(18),u=i(c);n(17);var l="ngPeachAccordionBody",d=function(){function e(){o(this,e),this.bindToController=!0,this.controller=u["default"].moduleName,this.controllerAs="accordionBody",this.replace=!1,this.restrict="EA",this.require="^peachAccordionPanel",this.scope={},this.templateUrl=s["default"],this.transclude=!0}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();d.factory.$inject=[],angular.module(l,[]).directive("peachAccordionBody",d.factory).controller(u["default"].moduleName,u["default"].controller),t["default"]={moduleName:l,directive:d},e.exports=t["default"]},function(e,t){var n="./accordion-body/accordion-body.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div ng-transclude></div>\n")}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="PeachAccordionBodyController",o=function r(){n(this,r)};o.$inject=[],t["default"]={moduleName:i,controller:o},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(20),s=i(a),c=n(21),u=i(c);n(20);var l="ngPeachAccordionHeader",d=function(){function e(){o(this,e),this.bindToController=!0,this.controller=u["default"].moduleName,this.controllerAs="accordionHeader",this.replace=!1,this.restrict="EA",this.require="^peachAccordionPanel",this.scope={},this.templateUrl=s["default"],this.transclude=!0}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();d.factory.$inject=[],angular.module(l,[]).directive("peachAccordionHeader",d.factory).controller(u["default"].moduleName,u["default"].controller),t["default"]={moduleName:l,directive:d},e.exports=t["default"]},function(e,t){var n="./accordion-header/accordion-header.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div ng-transclude></div>\n")}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="PeachAccordionHeaderController",o=function r(){n(this,r)};o.$inject=[],t["default"]={moduleName:i,controller:o},e.exports=t["default"]},function(e,t){var n="./accordion-panel/accordion-panel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div ng-transclude></div>\n")}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="PeachAccordionPanelController",o=function r(){n(this,r)};o.$inject=[],t["default"]={moduleName:i,controller:o},e.exports=t["default"]},function(e,t){var n="./accordion/accordion.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div ng-transclude></div>\n")}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="PeachAccordionController",o=function r(){n(this,r)};o.$inject=[],t["default"]={moduleName:i,controller:o},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");
}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(27),s=i(a),c=n(28),u=i(c);n(27);var l="ngPeachAppLauncher",d=function(){function e(){o(this,e),this.restrict="EA",this.replace=!0,this.scope={peachApp:"="},this.templateUrl=s["default"],this.controller=u["default"].moduleName,this.controllerAs="launcher",this.bindToController=!0}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();d.factory.$inject=[],angular.module(l,[]).directive("peachAppLauncher",d.factory).controller(u["default"].moduleName,u["default"].controller),t["default"]={moduleName:l,directive:d},e.exports=t["default"]},function(e,t){var n="./app-launcher/app-launcher.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="app-icon peach-app-launcher" ng-class="{\'active\': launcher.isAppActive()}">\n  <a ng-click="launcher.launchApp()" title="{{launcher.peachApp.name}}">\n    <span ng-if="launcher.isCoreApp()" class="icon icon-{{launcher.peachApp.key}}"></span>\n    <span ng-if="!launcher.isCoreApp() && launcher.isAppActive()" class="icon" ng-style="{\'backgroundImage\': \'url(https://{{launcher.peachApp.icon}})\'}"></span>\n    <span ng-if="!launcher.isCoreApp() && !launcher.isAppActive()" class="icon" ng-style="{\'backgroundImage\': \'url(https://{{launcher.peachApp.icon_bw}})\'}"></span>\n    <p ng-bind="::launcher.peachApp.name"></p>\n  </a>\n</div>\n')}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="PeachAppLauncherController",r=function(){function e(t,i){n(this,e),this.$peach=t,this.$window=i}return i(e,[{key:"getAppURL",value:function(){if(_.isUndefined(this.peachApp))return"";var e="/apps/"+this.peachApp.key,t=this.isCoreApp(),n=this.isReportsAppPreview();return t&&(e="/"+this.peachApp.key),n?this.peachApp.pages.length?"/preview/accounts/"+this.$peach.session.getActiveAccount()+e+"#/"+this.peachApp.pages[0].path:"/preview/accounts/"+this.$peach.session.getActiveAccount()+e+"#/"+this.$peach.session.getActiveApp():this.$peach.session.isDevelopment()||this.$peach.session.isPreview()?"/preview/accounts/"+this.$peach.session.getActiveAccount()+e:"/accounts/"+this.$peach.session.getActiveAccount()+e}},{key:"isAppActive",value:function(){return _.isUndefined(this.peachApp)?!1:this.peachApp.key===this.$peach.session.getActiveApp()}},{key:"isCoreApp",value:function(){return _.isUndefined(this.peachApp)?void 0:"welcome"===this.peachApp.key||"dashboard"===this.peachApp.key||"reports"===this.peachApp.key||"profile"===this.peachApp.key||"help"===this.peachApp.key||"config"===this.peachApp.key}},{key:"isReportsAppPreview",value:function(){return _.isUndefined(this.peachApp)?void 0:this.$peach.session.isPreview()&&"reports"===this.peachApp.key}},{key:"launchApp",value:function(){this.$window.location.hash="",this.$window.location.href=this.getAppURL()}}]),e}();r.$inject=["$peach","$window"],t["default"]={moduleName:o,controller:r},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(30),s=i(a),c=n(31),u=i(c);n(30);var l="ngPeachAppsMenu",d=function(){function e(){o(this,e),this.restrict="EA",this.replace=!0,this.templateUrl=s["default"],this.controller=u["default"].moduleName,this.controllerAs="apps",this.bindToController=!0}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();d.factory.$inject=[],angular.module(l,[]).directive("peachAppsMenu",d.factory).controller(u["default"].moduleName,u["default"].controller),t["default"]={moduleName:l,directive:d},e.exports=t["default"]},function(e,t){var n="./apps-menu/apps-menu.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<md-sidenav class="peach-all-apps-menu md-sidenav-right md-whiteframe-z1" md-component-id="all-apps-menu" layout="row">\n  <peach-app-launcher ng-repeat="coreApp in apps.coreAppsLeft track by $index" peach-app="coreApp"></peach-app-launcher>\n  <peach-app-launcher ng-repeat="peachApp in apps.bootstrapData.apps track by $index" peach-app="peachApp"></peach-app-launcher>\n  <peach-app-launcher ng-repeat="coreApp in apps.coreAppsRight track by $index" peach-app="coreApp"></peach-app-launcher>\n</md-sidenav>\n')}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="PeachAppsMenuController",r=function(){function e(t,i,o){n(this,e),this.$peach=t,this.$peachBootstrap=i,this.$q=o,this.bootstrapData={},this.coreAppsLeft=[],this.coreAppsRight=[],this.initLoading=!0,this.activate()}return i(e,[{key:"activate",value:function(){var e=this;this.bootstrap()["finally"](function(){e.initLoading=!1}),this.subscribeAppRefresh()}},{key:"bootstrap",value:function(){var e=this;return this.$peachBootstrap.activate().then(function(t){e.bootstrapData=t,e.bootstrapData.accountInfo&&e.organizeAppGroups()})}},{key:"organizeAppGroups",value:function(){var e=this;return this.$q(function(t,n){e.coreAppsLeft=[],e.coreAppsRight=[],e.bootstrapData.coreApps.welcome&&e.coreAppsLeft.push(e.bootstrapData.coreApps.welcome),e.bootstrapData.coreApps.dashboard&&e.coreAppsLeft.push(e.bootstrapData.coreApps.dashboard),e.bootstrapData.coreApps.reports&&e.coreAppsRight.push(e.bootstrapData.coreApps.reports),t(!0)})}},{key:"subscribeAppRefresh",value:function(){var e=this;this.$peach.event.subscribe(this.$peach.event.events.REFRESH_APP_LIST,function(){e.initLoading=!0,e.bootstrap()["finally"](function(){e.initLoading=!1})})}}]),e}();r.$inject=["$peach","$peachBootstrap","$q"],t["default"]={moduleName:o,controller:r},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(33),s=i(a),c=n(36),u=i(c),l=n(39),d=i(l),m=n(40),f=i(m);n(39);var p="ngPeachCard",h=function(){function e(){o(this,e),this.bindToController=!0,this.controller=f["default"].moduleName,this.controllerAs="card",this.replace=!1,this.restrict="EA",this.scope={canCollapse:"@",isOpen:"@",loading:"="},this.templateUrl=d["default"],this.transclude=!0}return r(e,[{key:"link",value:function(e,t,n,i){function o(t){e.card.isOpen=!e.card.isOpen,e.$digest()}if(e.card.canCollapse=_.isUndefined(e.card.canCollapse)?!1:e.$eval(e.card.canCollapse),n.canCollapse=_.isUndefined(n.canCollapse)?!1:e.$eval(n.canCollapse),_.isUndefined(n.isOpen)&&(e.card.isOpen=!0,n.isOpen=!0),_.has(n,"canCollapse")&&n.canCollapse){var r=t.find("peach-card-header");if(r.length>0){var a=angular.element(r[0]).detach().append('<span ng-if="card.canCollapse" class="collapsible icon icon-caret" ng-class="{\'is-open\': card.isOpen}"></span>');angular.element(t.find("md-card")[0]).prepend(a),a.on("click",o)}}n.$observe("isOpen",function(t){_.isEmpty(t)&&(t="true"),e.card.isOpen=e.$eval(t),n.isOpen=e.$eval(t)})}}],[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();h.factory.$inject=[],angular.module(p,[s["default"].moduleName,u["default"].moduleName]).directive("peachCard",h.factory).controller(f["default"].moduleName,f["default"].controller),t["default"]={moduleName:p,directive:h},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(34),s=i(a),c=n(35),u=i(c);n(34);var l="ngPeachCardContent",d=function(){function e(){function t(e,t,n,i){e.cardContent.hasLoading=!_.isUndefined(i.loading),e.cardContent.isLoaded=!i.loading,e.$parent.$parent.$watch("card.loading",function(t){e.cardContent.isLoaded=!t})}o(this,e),this.restrict="EA",this.replace=!1,this.transclude=!0,this.require="^peachCard",this.scope={title:"@"},this.templateUrl=s["default"],this.controller=u["default"].moduleName,this.controllerAs="cardContent",this.bindToController=!0,this.link=t}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();d.factory.$inject=[],angular.module(l,[]).directive("peachCardContent",d.factory).controller(u["default"].moduleName,u["default"].controller),t["default"]={moduleName:l,directive:d},e.exports=t["default"]},function(e,t){var n="./card-content/card-content.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div ng-transclude flex ng-class=\"{'can-load': cardContent.hasLoading, 'fade-in': cardContent.isLoaded}\"></div>\n")}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="PeachCardContentController",o=function r(){n(this,r)};o.$inject=[],t["default"]={moduleName:i,controller:o},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(37),s=i(a),c=n(38),u=i(c);n(37);var l="ngPeachCardHeader",d=function(){function e(){function t(e,t,n,i){e.cardHeader.hasLoading=!_.isUndefined(i.loading),e.cardHeader.isLoaded=!i.loading,e.$parent.$parent.$watch("card.loading",function(t){e.cardHeader.isLoaded=!t})}o(this,e),this.restrict="EA",this.replace=!1,this.transclude=!0,this.require="^peachCard",this.scope={title:"@"},this.templateUrl=s["default"],this.controller=u["default"].moduleName,this.controllerAs="cardHeader",this.bindToController=!0,this.link=t}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();d.factory.$inject=[],angular.module(l,[]).directive("peachCardHeader",d.factory).controller(u["default"].moduleName,u["default"].controller),t["default"]={moduleName:l,directive:d},e.exports=t["default"]},function(e,t){var n="./card-header/card-header.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<h4 ng-if=\"cardHeader.title\" ng-bind=\"::cardHeader.title\" ng-class=\"{'can-load': cardHeader.hasLoading, 'fade-in': cardHeader.isLoaded}\"></h4>\n<div ng-transclude ng-class=\"{'can-load': cardHeader.hasLoading, 'fade-in': cardHeader.isLoaded}\"></div>\n")}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="PeachCardHeaderController",o=function r(){n(this,r)};o.$inject=[],t["default"]={moduleName:i,controller:o},e.exports=t["default"]},function(e,t){var n="./card/card.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<md-card ng-class="{\'loading\': card.loading}">\n  <md-progress-linear ng-if="card.loading" md-mode="indeterminate"></md-progress-linear>\n  <div ng-show="card.isOpen" ng-transclude></div>\n</md-card>\n')}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="PeachCardController",o=function r(){n(this,r)};o.$inject=[],t["default"]={moduleName:i,controller:o},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(42),s=i(a),c="ngPeachLocationAlert",u=function(){function e(){o(this,e),this.bindToController=!0,this.controller=s["default"].moduleName,this.controllerAs="locationAlert",this.replace=!1,this.restrict="E",this.scope={pageTitle:"@"}}return r(e,[{key:"link",value:function(e,t,n){e.$on("$destroy",function(){e.locationAlert.cleanup()})}}],[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();u.factory.$inject=[],angular.module(c,[]).directive("peachLocationAlert",u.factory).controller(s["default"].moduleName,s["default"].controller),t["default"]={moduleName:c,directive:u},e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="PeachLocationAlertController",r=function(){function e(t,i,o,r,a){n(this,e),this.$peach=t,this.$log=o,this.$mdDialog=r,this.$window=i,this.$mdMedia=a,this.dialogInstance=null,this.isAppLocationBased=!1,this.locationId=null,this.pageName="This page",this.subscribedEvent=null,this.activate()}return i(e,[{key:"activate",value:function(){this.getPageName(),this.initShowLocationAlert(),this.watchForLocationChange()}},{key:"cancelDialog",value:function(){this.$mdDialog.cancel(this.dialogInstance)}},{key:"cleanup",value:function(){this.$mdDialog.cancel(this.dialogInstance),this.subscribedEvent()}},{key:"createDialog",value:function(){if(null===this.dialogInstance){var e=this.isMobile()?"Please select a location from the menu above.":"Please select a location from the dropdown on the left.";this.dialogInstance=this.$mdDialog.alert({parent:angular.element(document.querySelector("#content")),template:'<md-dialog class="location-alert" aria-label="List dialog">  <md-dialog-content>    <div class="location-alert-icon">      <span class="icon-directions"></span>    </div>    <span>'+this.pageName+" can be different for each location.</span><br/>    <span>"+e+"</span>  </md-dialog-content></md-dialog>"})}}},{key:"getPageName",value:function(){return this.pageTitle?void(this.pageName=this.pageTitle):void(this.$window.location.hash.split("/").length<=1||(this.pageName=this.$window.location.hash.split("/")[1],this.pageName.length>0&&(this.pageName=this.pageName[0].toUpperCase().replace(new RegExp("_","g")," ")+this.pageName.slice(1).replace(new RegExp("_","g")," "))))}},{key:"initShowLocationAlert",value:function(){var e=this;this.$peach.app.getInfo().then(function(t){e.isAppLocationBased=t.is_location_based,e.isAppLocationBased&&(e.locationId=e.$peach.session.getActiveLocation()||null,null===e.locationId&&(e.createDialog(),e.showDialog()))},function(t){e.$log.error(t)})}},{key:"isMobile",value:function(){return this.$mdMedia("max-width: 767px")}},{key:"showDialog",value:function(){null===this.dialogInstance&&this.createDialog(),this.$mdDialog.show(this.dialogInstance)}},{key:"watchForLocationChange",value:function(){var e=this;this.subscribedEvent=this.$peach.event.subscribe(this.$peach.event.events.LOCATION_CHANGE,function(t){if(null===t)e.showDialog();else{if(_.isArray(t))return;e.cancelDialog()}})}}]),e}();r.$inject=["$peach","$window","$log","$mdDialog","$mdMedia"],t["default"]={moduleName:o,controller:r},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(44),s=i(a),c=n(45),u=i(c);n(44);var l="ngPeachMessage",d=function(){function e(t,n){function i(e,i,o){e.$watch("message.type",function(t){e.message.typeCache&&e.message.typeCache!==t&&i.removeClass(e.message.typeCache),e.message.typeCache!==t&&(i.addClass(t),e.message.typeCache=t)}),o.dismissible&&t.user.getPrefs(o.dismissible,!0).then(function(t){_.has(t,"value")&&"true"===t.value&&(e.$destroy(),i.empty(),i.addClass("ng-hide"))},function(e){n.error(e)}),e.dismiss=function(){t.user.setPref(o.dismissible,!0).then(function(t){e.$destroy(),i.empty(),i.addClass("ng-hide")},function(e){n.error(e)})}}o(this,e),this.bindToController=!0,this.controller=u["default"].moduleName,this.controllerAs="message",this.link=i,this.restrict="E",this.scope={type:"@",dismissible:"@"},this.templateUrl=s["default"],this.transclude=!0}return r(e,null,[{key:"factory",value:function(t,n){return e.instance=new e(t,n),e.instance}}]),e}();d.factory.$inject=["$peach","$log"],angular.module(l,[]).directive("peachMessage",d.factory).controller(u["default"].moduleName,u["default"].controller),t["default"]={moduleName:l,directive:d},e.exports=t["default"]},function(e,t){var n="./message/message.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="message-wrapper">\n  <span class="message-icon-status icon icon-exclaim-circle"></span>\n  <span class="message" flex ng-transclude></span>\n  <span class="message-dismiss icon icon-x" ng-if="message.dismissible" ng-click="dismiss()"></span>\n</div>\n')}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="PeachMessageController",o=function r(){n(this,r)};o.$inject=[],t["default"]={moduleName:i,controller:o},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(47),s=i(a),c=n(48),u=i(c),l=n(49),d=i(l),m=n(55),f=i(m),p=n(58),h=i(p);n(47);var v="ngPeachModal",g=function(){function e(){function t(e,t,n){e.modal.hasLoading=!_.isUndefined(e.modal.loading);var i=angular.element(t[0].querySelector("peach-modal-header")),o=angular.element(t[0].querySelector("peach-modal-content .peach-modal-content"));_.isEmpty(i)||_.isEmpty(o)||o.prepend(i)}o(this,e),this.bindToController=!0,this.controller=u["default"].moduleName,this.controllerAs="modal",this.link=t,this.replace=!1,this.restrict="E",this.scope={loading:"="},this.templateUrl=s["default"],this.transclude=!0}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();g.factory.$inject=[],angular.module(v,[d["default"].moduleName,f["default"].moduleName,h["default"].moduleName]).directive("peachModal",g.factory).controller(u["default"].moduleName,u["default"].controller),t["default"]={moduleName:v,directive:g},e.exports=t["default"]},function(e,t){var n="./modal/modal.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<md-progress-linear ng-if="modal.loading" md-mode="indeterminate"></md-progress-linear>\n<md-content ng-transclude ng-class="{\'can-load\': modal.hasLoading, \'fade-in\': !modal.loading}"></md-content>\n')}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="PeachModalController",r=function(){function e(){n(this,e),this.activate()}return i(e,[{key:"activate",value:function(){}}]),e}();r.$inject=[],t["default"]={moduleName:o,controller:r},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(50),s=i(a),c=n(53),u=i(c),l=n(54),d=i(l);n(53);var m="ngPeachModalContent",f=function(){function e(){function t(e,t,n,i){e.modalContent.hasLoading=!_.isUndefined(i.loading),e.modalContent.isLoaded=!i.loading,e.$parent.$watch("modal.loading",function(t){e.modalContent.isLoaded=!t})}o(this,e),this.bindToController=!0,this.controller=d["default"].moduleName,this.controllerAs="modalContent",this.link=t,this.replace=!1,this.require="^peachModal",this.restrict="E",this.templateUrl=u["default"],this.transclude=!0}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();f.factory.$inject=[],angular.module(m,[s["default"].moduleName]).directive("peachModalContent",f.factory).controller(d["default"].moduleName,d["default"].controller),t["default"]={moduleName:m,directive:f},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(51),s=i(a),c=n(52),u=i(c);n(51);var l="ngPeachPageHeaderOptions",d=function(){function e(){o(this,e),this.restrict="EA",this.replace=!1,this.transclude=!1,this.scope={options:"="},this.templateUrl=s["default"],this.controller="PeachPageHeaderOptionsController",this.controllerAs="pageOptions",this.bindToController=!0}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();d.factory.$inject=[],angular.module(l,[]).directive("peachPageHeaderOptions",d.factory).controller(u["default"].moduleName,u["default"].controller),t["default"]={moduleName:l,directive:d},e.exports=t["default"]},function(e,t){var n="./page-header-options/page-header-options.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="peach-page-header-options">\n\n  <md-button ng-click="pageOptions.action($event, option)" ng-repeat="option in pageOptions.options" ng-if="!pageOptions.isMobile()">\n    {{option.label}}\n  </md-button>\n\n  <md-menu md-position-mode="target-right target" ng-if="pageOptions.isMobile()">\n    <md-button aria-label="More" class="md-icon-button " ng-click="$mdOpenMenu($event)">\n      <md-icon md-menu-origin class="icon icon-vert-ellipsis md-primary"></md-icon>\n    </md-button>\n    <md-menu-content width="4">\n      <md-menu-item ng-repeat="option in pageOptions.options">\n\n        <md-button ng-href="/accounts/{{pageOptions.accountId}}/config/#/{{option.path}}" ng-click="pageOptions.action($event, option)">\n          <div layout="row">\n            <p flex>{{option.label}}</p>\n          </div>\n        </md-button>\n\n      </md-menu-item>\n    </md-menu-content>\n  </md-menu>\n\n</div>\n')}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="PeachPageHeaderOptionsController",r=function(){function e(t,i,o){n(this,e),this.$location=t,this.$mdMedia=i,this.$peachSession=o,this.accountId="",this.activate()}return i(e,[{key:"activate",value:function(){this.accountId=this.$peachSession.getActiveAccount()}},{key:"action",value:function(e,t){return t.path?void this.$location.path("/"+t.path):(e.preventDefault(),t.callback())}},{key:"isMobile",value:function(){return this.$mdMedia("max-width: 767px")}}]),e}();r.$inject=["$location","$mdMedia","$peachSession"],t["default"]={moduleName:o,controller:r},e.exports=t["default"]},function(e,t){var n="./modal-content/modal-content.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<md-content ng-transclude class=\"peach-modal-content\" ng-class=\"{'can-load': modalContent.hasLoading, 'fade-in': modalContent.isLoaded}\"></md-content>\n")}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="PeachModalContentController",r=function(){function e(){n(this,e),this.activate()}return i(e,[{key:"activate",value:function(){}}]),e}();r.$inject=[],t["default"]={moduleName:o,controller:r},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(50),s=i(a),c=n(56),u=i(c),l=n(57),d=i(l);n(56);var m="ngPeachModalFooter",f=function(){function e(){function t(e,t,n){e.modalFooter.hasLoading=!_.isUndefined(e.modalFooter.loading)}o(this,e),this.bindToController=!0,this.controller=d["default"].moduleName,this.controllerAs="modalFooter",this.link=t,this.replace=!1,this.require="^peachModal",this.restrict="E",this.scope={loading:"="},this.templateUrl=u["default"],this.transclude=!0}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();f.factory.$inject=[],angular.module(m,[s["default"].moduleName]).directive("peachModalFooter",f.factory).controller(d["default"].moduleName,d["default"].controller),t["default"]={moduleName:m,directive:f},e.exports=t["default"]},function(e,t){var n="./modal-footer/modal-footer.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<md-progress-linear ng-if="modalFooter.loading" md-mode="indeterminate"></md-progress-linear>\n<md-toolbar ng-transclude\n  class="peach-modal-footer fade-in"\n  layout="row" layout-align="space-between center"></md-toolbar>\n')}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="PeachModalFooterController",r=function(){function e(){n(this,e),this.activate()}return i(e,[{key:"activate",value:function(){}}]),e}();r.$inject=[],t["default"]={moduleName:o,controller:r},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(50),s=i(a),c=n(59),u=i(c),l=n(60),d=i(l);n(59);var m="ngPeachModalHeader",f=function(){function e(){function t(e,t,n,i){e.modalHeader.hasLoading=!_.isUndefined(i.loading),e.modalHeader.isLoaded=!i.loading,e.$parent.$watch("modal.loading",function(t){e.modalHeader.isLoaded=!t})}o(this,e),this.bindToController=!0,this.controller=d["default"].moduleName,this.controllerAs="modalHeader",this.link=t,this.replace=!1,this.require="^peachModal",this.restrict="E",this.scope={onClose:"&"},this.templateUrl=u["default"],this.transclude=!0}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();f.factory.$inject=[],angular.module(m,[s["default"].moduleName]).directive("peachModalHeader",f.factory).controller(d["default"].moduleName,d["default"].controller),t["default"]={moduleName:m,directive:f},e.exports=t["default"]},function(e,t){var n="./modal-header/modal-header.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<md-toolbar md-scroll-shrink class="peach-modal-header" layout="row" layout-align="space-between center" ng-class="{\'can-load\': modalHeader.hasLoading, \'fade-in\': modalHeader.isLoaded}">\n  <div ng-transclude flex layout="row"></div>\n  <span flex></span>\n  <section layout-align="start start">\n    <md-button class="md-icon-button close-button" ng-click="modalHeader.handleClick($event)" aria-label="Close">\n      <md-icon class="icon icon-x"></md-icon>\n    </md-button>\n  </section>\n</md-toolbar>\n')}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="PeachModalHeaderController",r=function(){function e(){n(this,e),this.onClose=_.isFunction(this.onClose)?this.onClose:this.undefinedHandler,this.activate()}return i(e,[{key:"activate",value:function(){}
},{key:"handleClick",value:function(e){this.onClose({$event:e})}},{key:"undefinedHandler",value:function(){}}]),e}();r.$inject=[],t["default"]={moduleName:o,controller:r},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(62),s=i(a),c=n(65),u=i(c),l=n(66),d=i(l);n(65);var m="ngPeachPage",f=function(){function e(t,n,i){function r(e,o,r){function a(e){e.addClass("peach-modal")}function s(){var e=angular.element(o[0].querySelector("md-sidenav.peach-sidenav"));angular.element(o[0].querySelector("[ng-view]")),_.isEmpty(e)||e.removeClass("peach-modal-active")}function c(){var t=angular.element(o[0].querySelector("md-sidenav.peach-sidenav")),n=o[0].querySelectorAll("[ng-view]"),i=null;2===n.length&&(i=angular.element(n[1])),_.isEmpty(t)||t.addClass("peach-modal-active"),_.isEmpty(i)||e.addModalClassToView(i)}function u(){var t=angular.element(o[0].querySelector("md-sidenav.peach-sidenav")),n=o[0].querySelectorAll("[ng-view]"),i=null;1===n.length&&(i=angular.element(n[0])),_.isEmpty(t)||t.addClass("peach-modal-active"),_.isEmpty(i)||e.addModalClassToView(i)}function l(e,t,n){var i=_.has(t.$$route,"modal")?t.$$route.modal:!1;i||(i=_.has(t.$$route,"is_hidden")?t.$$route.is_hidden:!1),i?o.addClass("peach-modal-opening"):o.removeClass("peach-modal-opening")}function d(t,i,o){if(_.isUndefined(o))return!0;var r=_.has(i.$$route,"modal")?i.$$route.modal:!1,a=_.has(o.$$route,"modal")?o.$$route.modal:!1;r||(r=_.has(i.$$route,"is_hidden")?i.$$route.is_hidden:!1),a||(a=_.has(o.$$route,"is_hidden")?o.$$route.is_hidden:!1);var s=!a&&r,c=a&&!r;s?n(e.handleModalOpening):c&&e.handleModalClosing()}e.addModalClassToView=a,e.handleModalClosing=s,e.handleModalOpening=c,e.refreshModalPage=u,e.routeChangeStart=l,e.routeChangeSuccess=d,t.$on("$routeChangeStart",e.routeChangeStart),t.$on("$routeChangeSuccess",e.routeChangeSuccess),o.ready(function(){(i.current.modal||i.current.is_hidden)&&e.refreshModalPage()})}o(this,e),this.bindToController=!0,this.controller=d["default"].moduleName,this.controllerAs="page",this.link=r,this.replace=!1,this.restrict="EA",this.scope=!0,this.templateUrl=u["default"],this.transclude=!0}return r(e,null,[{key:"factory",value:function(t,n,i){return e.instance=new e(t,n,i),e.instance}}]),e}();f.factory.$inject=["$rootScope","$timeout","$route"],angular.module(m,[s["default"].moduleName]).directive("peachPage",f.factory).controller(d["default"].moduleName,d["default"].controller),t["default"]={moduleName:m,directive:f},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(50),s=i(a),c=n(63),u=i(c),l=n(64),d=i(l);n(63);var m="ngPeachPageHeader",f=function(){function e(){o(this,e),this.restrict="EA",this.replace=!1,this.transclude=!0,this.scope={title:"@"},this.templateUrl=u["default"],this.controller=d["default"].moduleName,this.controllerAs="header",this.bindToController=!0}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();f.factory.$inject=[],angular.module(m,[s["default"].moduleName]).directive("peachPageHeader",f.factory).controller(d["default"].moduleName,d["default"].controller),t["default"]={moduleName:m,directive:f},e.exports=t["default"]},function(e,t){var n="./page-header/page-header.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<md-toolbar class="peach-page-header" layout="row" layout-align="space-between center" ng-transclude></md-toolbar>\n')}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="PeachPageHeaderController",o=function r(){n(this,r)};o.$inject=[],t["default"]={moduleName:i,controller:o},e.exports=t["default"]},function(e,t){var n="./page/page.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="peach-page" ng-transclude></div>\n')}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="PeachPageController",o=function r(){n(this,r)};o.$inject=[],t["default"]={moduleName:i,controller:o},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(68),s=i(a),c=n(69),u=i(c);n(68);var l="ngPeachSearch",d=function(){function e(){o(this,e),this.restrict="E",this.replace=!0,this.transclude=!0,this.require="ngModel",this.scope=!0,this.templateUrl=s["default"],this.controller=u["default"].moduleName,this.controllerAs="search",this.bindToController=!0}return r(e,[{key:"link",value:function(e,t,n,i){function o(){i.$setViewValue(e.queryString)}function r(){e.$eval(n.ngChange)}e.updateModel=o,e.evalUpdates=r,i.$viewChangeListeners.push(e.evalUpdates)}}],[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();d.factory.$inject=[],angular.module(l,[]).directive("peachSearch",d.factory).controller(u["default"].moduleName,u["default"].controller),t["default"]={moduleName:l,directive:d},e.exports=t["default"]},function(e,t){var n="./search/search.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="peach-search" layout="column" layout-align="center">\n  <md-button class="md-icon-button" ng-click="search.toggle(\'search\')" aria-label="Search">\n    <md-icon class="icon icon-search"></md-icon>\n  </md-button>\n  <md-sidenav class="md-sidenav-right" md-component-id="search" md-is-open="search.isOpen" layout="row">\n    <md-input-container flex="70">\n      <md-icon ng-show="search.isOpen" class="icon icon-search"></md-icon>\n      <input ng-model="queryString" ng-change="updateModel()" md-sidenav-focus aria-label="Search">\n    </md-input-container>\n    <md-button class="md-icon-button" ng-click="search.toggle(\'search\'); queryString = \'\'; updateModel()" aria-label="Search">\n      <md-icon class="icon icon-x"></md-icon>\n    </md-button>\n  </md-sidenav>\n</div>\n')}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="PeachSearchController",r=function(){function e(t){n(this,e),this.$mdSidenav=t,this.isOpen=!1}return i(e,[{key:"toggle",value:function(e){var t=this;return this.$mdSidenav(e).toggle().then(function(){t.isOpen=t.$mdSidenav(e).isOpen()})}}]),e}();r.$inject=["$mdSidenav"],t["default"]={moduleName:o,controller:r},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(71),s=i(a),c=n(72),u=i(c);n(71);var l="ngPeachSelect",d=function(){function e(){function t(e,t,n,i){var o=t.attr("aria-label");e.select.label=o,e.$watchCollection("select.initValue",function(){i.activateInitValue()},!0)}o(this,e),this.bindToController=!0,this.controllerAs="select",this.controller=u["default"].moduleName,this.link=t,this.replace=!1,this.restrict="E",this.scope={defaultSelectAll:"=",initValue:"=",multiple:"=",noFloatLabel:"=",onSearchChange:"&",onSelectAll:"&",onSelection:"&",options:"=",searchKey:"@",searchLimit:"@",searchObject:"@",singleSelectAll:"=",showSearchField:"="},this.templateUrl=s["default"]}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();d.factory.$inject=[],angular.module(l,[]).directive("peachSelect",d.factory).controller(u["default"].moduleName,u["default"].controller),t["default"]={moduleName:l,directive:d},e.exports=t["default"]},function(e,t){var n="./select/select.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<md-menu>\n  <md-input-container flex layout="row" class="peach-select-input"\n      ng-click="$mdOpenMenu($event)"\n      ng-class="{\'md-input-has-value\': !!select.selectedLabel, \'peach-multi-has-value\': !!select.selectedLabel, \'md-no-float\': select.noFloatLabel, \'search-enabled\': !!select.showSearchField, \'multi-select\': select.multiple}">\n    <label ng-class="{\'md-no-float\': select.noFloatLabel}">{{::select.label}}</label>\n    <input flex class="selection-label" type="text" ng-model="select.selectedLabel" readonly>\n\n    <span class="icon icon-caret" aria-hidden="true"></span>\n  </md-input-container>\n  <md-menu-content ng-click="$event.stopPropagation();" id="peach-select-menu-content" ng-class="{\'search-enabled\': !!select.showSearchField, \'multi-select\': select.multiple}">\n    <md-menu-item class="peach-select-search"\n        ng-if="select.showSearchField"\n        ng-class="{\'md-input-has-value\': !!select.filters.searchPhrase}"\n        ng-hide="select.multiple && select.isSelectAll">\n      <md-input-container>\n        <input type="search"\n               ng-model="select.filters.searchPhrase"\n               ng-model-options="{\n                 updateOn: \'default blur\',\n                 debounce: {\n                   \'default\': 500,\n                   \'blur\': 0\n                 }\n               }"\n               ng-change="select.onSearchPhraseFilterChange()"\n               placeholder="Search"\n               aria-label="Search">\n       <span class="icon icon-x" ng-if="!!select.filters.searchPhrase" aria-hidden="true" ng-click="select.resetSearch()" md-prevent-menu-close="md-prevent-menu-close"></span>\n      </md-input-container>\n    </md-menu-item>\n    <md-menu-item class="peach-select-option"\n                  ng-if="select.showSelectAll()"\n                  ng-hide="select.blockers.apiProcessing"\n                  ng-click="select.toggleAllOptions()"\n                  ng-class="{\'selected\': select.isSelectAll}"\n                  md-prevent-menu-close="md-prevent-menu-close">\n      <span>All {{::select.label}}</span>\n    </md-menu-item>\n    <md-menu-item class="peach-select-option"\n                  ng-repeat="option in select.options track by $index"\n                  ng-hide="select.blockers.apiProcessing"\n                  ng-click="select.toggleOption(option);"\n                  ng-class="{\'selected\': select.isSelected(option)}"\n                  md-prevent-menu-close="md-prevent-menu-close">\n      <span ng-bind="option[select.searchKey]"></span>\n    </md-menu-item>\n    <md-menu-item class="peach-select-option no-results" ng-if="!select.blockers.apiProcessing && select.options.length === 0">\n      <span>No Results</span>\n    </md-menu-item>\n    <div layout="row" ng-if="select.blockers.apiProcessing" layout-sm="column" layout-align="space-around">\n      <md-progress-circular md-mode="indeterminate" md-diameter="20px"></md-progress-circular>\n    </div>\n  </md-menu-content>\n</md-menu>\n')}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="PeachSelectController",r=function(){function e(t,i,o){n(this,e),this.$peach=t,this.$mdMenu=i,this.$log=o,this.blockers={apiProcessing:!1},this.filters={searchPhrase:"",showChecked:!1},this.hasSelectAll=_.isFunction(this.onSelectAll),this.initValue=_.isObject(this.initValue)?this.initValue:{},this.isSelectAll=this.defaultSelectAll?!0:!1,this.multiple=this.multiple?!0:!1,this.noFloatLabel=this.noFloatLabel?!0:!1,this.onSearchChange=_.isFunction(this.onSearchChange)?this.onSearchChange:this.undefinedHandler,this.onSelectAll=_.isFunction(this.onSelectAll)?this.onSelectAll:this.undefinedHandler,this.onSelection=_.isFunction(this.onSelection)?this.onSelection:this.undefinedHandler,this.options=_.isArray(this.options)?this.options:[],this.searchKey=this.searchKey?this.searchKey:"name",this.searchLimit=this.searchLimit?this.searchLimit:"10",this.searchObject=this.searchObject?this.searchObject:"",this.selectedLabel="",this.selectedOptions=[],this.singleSelectAll=this.singleSelectAll?!0:!1,this.showSearchField=this.showSearchField?!0:!1,this.activate()}return i(e,[{key:"activate",value:function(){var e=this;this.searchObject?this.refreshOptions()["finally"](function(){e.activateSelectAll()}):this.activateSelectAll(),this.activateInitValue()}},{key:"activateInitValue",value:function(){return _.isEmpty(this.initValue)||!_.has(this.initValue,this.searchKey)?void(this.hasSelectAll&&this.isSelectAll&&(this.selectedLabel="All "+this.label)):void(this.selectedLabel=this.initValue[this.searchKey])}},{key:"activateSelectAll",value:function(){this.selectedLabel=this.isSelectAll?"All "+this.label:"",this.multiple&&(this.selectedOptions=this.isSelectAll?_.cloneDeep(this.options):[])}},{key:"isSelected",value:function(e){var t={};return t[this.searchKey]=e[this.searchKey],_.findIndex(this.selectedOptions,t)>-1}},{key:"onSearchPhraseFilterChange",value:function(){if(this.searchObject)this.refreshOptions();else{var e={};e[this.searchKey]=this.filters.searchPhrase,this.onSearchChange({$query:e})}}},{key:"refreshOptions",value:function(){var e=this,t={},n={limit:this.searchLimit};if(this.searchKey&&(n.sort=this.searchKey,this.filters.searchPhrase)){var i={};i[this.searchKey]={$like:this.filters.searchPhrase},t={$and:[i]}}return this.options=[],this.blockers.apiProcessing=!0,this.$peach.api(this.searchObject).find(t,n).then(function(t){e.blockers.apiProcessing=!1,e.options=t.results},function(t){e.$log.error(t)})}},{key:"resetSearch",value:function(){this.filters.searchPhrase="",this.onSearchPhraseFilterChange()}},{key:"showSelectAll",value:function(){return!this.multiple&&this.singleSelectAll?!0:this.multiple?!0:!1}},{key:"toggleAllOptions",value:function(){this.multiple?(this.isSelectAll=!this.isSelectAll,this.selectedLabel=this.isSelectAll?"All "+this.label:"",this.selectedOptions=this.isSelectAll?_.cloneDeep(this.options):[],this.onSelection({$selected:this.selectedOptions})):(this.selectedLabel="All "+this.label,this.onSelectAll({$selected:{}}),this.$mdMenu.hide())}},{key:"toggleOption",value:function(e){if(this.multiple){var t={};t[this.searchKey]=e[this.searchKey];var n=_.findIndex(this.selectedOptions,t);-1===n?this.selectedOptions.push(e):_.pullAt(this.selectedOptions,n);var i=_.cloneDeep(this.selectedOptions);i.length>1?(this.selectedLabel=i.length===this.options.length?"All "+this.label:i.length+" "+this.label,this.isSelectAll=i.length===this.options.length):this.selectedLabel=1===i.length?e[this.searchKey]:"",this.showSearchField&&this.refreshOptions(),this.onSelection({$selected:i})}else this.selectedLabel=e[this.searchKey],this.onSelection({$selected:e}),this.$mdMenu.hide()}},{key:"undefinedHandler",value:function(){}}]),e}();r.$inject=["$peach","$mdMenu","$log"],t["default"]={moduleName:o,controller:r},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(74),s=i(a),c=n(75),u=i(c),l=n(70),d=i(l);n(74);var m="ngPeachSidenav",f=function(){function e(){o(this,e),this.restrict="E",this.replace=!0,this.templateUrl=s["default"],this.controller=u["default"].moduleName,this.controllerAs="sidenav",this.bindToController=!0}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();f.factory.$inject=[],angular.module(m,[d["default"].moduleName]).directive("peachSidenav",f.factory).controller(u["default"].moduleName,u["default"].controller),t["default"]={moduleName:m,directive:f},e.exports=t["default"]},function(e,t){var n="./sidenav/sidenav.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<md-sidenav layout="column" class="peach-sidenav md-sidenav-left" md-component-id="main-menu" md-is-locked-open="sidenav.isLockedOpen($mdMedia)" ng-hide="!sidenav.isMobile() && sidenav.activeApp.is_nav_hidden">\n  <div ng-if="!sidenav.isMobile()" flex layout="column" class="tablet-wrapper">\n    <md-toolbar>\n      <h3 ng-bind="::sidenav.activeApp.name" ng-class="{\'fade-in\': !sidenav.initLoading}"></h3>\n    </md-toolbar>\n    <md-progress-linear ng-if="sidenav.initLoading" md-mode="indeterminate"></md-progress-linear>\n    <md-content md-scroll-y flex ng-class="{\'fade-in\': !sidenav.initLoading}">\n      <md-list>\n        <md-list-item class="md-2-line" ng-repeat="page in sidenav.activeApp.pages track by $index" ng-if="!page.is_hidden" ng-class="{\'active\': sidenav.isPageActive(page.path)}" aria-label="page.name">\n          <div class="md-list-page-link">\n            <a ng-href="{{page.absolutePath}}" ng-bind-html="page.name"></a>\n          </div>\n        </md-list-item>\n\n        <div ng-if="sidenav.activeApp.settings_pages.length > 0">\n          <md-subheader class="md-no-sticky">Settings</md-subheader>\n          <md-list-item class="md-2-line" ng-repeat="page in sidenav.activeApp.settings_pages track by $index" ng-if="!page.is_hidden" aria-label="page.name">\n            <div class="md-list-page-link">\n              <a ng-href="{{page.absolutePath}}" ng-bind-html="page.name"></a>\n            </div>\n          </md-list-item>\n        </div>\n      </md-list>\n    </md-content>\n    <md-toolbar layout="row" ng-if="sidenav.activeApp.is_location_based && sidenav.$peachLocation.locationsCount > 1">\n      <span class="icon icon-location fade-in"></span>\n      <peach-select class="app-details-locations fade-in"\n                    default-select-all="true"\n                    init-value="sidenav.$peachLocation.location"\n                    no-float-label="true"\n                    on-search-change="sidenav.$peachLocation.buildLocations($query.name)"\n                    on-selection="sidenav.$peachLocation.setLocation($selected)"\n                    on-select-all="sidenav.$peachLocation.setLocation($selected)"\n                    options="sidenav.$peachLocation.locations"\n                    show-search-field="true"\n                    search-key="name"\n                    single-select-all="true"\n                    aria-label="Locations">\n      </peach-select>\n    </md-toolbar>\n  </div>\n\n  <div ng-if="sidenav.isMobile()" flex>\n    <md-toolbar>\n      <div class="branding">\n        <img ng-if="sidenav.bootstrapData.accountInfo.logo" ng-src="https://{{::sidenav.bootstrapData.accountInfo.logo}}" ng-class="{\'fade-in\': !sidenav.initLoading}"></img>\n        <span ng-if="!sidenav.bootstrapData.accountInfo.logo && sidenav.bootstrapData.accountInfo.display_name" ng-bind="::sidenav.bootstrapData.accountInfo.display_name" ng-class="{\'fade-in\': !sidenav.initLoading}"></span>\n        <span ng-if="!sidenav.bootstrapData.accountInfo.logo && !sidenav.bootstrapData.accountInfo.display_name && sidenav.bootstrapData.accountInfo.company_name" ng-bind="::sidenav.bootstrapData.accountInfo.company_name" ng-class="{\'fade-in\': !sidenav.initLoading}"></span>\n      </div>\n    </md-toolbar>\n    <md-progress-linear ng-if="sidenav.initLoading" md-mode="indeterminate"></md-progress-linear>\n    <md-content md-scroll-y flex ng-class="{\'fade-in\': !sidenav.initLoading}">\n      <peach-accordion>\n        <div class="peach-static-panel" ng-if="sidenav.coreAppsTop.length">\n          <md-list>\n            <md-list-item ng-repeat="app in sidenav.coreAppsTop track by $index" ng-class="{\'active\': sidenav.isPageActive(page.path)}" aria-label="page.name">\n              <span class="icon core-icon icon-{{app.key}}"></span>\n              <h4><a ng-href="{{app.absolutePath}}">{{app.name}}</a></h4>\n            </md-list-item>\n          </md-list>\n        </div>\n        <peach-accordion-panel active="app.active" ng-repeat="app in sidenav.bootstrapData.apps track by $index">\n          <peach-accordion-header>\n            <span ng-if="app.active" class="icon" ng-style="{\'backgroundImage\': \'url(https://{{app.icon}})\'}"></span>\n            <span ng-if="!app.active" class="icon" ng-style="{\'backgroundImage\': \'url(https://{{app.icon_bw}})\'}"></span>\n            <h4 ng-bind="app.name"></h4>\n          </peach-accordion-header>\n          <peach-accordion-body ng-if="app.pages">\n            <md-list>\n              <md-list-item ng-click="sidenav.handleNavClick($event, page.absolutePath)" ng-repeat="page in app.pages track by $index" ng-if="!page.is_hidden" ng-class="{\'active\': sidenav.isPageActive(page.path)}" aria-label="page.name">\n                <a class="md-list-item-text">{{page.name}}</a>\n              </md-list-item>\n\n              <md-divider ng-if="app.settings_pages.length > 0"></md-divider>\n\n              <md-subheader ng-if="app.settings_pages.length > 0" class="md-no-sticky">Settings</md-subheader>\n              <md-list-item ng-click="sidenav.handleNavClick($event, page.absolutePath)" ng-repeat="page in app.settings_pages track by $index" ng-if="!page.is_hidden" ng-class="{\'active\': sidenav.isPageActive(page.path)}" aria-label="page.name">\n                <a class="md-list-item-text">{{page.name}}</a>\n              </md-list-item>\n\n            </md-list>\n          </peach-accordion-body>\n        </peach-accordion-panel>\n        <peach-accordion-panel active="app.active" ng-repeat="app in sidenav.coreAppsBottom track by $index">\n          <peach-accordion-header>\n            <span class="icon core-icon icon-{{app.key}}"></span>\n            <h4 ng-bind="app.name"></h4>\n          </peach-accordion-header>\n          <peach-accordion-body ng-if="app.pages">\n            <md-list>\n              <md-list-item ng-click="sidenav.handleNavClick($event, page.absolutePath)" ng-repeat="page in app.pages track by $index" ng-class="{\'active\': sidenav.isPageActive(page.path)}" aria-label="page.name">\n                <a class="md-list-item-text" ng-bind-html="page.name"></a>\n              </md-list-item>\n            </md-list>\n          </peach-accordion-body>\n        </peach-accordion-panel>\n      </peach-accordion>\n    </md-content>\n  </div>\n</md-sidenav>\n')}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="PeachSidenavController",r=function(){function e(t,i,o,r,a,s,c,u){n(this,e),this.$peach=t,this.$peachBootstrap=i,this.$peachLocation=o,this.$mdMedia=r,this.$mdSidenav=a,this.$window=s,this.$q=c,this.$log=u,this.activeApp={},this.bootstrapData={},this.coreAppsTop=[],this.coreAppsBottom=[],this.initLoading=!0,this.activate()}return i(e,[{key:"activate",value:function(){var e=this;this.bootstrap()["finally"](function(){e.initLoading=!1}),this.subscribeAppRefresh(),this.subscribeHideIntroPage()}},{key:"bootstrap",value:function(){var e=this,t=[this.$peachBootstrap.activate(),this.$peachLocation.activate()];return this.$q.all(t).then(function(t){e.bootstrapData=t[0],e.setActiveApp(),e.bootstrapData.accountInfo&&e.organizeAppGroups()})}},{key:"handleNavClick",value:function(e,t){this.$window.location.href=t,this.isMobile()&&this.$mdSidenav("main-menu").close()}},{key:"isLockedOpen",value:function(e){return!this.isMobile()&&this.$peach.session.states.showSidenav?(this.$mdSidenav("main-menu").isOpen()&&this.$mdSidenav("main-menu").close(),!0):!1}},{key:"isMobile",value:function(){return this.$mdMedia("max-width: 767px")}},{key:"isPageActive",value:function(e){return this.$window.location.hash.indexOf(e)>=0}},{key:"organizeAppGroups",value:function(){var e=this;return this.$q(function(t,n){e.coreAppsTop=[],e.coreAppsBottom=[],e.bootstrapData.coreApps.welcome&&e.coreAppsTop.push(e.bootstrapData.coreApps.welcome),e.bootstrapData.coreApps.dashboard&&e.coreAppsTop.push(e.bootstrapData.coreApps.dashboard),e.bootstrapData.coreApps.reports&&e.coreAppsBottom.push(e.bootstrapData.coreApps.reports),t(!0)})}},{key:"setActiveApp",value:function(){this.activeApp=_.find(this.bootstrapData.apps,{active:!0}),this.activeApp||(this.activeApp=_.find(this.bootstrapData.coreApps,{active:!0}))}},{key:"subscribeAppRefresh",value:function(){var e=this;this.$peach.event.subscribe(this.$peach.event.events.REFRESH_APP_LIST,function(){e.initLoading=!0,e.bootstrap()["finally"](function(){e.initLoading=!1})})}},{key:"subscribeHideIntroPage",value:function(){var e=this;this.$peach.event.subscribe(this.$peach.event.events.HIDE_INTRO_PAGE,function(){e.initLoading=!0,e.bootstrap()["finally"](function(){e.initLoading=!1})})}}]),e}();r.$inject=["$peach","$peachBootstrap","$peachLocation","$mdMedia","$mdSidenav","$window","$q","$log"],t["default"]={moduleName:o,controller:r},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(77),s=i(a),c=n(78),u=i(c);n(77);var l="ngPeachToolbar",d=function(){function e(){o(this,e),this.restrict="EA",this.replace=!0,this.templateUrl=s["default"],this.controller=u["default"].moduleName,this.controllerAs="toolbar",this.bindToController=!0}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();d.factory.$inject=[],angular.module(l,[]).directive("peachToolbar",d.factory).controller(u["default"].moduleName,u["default"].controller),t["default"]={moduleName:l,directive:d},e.exports=t["default"]},function(e,t){var n="./toolbar/toolbar.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<md-toolbar class="peach-toolbar">\n  <div ng-if="!toolbar.isMobile()" flex layout="row">\n    <div class="title-box" layout="column">\n      <div class="title-row" layout="row">\n        <div class="menu-wrapper fade-in" ng-hide="toolbar.hideLeftNavButton">\n          <span class="icon icon-hamburger" ng-click="toolbar.toggleSidenav(\'main-menu\')" ng-hide="!toolbar.isMobile() && toolbar.activeApp.is_nav_hidden"></span>\n        </div>\n        <div class="name-wrapper" flex layout="column">\n            <img ng-if="toolbar.bootstrapData.accountInfo.logo" ng-src="https://{{::toolbar.bootstrapData.accountInfo.logo}}" ng-class="{\'fade-in\': !toolbar.initLoading}"></img>\n            <span ng-if="!toolbar.bootstrapData.accountInfo.logo && toolbar.bootstrapData.accountInfo.display_name" ng-bind="::toolbar.bootstrapData.accountInfo.display_name" ng-class="{\'fade-in\': !toolbar.initLoading}"></span>\n            <span ng-if="!toolbar.bootstrapData.accountInfo.logo && !toolbar.bootstrapData.accountInfo.display_name && toolbar.bootstrapData.accountInfo.company_name" ng-bind="::toolbar.bootstrapData.accountInfo.company_name" ng-class="{\'fade-in\': !toolbar.initLoading}"></span>\n        </div>\n      </div>\n    </div>\n    <div class="apps-box" flex layout="column">\n      <div class="apps-row" flex layout="row" ng-class="{\'fade-in\': !toolbar.initLoading}">\n        <div class="apps-column-left" flex layout="column">\n          <div class="apps-container-row" flex layout="row">\n            <peach-app-launcher ng-repeat="coreApp in toolbar.coreAppsLeft track by $index" peach-app="coreApp" ng-if="!toolbar.hideAppLauncher($index, true)"></peach-app-launcher>\n            <peach-app-launcher ng-repeat="peachApp in toolbar.bootstrapData.apps track by $index" peach-app="peachApp" ng-if="!toolbar.hideAppLauncher($index, false)"></peach-app-launcher>\n            <peach-app-launcher ng-repeat="coreApp in toolbar.coreAppsRight track by $index" peach-app="coreApp" ng-if="!toolbar.hideAppLauncher($index + toolbar.apps.length, false)"></peach-app-launcher>\n            <div class="all-apps-icon app-icon" ng-click="toolbar.toggleSidenav(\'all-apps-menu\')" ng-show="toolbar.showAllAppsToggle()">\n              <p>All Apps</p>\n              <span class="icon icon-caret"></span>\n            </div>\n          </div>\n        </div>\n        <div class="apps-column-right" layout="column">\n          <div class="apps-container-row" flex layout="row">\n            <peach-app-launcher ng-repeat="configApp in toolbar.configApps track by $index" peach-app="configApp"></peach-app-launcher>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="menu-box" layout="column" ng-click="toolbar.toggleSidenav(\'user-menu\')">\n      <div class="menu-header" flex layout="row">\n        <div class="img-wrapper">\n          <img ng-src="https://{{::toolbar.bootstrapData.userInfo.profile_pic}}" ng-class="{\'fade-in\': !toolbar.initLoading}"></img>\n        </div>\n        <div class="name-wrapper">\n          <span ng-bind="::toolbar.bootstrapData.userInfo.first_name" ng-class="{\'fade-in\': !toolbar.initLoading}"></span>\n        </div>\n        <div class="toggle-wrapper">\n          <span class="icon icon-caret fade-in"></span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div ng-if="toolbar.isMobile()" flex layout="column">\n    <div class="toolbar-wrapper" flex layout="row">\n      <div class="title-box" layout="column">\n        <div class="title-row" layout="row">\n          <div class="menu-wrapper fade-in" ng-hide="toolbar.hideLeftNavButton">\n            <span class="icon icon-hamburger" ng-click="toolbar.toggleSidenav(\'main-menu\')"></span>\n          </div>\n        </div>\n      </div>\n      <div class="mobile-app-box" flex layout="column">\n        <div class="mobile-app-row" flex layout="row">\n          <peach-app-launcher peach-app="toolbar.activeApp"></peach-app-launcher>\n        </div>\n      </div>\n      <div class="menu-box" layout="column" ng-click="toolbar.toggleSidenav(\'user-menu\')">\n        <div class="menu-header" flex layout="row">\n          <div class="img-wrapper">\n            <img ng-src="https://{{::toolbar.bootstrapData.userInfo.profile_pic}}" ng-class="{\'fade-in\': !toolbar.initLoading}"></img>\n          </div>\n        </div>\n      </div>\n    </div>\n    <md-toolbar layout="row" ng-if="toolbar.activeApp.is_location_based && toolbar.$peachLocation.locationsCount > 1">\n      <span class="icon icon-location fade-in"></span>\n      <peach-select class="fade-in"\n                    default-select-all="true"\n                    init-value="toolbar.$peachLocation.location"\n                    no-float-label="true"\n                    on-search-change="toolbar.$peachLocation.buildLocations($query.name)"\n                    on-selection="toolbar.$peachLocation.setLocation($selected)"\n                    on-select-all="toolbar.$peachLocation.setLocation($selected)"\n                    options="toolbar.$peachLocation.locations"\n                    show-search-field="true"\n                    search-key="name"\n                    single-select-all="true"\n                    aria-label="Locations">\n      </peach-select>\n    </md-toolbar>\n  </div>\n</md-toolbar>\n');
}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="PeachToolbarController",r=60,a=60,s=205,c=190,u=s+c,l=function(){function e(t,i,o,r,a,s,c){n(this,e),this.$peach=t,this.$peachBootstrap=i,this.$peachLocation=o,this.$mdSidenav=r,this.$mdMedia=a,this.$window=s,this.$q=c,this.activeApp={},this.bootstrapData={},this.configApps=[],this.coreAppsLeft=[],this.coreAppsRight=[],this.hideLeftNavButton=this.$window.location.pathname.indexOf("/launchpad")>-1,this.initLoading=!0,this.activate()}return i(e,[{key:"activate",value:function(){var e=this;this.bootstrap()["finally"](function(){e.initLoading=!1}),this.subscribeAppRefresh()}},{key:"bootstrap",value:function(){var e=this,t=[this.$peachBootstrap.activate(),this.$peachLocation.activate()];return this.$q.all(t).then(function(t){e.bootstrapData=t[0],e.setActiveApp(),e.bootstrapData.accountInfo&&e.organizeAppGroups()})}},{key:"hideAppLauncher",value:function(e,t){var n=e+this.configApps.length+1;if(!t){n+=this.coreAppsLeft.length;var i=_.union(this.bootstrapData.apps,this.coreAppsRight),o=_.findLastIndex(i,"key",this.$peach.session.getActiveApp());if(e===o)return!1;o>e&&n++}var s=n*r+a+u;return this.$mdMedia("max-width: "+s+"px")}},{key:"isMobile",value:function(){return this.$mdMedia("max-width: 767px")}},{key:"organizeAppGroups",value:function(){var e=this;return this.$q(function(t,n){e.coreAppsLeft=[],e.coreAppsRight=[],e.configApps=[],e.bootstrapData.coreApps.welcome&&e.coreAppsLeft.push(e.bootstrapData.coreApps.welcome),e.bootstrapData.coreApps.dashboard&&e.coreAppsLeft.push(e.bootstrapData.coreApps.dashboard),e.bootstrapData.coreApps.reports&&e.coreAppsRight.push(e.bootstrapData.coreApps.reports),e.bootstrapData.coreApps.config&&e.configApps.push(e.bootstrapData.coreApps.config),e.bootstrapData.coreApps.help&&e.configApps.push(e.bootstrapData.coreApps.help),t(!0)})}},{key:"setActiveApp",value:function(){this.activeApp=_.find(this.bootstrapData.apps,{active:!0}),this.activeApp||(this.activeApp=_.find(this.bootstrapData.coreApps,{active:!0}))}},{key:"showAllAppsToggle",value:function(){if(this.initLoading||!this.bootstrapData.accountInfo)return!1;var e=this.coreAppsLeft.length+this.coreAppsRight.length+this.configApps.length+this.bootstrapData.apps.length,t=e*r+a+u;return this.$mdMedia("max-width: "+t+"px")}},{key:"subscribeAppRefresh",value:function(){var e=this;this.$peach.event.subscribe(this.$peach.event.events.REFRESH_APP_LIST,function(){e.initLoading=!0,e.bootstrap()["finally"](function(){e.initLoading=!1})})}},{key:"toggleSidenav",value:function(e){return"user-menu"===e&&(this.$peach.event.publish(this.$peach.event.events.USERMENU_OPEN,!this.$mdSidenav(e).isOpen()),this.isMobile()&&this.$mdSidenav("main-menu").close()),"main-menu"===e&&this.isMobile()&&this.$mdSidenav("user-menu").close(),"main-menu"!==e?this.$mdSidenav(e).toggle():this.$mdMedia("min-width: 768px")?(this.$peach.session.states.showSidenav=!this.$peach.session.states.showSidenav,!0):(this.$peach.session.states.showSidenav=!this.$mdSidenav(e).isOpen(),this.$mdSidenav(e).toggle())}}]),e}();l.$inject=["$peach","$peachBootstrap","$peachLocation","$mdSidenav","$mdMedia","$window","$q"],t["default"]={moduleName:o,controller:l},e.exports=t["default"]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(80),s=i(a),c=n(81),u=i(c);n(80);var l="ngPeachUsermenu",d=function(){function e(){o(this,e),this.restrict="EA",this.replace=!0,this.templateUrl=s["default"],this.controller=u["default"].moduleName,this.controllerAs="usermenu",this.bindToController=!0}return r(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();d.factory.$inject=[],angular.module(l,[]).directive("peachUsermenu",d.factory).controller(u["default"].moduleName,u["default"].controller),t["default"]={moduleName:l,directive:d},e.exports=t["default"]},function(e,t){var n="./usermenu/usermenu.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<md-sidenav layout="column" class="peach-usermenu md-sidenav-right md-whiteframe-z2" md-component-id="user-menu">\n  <md-content md-scroll-y>\n    <md-progress-linear ng-if="usermenu.initLoading" md-mode="indeterminate"></md-progress-linear>\n    <div ng-if="!sidenav.isMobile()" flex>\n      <md-list>\n        <md-list-item ng-repeat="menuItem in usermenu.menuItems" ng-if="menuItem.key !== \'help\'">\n          <div class="md-list-menu-text">\n            <h3><a href="" ng-click="usermenu.linkHandler(menuItem, $event);">{{menuItem.name}}</a></h3>\n          </div>\n        </md-list-item>\n      </md-list>\n    </div>\n\n    <div ng-if="sidenav.isMobile()">\n      <md-list>\n        <md-list-item ng-repeat="menuItem in usermenu.menuItems">\n          <div ng-if="!menuItem.pages" class="md-list-menu-text" ng-class="{\'active\': menuItem.active}">\n            <h3><a href="" ng-click="usermenu.linkHandler(menuItem, $event);">{{menuItem.name}}</a></h3>\n          </div>\n          <peach-accordion ng-if="menuItem.pages">\n            <peach-accordion-panel active="menuItem.active">\n              <peach-accordion-header>\n                <h3 ng-bind="menuItem.name"></h3>\n              </peach-accordion-header>\n              <peach-accordion-body>\n                <md-list>\n                  <md-list-item ng-click="usermenu.linkHandler(page, $event);" ng-repeat="page in menuItem.pages track by $index" ng-class="{\'active\': usermenu.isPageActive(page.path)}" aria-label="page.name">\n                    <a class="md-list-item-text">{{page.name}}</a>\n                  </md-list-item>\n                </md-list>\n              </peach-accordion-body>\n            </peach-accordion-panel>\n          </peach-accordion>\n        </md-list-item>\n      </md-list>\n    </div>\n\n    <div ng-if="usermenu.alerts.length">\n      <md-progress-linear ng-if="usermenu.loadingAlerts" md-mode="indeterminate"></md-progress-linear>\n\n      <md-divider ng-if="!usermenu.loadingAlerts && usermenu.userAlertEvents.length"></md-divider>\n      <div class="alerts-container" ng-if="!usermenu.loadingAlerts && usermenu.userAlertEvents.length">\n        <h4>Recent Alerts</h4>\n        <md-list>\n          <md-list-item ng-repeat="userAlertEvent in usermenu.userAlertEvents" layout-align="start start" layout="row">\n            <div flex="70" ng-if="userAlertEvent">\n              <a ng-click="usermenu.openApp(userAlertEvent)">\n                <img ng-src="{{userAlertEvent.icon}}"/>\n              </a>\n              <div class="alert-content">\n                <a ng-click="usermenu.openApp(userAlertEvent)"\n                  ng-bind="userAlertEvent.name"></a><br>\n                <small ng-bind="userAlertEvent.createdAt" class=""></small>\n              </div>\n            </div>\n            <div flex="30" layout="column" layout-align="start end">\n              <md-button ng-if="userAlertEvent.claimed === true" class="md-icon-button" aria-label="Mark alert as read" ng-click="usermenu.read(userAlertEvent, $index)">\n                <md-icon class="icon icon-x"></md-icon>\n                <md-tooltip md-direction="left" md-autohide>Mark alert as read</md-tooltip>\n              </md-button>\n              <md-button ng-if="userAlertEvent.claimed === false" class="md-primary" aria-label="Accept" ng-click="usermenu.accept(userAlertEvent)">\n                Accept\n              </md-button>\n            </div>\n          </md-list-item>\n        </md-list>\n        <md-progress-linear ng-if="usermenu.loadingAlert" md-mode="indeterminate"></md-progress-linear>\n      </div>\n    </div>\n  </md-content>\n</md-sidenav>\n')}]),e.exports=n},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="PeachUserMenuController",r=function(){function e(t,i,o,r,a,s,c,u,l){n(this,e),this.$peach=t,this.$mdDialog=i,this.$mdMedia=o,this.$mdSidenav=r,this.$window=a,this.$log=s,this.$peachAlert=u,this.$q=l,this.$peachBootstrap=c,this.alerts=[],this.alertById={},this.appById=[],this.bootstrapData={},this.initLoading=!0,this.loadingAlert=!1,this.loadingAlerts=!1,this.menuItems=[],this.userAlertEvents=[],this.activate()}return i(e,[{key:"activate",value:function(){var e=this;this.bootstrap()["finally"](function(){e.initLoading=!1,e.bootstrapData.accountInfo&&e.activateAlertsRefresh()})}},{key:"accept",value:function(e){var t=this;this.$peachAlert.getAlertEvent(e.alertEvent).then(function(n){n&&null!==n.action_user_id?(e.alertEvent=n,e.claimed=!0):t.claim(e)},function(e){t.$log.error(e)})}},{key:"activateAlerts",value:function(){var e=this;this.loadingAlerts=!0;var t={};t.userAlertEvents=this.$peachAlert.getUserAlertEvents(1,5,!1),_.isEmpty(this.alertById)&&(t.alerts=this.$peach.account.getAlerts()),_.isEmpty(this.appById)&&(t.apps=this.$peach.app.getAllApps()),this.$q.all(t).then(function(t){t.alerts&&(e.alerts=t.alerts,e.alertById=_.object(_.map(t.alerts,function(e){return[e.id,e]}))),t.apps&&(e.appById=_.object(_.map(t.apps,function(e){return[e.id,e]}))),e.userAlertEvents=t.userAlertEvents.results;var n=_.without(_.pluck(e.userAlertEvents,"alert_event_id"),null);e.mergeWithAlertEvents(n)},function(t){e.$log.error(t),e.loadingAlerts=!1})}},{key:"activateAlertsRefresh",value:function(){var e=this;this.$peach.event.subscribe(this.$peach.event.events.USERMENU_OPEN,function(t){t&&e.activateAlerts()})}},{key:"bootstrap",value:function(){var e=this;return this.$peachBootstrap.activate().then(function(t){e.bootstrapData=t,e.organizeAppGroups()})}},{key:"claim",value:function(e){var t=this,n={id:e.alertEvent.id,is_action_user:!0,action_user_id:this.user.id};this.$peach.api("alert_events").update(n).then(function(t){e.alertEvent=t,e.claimed=!0},function(e){t.$log.error(e)})}},{key:"fetchMoreAlerts",value:function(){var e=this;this.loadingAlert=!0,this.$peachAlert.getUserAlertEvents(1,5,!1).then(function(t){if(t.results.length>e.userAlertEvents.length){var n=_.last(t.results);e.userAlertEvents.push(n);var i=_.without(_.pluck(t.results,"alert_event_id"),null);e.mergeWithAlertEvents(i)}else e.loadingAlert=!1},function(t){e.$log.error(t),e.loadingAlert=!1})}},{key:"isMobile",value:function(){return this.$mdMedia("max-width: 767px")}},{key:"isPageActive",value:function(e){return this.$window.location.hash.indexOf(e)>=0}},{key:"linkHandler",value:function(e,t){var n=this;"logout"===e.key?!function(){var e=n.$peach.session.isDevelopment()?"/login.html":"/";n.$peach.session.logout().then(function(t){n.$window.location.pathname=e},function(t){n.$window.location.pathname=e})}():"alerts"===e.key?this.showAlerts(t):(this.$mdSidenav("user-menu").close(),this.$window.location.href=e.absolutePath)}},{key:"mergeWithAlertEvents",value:function(e){var t=this;return e&&e.length?void this.$peachAlert.getAlertEvents(e).then(function(e){_.forEach(t.userAlertEvents,function(n){n.alertEvent=_.find(e.results,{id:n.alert_event_id}),_.isUndefined(n.alertEvent)||(n.icon=t.alertById[n.alertEvent.alert_id]&&t.appById[t.alertById[n.alertEvent.alert_id].app_id]&&t.appById[t.alertById[n.alertEvent.alert_id].app_id].icon?"https://"+t.appById[t.alertById[n.alertEvent.alert_id].app_id].icon:"/img/default_app_icon.png",n.name=t.alertById[n.alertEvent.alert_id]?t.alertById[n.alertEvent.alert_id].name:"[unknown]",n.claimed=n.alertEvent.is_actionable===!0&&null===n.alertEvent.action_user_id?!1:!0,n.createdAt=moment(n.alertEvent.created_at).format("MMMM D, h:mm A"))})},function(e){t.$log.error(e)})["finally"](function(){t.loadingAlerts=!1,t.loadingAlert=!1}):(this.loadingAlerts=!1,this.loadingAlert=!1,!1)}},{key:"organizeAppGroups",value:function(){var e=this;return this.$q(function(t,n){e.bootstrapData.accountInfo&&(e.bootstrapData.coreApps.profile&&e.menuItems.push(e.bootstrapData.coreApps.profile),e.menuItems.push({key:"alerts",name:"Alerts"})),e.menuItems.push({key:"launchpad",name:"Launchpad",absolutePath:"/launchpad"}),e.bootstrapData.accountInfo&&(e.bootstrapData.coreApps.config&&e.menuItems.push(e.bootstrapData.coreApps.config),e.bootstrapData.coreApps.help&&e.menuItems.push(e.bootstrapData.coreApps.help)),e.menuItems.push({key:"logout",name:"Logout"}),t(!0)})}},{key:"openApp",value:function(e){this.$mdSidenav("user-menu").close();var t=this.appById[this.alertById[e.alertEvent.alert_id].app_id].key;if(t){var n="/accounts/"+this.bootstrapData.accountInfo.id+"/apps/"+t;this.$window.location.pathname!==n&&(this.$window.location.href=n)}}},{key:"read",value:function(e,t){var n=this;this.$peachAlert.updateUserAlertEvent(e).then(function(e){n.userAlertEvents.splice(t,1),n.fetchMoreAlerts()},function(e){n.$log.error(e)})}},{key:"showAlerts",value:function(e){this.$mdSidenav("user-menu").close();var t=this.$mdDialog.alert({bindToController:!1,parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0,controller:"PeachAlertController",controllerAs:"alert",hasBackdrop:!1,templateUrl:"./alert/alert.html"});this.$mdDialog.show(t)}}]),e}();r.$inject=["$peach","$mdDialog","$mdMedia","$mdSidenav","$window","$log","$peachBootstrap","$peachAlert","$q"],t["default"]={moduleName:o,controller:r},e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="ngPeachInterceptorAPI",o=function r(){function e(e,t,n){function i(t){var n=e.get("$peach");return _.startsWith(t.url,n.session.getApiUrl())&&Offline.check(),t}function o(e){return t.reject(e)}function r(e){return e}function a(i){var o=e.get("$peach");if(_.startsWith(i.config.url,o.session.getApiUrl())){if(i.config.url===o.session.getApiUrl()+"/oauth/session/logout")return t.reject(i);if(i.config.url===o.session.getApiUrl()+"/users/password/reset")return t.reject(i);switch(i.status){case 401:"/"!==n.location.pathname&&"/login"!==n.location.pathname&&(o.session.logout(),n.location="/")}}return t.reject(i)}var s={};return s.request=i,s.requestError=o,s.response=r,s.responseError=a,s}n(this,r),this.$get=function(t,n,i){return new e(t,n,i)},this.$get.$inject=["$injector","$q","$window"]};o.$inject=[],angular.module(i,[]).provider("peachInterceptorAPI",o),t["default"]={moduleName:i,provider:o},e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="ngPeachAlertService",r=function(){function e(t,i){n(this,e),this.$log=t,this.$peach=i,this.account=null}return i(e,[{key:"getAlertEvent",value:function(e){return _.isUndefined(e)?!1:this.$peach.api("alert_events").find(e.id).then(function(e){return e},function(e){return e})}},{key:"getAlertEvents",value:function(e){if(_.isUndefined(e)||!e.length)return!1;var t={id:{$in:e}};return this.$peach.api("alert_events").find(t).then(function(e){return e},function(e){return e})}},{key:"getUserAlertEvents",value:function(e,t,n){return this.$peach.api("user_alert_events").find({is_read:n},{limit:t,page:e,sort:"-created_at"}).then(function(e){return e},function(e){return e})}},{key:"updateUserAlertEvent",value:function(e){var t={id:e.id,is_read:!0};return this.$peach.api("user_alert_events",{useCoreToken:!0}).update(t).then(function(e){return e},function(e){return e})}},{key:"updateUserAlertEvents",value:function(e){var t={atomic:!0,verbose:!1};return this.$peach.api("user_alert_events",{useCoreToken:!0}).update(e,t).then(function(e){return e},function(e){return e})}}]),e}();r.$inject=["$log","$peach"],angular.module(o,[]).service("$peachAlert",r),t["default"]={moduleName:o,service:r},e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="ngBootstrapService",r=function(){function e(t,i,o){n(this,e),this.$peach=t,this.$q=i,this.$window=o,this.deferred=null}return i(e,[{key:"activate",value:function(){var e=this;if(_.isNull(this.deferred))if(this.deferred=this.$q.defer(),this.$peach.session.getActiveAccount()){var t={accountInfo:this.$peach.account.getInfo(),accountPrefs:this.$peach.account.getPrefs(null,!0),alerts:this.$peach.account.getAlerts(),apps:this.$peach.app.getAllApps(),corePermissions:this.$peach.api("apps/core/permissions").find(null,{sort:"name"}),docs:this.$peach.account.getDocs(),hasConfig:this.$peach.user.hasConfig(),hasDashboards:this.checkDashboardAccess(),hasReports:this.$peach.user.hasReports(),userInfo:this.$peach.user.getInfo(),userPrefs:this.$peach.user.getPrefs(null,!0)};this.$q.all(t).then(function(t){t.accountPrefs=e.pluckKeys(t.accountPrefs),t.corePermissions=e.pluckKeys(t.corePermissions.permissions),t.userPrefs=e.pluckKeys(t.userPrefs),t.activeApp=e.$peach.session.getActiveApp();var n={apps:e.processApps(t),coreApps:e.processCoreApps(t)};e.$q.all(n).then(function(n){t.apps=n.apps,t.coreApps=n.coreApps,e.deferred.resolve(t)})["finally"](function(){e.deferred=null})})}else{var t={userInfo:this.$peach.user.getInfo()};this.$q.all(t).then(function(t){e.deferred.resolve(t),e.deferred=null})}return this.deferred.promise}},{key:"checkDashboardAccess",value:function(){var e=this;return this.$q(function(t,n){var i={dashboards:e.$peach.api("dashboards").find(null,{}),widgets:e.$peach.api("widgets").find(null,{limit:0})};e.$q.all(i).then(function(e){e.dashboards.count>0&&e.widgets.count>0&&t(!0),t(!1)},function(e){t(!1)})})}},{key:"getConfigApp",value:function(e){var t=this;return this.$q(function(n,i){var o=void 0;if(e.hasConfig===!0){var r="/accounts/"+e.accountInfo.id+"/config#/",a=[];t.$peach.session.isPreview()&&(r="/preview"+r),(e.corePermissions.manage_users||e.corePermissions.assign_roles||e.corePermissions.assign_locations)&&a.push({key:"users",name:"Users",absolutePath:r+"users",path:"users"}),(e.corePermissions.manage_locations||e.corePermissions.manage_app_locations)&&a.push({key:"locations",name:"Locations",absolutePath:r+"locations",path:"locations"}),e.corePermissions.admin_manage_roles&&a.push({key:"roles",name:"Roles",absolutePath:r+"roles",path:"roles"}),e.accountInfo.is_admin===!0&&(e.accountPrefs.show_day_parts_settings_page&&"true"===e.accountPrefs.show_day_parts_settings_page.value&&a.push({key:"dayparts",name:"Day Parts",absolutePath:r+"dayparts",path:"dayparts"}),e.accountPrefs.show_gl_accounts_settings_page&&"true"===e.accountPrefs.show_gl_accounts_settings_page.value&&a.push({key:"glaccounts",name:"GL Accounts",absolutePath:r+"glaccounts",path:"glaccounts"}),a.push({key:"manager",name:"App Manager",absolutePath:r+"manager",path:"manager"})),e.accountInfo&&e.userInfo&&e.accountInfo.owned_by===e.userInfo.id&&a.push({key:"info",name:"My Account",absolutePath:r+"info",path:"info"}),o={active:"config"===e.activeApp,key:"config",name:"Config",description:"Configuration",pages:a,absolutePath:r,path:""}}n(o)})}},{key:"getDashboardApp",value:function(e){var t=this;return this.$q(function(n,i){var o=void 0;if(!e.hasDashboards)return n(o);if(_.isUndefined(e.accountPrefs.has_dashboards)&&e.accountInfo.is_admin===!0||e.accountPrefs.has_dashboards&&"true"===e.accountPrefs.has_dashboards.value){var r="/accounts/"+e.accountInfo.id+"/dashboard#/";t.$peach.session.isPreview()&&(r="/preview"+r),o={active:"dashboard"===e.activeApp,key:"dashboard",name:"Dashboard",description:"Dashboard",absolutePath:r,path:"",is_nav_hidden:!0}}n(o)})}},{key:"getHelpApp",value:function(e){var t=this;return this.$q(function(n,i){var o=void 0;(e.accountInfo.is_admin===!0||e.corePermissions.manage_users||e.corePermissions.manage_locations||e.docs.length)&&!function(){var n="/accounts/"+e.accountInfo.id+"/help#/";t.$peach.session.isPreview()&&(n="/preview"+n);var i=!0;!e.accountInfo.is_admin&&_.isEmpty(e.corePermissions)&&e.docs.length&&(i=!1),o={active:"help"===e.activeApp,key:"help",name:"Help",description:"Help",hasGeneral:i,absolutePath:n,path:"",pages:[]},i&&o.pages.push({key:"general",name:"General Help",absolutePath:n+"general",path:"general"}),_.forEach(e.apps,function(t){var i=_.where(e.docs,{app_id:t.id});i.length>0&&o.pages.push({name:t.name,key:t.key,path:t.key,absolutePath:n+t.key})})}(),n(o)})}},{key:"getProfileApp",value:function(e){var t=this;return this.$q(function(n,i){var o="/accounts/"+e.accountInfo.id+"/profile#/";t.$peach.session.isPreview()&&(o="/preview"+o);var r={active:"profile"===e.activeApp,key:"profile",name:"My Profile",description:"My Profile",absolutePath:o,path:"",pages:[{key:"info",name:"User Info",absolutePath:o+"info",path:"info"},{key:"alert-preferences",name:"Alert Preferences",absolutePath:o+"alert-preferences",path:"alert-preferences"},{key:"roles",name:"Roles",absolutePath:o+"roles",path:"roles"},{key:"locations",name:"Locations",absolutePath:o+"locations",path:"locations"},{key:"password",name:"Password",absolutePath:o+"password",path:"password"}]};n(r)})}},{key:"getReportsApp",value:function(e){var t=this;return this.$q(function(n,i){var o=void 0,r="/accounts/"+e.accountInfo.id+"/reports#/";t.$peach.session.isPreview()&&(r="/preview"+r),e.hasReports?(o={active:"reports"===e.activeApp,key:"reports",name:"Reports",description:"Reports",absolutePath:r,path:"",pages:[{name:"",key:"all",absolutePath:r,path:""}]},t.$peach.api("reports").find(null,{limit:1e3}).then(function(a){var s=a.results,c=e.activeApp;if(t.$peach.session.isPreview()){if(o.pages=[],"reports"===e.activeApp){var u=t.$window.location.hash.split("/");u.length&&u[1]&&(c=u[1])}t.$peach.api("/apps",{useCoreToken:!0}).find({key:c}).then(function(t){"reports"===e.activeApp&&e.apps.push(t.results[0]),t.results&&t.results.length&&!function(){var e=t.results[0],n=_.where(s,{app_id:e.id});_.forEach(n,function(t){o.pages.push({name:t.name,key:e.key,path:e.key+"/"+t.id,absolutePath:r+e.key+"/"+t.id})})}(),n(o)},function(e){i(e)})}else{o.pages[0].name='All Reports<span class="md-secondary">'+s.length+"</span>",_.forEach(e.apps,function(e){var t=_.where(s,{app_id:e.id});t.length>0&&o.pages.push({name:e.name+'<span class="md-secondary">'+t.length+"</span>",key:e.key,path:e.key,absolutePath:r+e.key})});var l=_.where(s,{app_id:null});l.length>0&&o.pages.push({name:'My Reports<span class="md-secondary">'+l.length+"</span>",key:"my",path:"my",absolutePath:r+"my"}),n(o)}},function(e){i(e)})):n(o)})}},{key:"getWelcomeApp",value:function(e){return this.$q(function(t,n){var i=void 0;if(_.isUndefined(e.userPrefs.hide_welcome_page)||e.userPrefs.hide_welcome_page&&"true"!==e.userPrefs.hide_welcome_page.value){var o="/accounts/"+e.accountInfo.id+"/welcome#/";i={active:"welcome"===e.activeApp,key:"welcome",name:"Welcome",description:"Welcome",absolutePath:o,path:""}}t()})}},{key:"pluckKeys",value:function(e){return _.object(_.pluck(e,"key"),e)}},{key:"processCoreApps",value:function(e){var t={config:this.getConfigApp(e),dashboard:this.getDashboardApp(e),help:this.getHelpApp(e),profile:this.getProfileApp(e),reports:this.getReportsApp(e),welcome:this.getWelcomeApp(e)};return this.$q.all(t)}},{key:"processApps",value:function(e){var t=this,n=this.$q.defer(),i={};return e.apps=_.filter(e.apps,function(e){return"welcome"!==e.key&&"dashboard"!==e.key&&"reports"!==e.key&&"profile"!==e.key&&"help"!==e.key&&"config"!==e.key&&"core"!==e.key}),_.forEach(e.apps,function(e){i[e.key+"_pages"]=t.$peach.session.isDevelopment()?t.$peach.api("/pages",{useCoreToken:!0}).find({app_id:e.id},{sort:"position"}):t.$peach.api("apps/"+e.key+"/pages",{useCoreToken:!0}).find(null,{sort:"position"}),i[e.key+"_prefs"]=t.$peach.api("user_prefs",{useCoreToken:!0}).find({app_id:e.id})}),this.$q.all(i).then(function(i){e.accountPrefs.app_positions&&!function(){var t=[],n=e.accountPrefs.app_positions.value.split(",");_.forEach(n,function(n){t.push(_.remove(e.apps,{id:Number(n)})[0])}),e.apps=t}(),_.forEach(e.apps,function(n){n.absolutePath="/accounts/"+e.accountInfo.id+"/apps/"+n.key+"#/",n.pages=_.where(i[n.key+"_pages"].results,{is_settings_page:!1}),n.settings_pages=_.where(i[n.key+"_pages"].results,{is_settings_page:!0}),n.prefs=i[n.key+"_prefs"].results,n.active=n.key===e.activeApp,t.$peach.session.isPreview()&&(n.absolutePath="/preview"+n.absolutePath);var o=_.find(n.prefs,{key:"hide_"+n.key+"_welcome_page"});o&&"true"===o.value&&_.remove(n.pages,{is_welcome_page:!0}),_.forEach(n.pages,function(e){e.absolutePath=_.isNull(n.platform)?n.absolutePath+n.key+"/"+e.path:n.absolutePath+e.path}),_.forEach(n.settings_pages,function(e){e.absolutePath=_.isNull(n.platform)?n.absolutePath+"settings/"+n.key+"/"+e.path:n.absolutePath+"settings/"+e.path})}),n.resolve(e.apps)}),n.promise}}]),e}();r.$inject=["$peach","$q","$window"],angular.module(o,[]).service("$peachBootstrap",r),t["default"]={moduleName:o,service:r},e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="ngLocationService",r=function(){function e(t,i,o){n(this,e),this.$peach=t,this.$q=i,this.$log=o,this.deferred=null,this.location={},this.locations=[],this.locationsCount=0}return i(e,[{key:"activate",value:function(){var e=this;if(_.isNull(this.deferred))if(this.deferred=this.$q.defer(),this.$peach.session.getActiveAccount()&&!this.$peach.app.isCoreApp()){var t={count:this.getLocationsCount(),locations:this.buildLocations()};this.$q.all(t).then(function(t){e.locationsCount=t.count,e.activateLocation(),e.deferred.resolve(e)})}else this.deferred.resolve();return this.deferred.promise}},{key:"activateLocation",value:function(){var e=this.$peach.session.getActiveLocation();if(_.isNumber(e)||(e=null),_.isNull(e)&&1===this.locationsCount&&(e=this.locations[0].id),!_.isNull(e)){var t=_.find(this.locations,{id:e});t&&(this.location=_.cloneDeep(t),this.$peach.session.setActiveLocation(t.id))}}},{key:"buildLocations",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],n=this.$q.defer(),i={},o={limit:10,sort:"name"};if(t){var r={};r.name={$like:t},i={$and:[r]}}return this.$peach.api("locations/me",{useCoreToken:!0}).find(i,o).then(function(t){e.locations=t.results,n.resolve(t.results)}),n.promise}},{key:"getLocationsCount",value:function(){var e=this.$q.defer();return this.$peach.api("locations/me",{useCoreToken:!0}).find(null,{limit:0}).then(function(t){e.resolve(t.count)}),e.promise}},{key:"setLocation",value:function(e){return _.has(e,"id")?(this.$peach.session.setActiveLocation(e.id),e.id):void this.$peach.session.setActiveLocation(null)}}]),e}();r.$inject=["$peach","$q","$log"],angular.module(o,[]).service("$peachLocation",r),t["default"]={moduleName:o,service:r},e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="ngPeachToastService",r=function(){function e(t){n(this,e),this.$mdToast=t}return i(e,[{key:"getPreset",value:function(){var e={template:'<md-toast class="peach-toast" md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}"><span layout="row" flex><i class="icon icon-check-circle"></i>{{ toast.content }}</span><md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">{{ toast.action }}</md-button></md-toast>',position:"bottom right"};return e}},{key:"show",value:function(e){return this.$mdToast.show(this.$mdToast.simple(this.getPreset()).content(e))}}]),e}();r.$inject=["$mdToast"],angular.module(o,[]).service("$peachToast",r),t["default"]={moduleName:o,service:r},e.exports=t["default"]},function(e,t){var n="./ng-table/pager.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="ng-cloak ng-table-pager" ng-if="params.data.length" layout="row" layout-sm="column" flex>\n  <div ng-if="params.settings().counts.length" class="ng-table-counts pull-right">\n    <md-input-container flex class="md-input-has-value">\n      <label>Display on Page</label>\n      <md-select ng-model="params.$params.count" aria-label="Display on Page">\n        <md-option value="{{count}}" ng-repeat="count in params.settings().counts">\n          <span ng-bind="count"></span>\n        </md-option>\n      </md-select>\n    </md-input-container>\n  </div>\n  <ul class="pagination ng-table-pagination" layout="row" flex>\n    <li ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch="page.type">\n      <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">Prev</a>\n      <a ng-switch-when="first" ng-click="params.page(page.number)" href="">\n        <span ng-bind="page.number"></span>\n      </a>\n      <a ng-switch-when="page" ng-click="params.page(page.number)" href="">\n        <span ng-bind="page.number"></span>\n      </a>\n      <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a>\n      <a ng-switch-when="last" ng-click="params.page(page.number)" href="">\n        <span ng-bind="page.number"></span>\n      </a>\n      <a ng-switch-when="next" ng-click="params.page(page.number)" href="">Next</a>\n    </li>\n  </ul>\n</div>\n')}]),e.exports=n},function(e,t){var n="./alert/alert.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<md-dialog aria-label="Alerts" class="peach-alert" ng-class="{\'full-width\': alert.isFullwidth}">\n  <peach-page-header>\n    <h1>{{alert.title}}</h1>\n    <span flex></span>\n    <section layout-align="top">\n      <md-button class="md-icon-button" ng-click="alert.cancel()" aria-label="Cancel Alerts">\n        <md-icon class="icon icon-x"></md-icon>\n      </md-button>\n    </section>\n  </peach-page-header>\n\n  <md-progress-linear ng-if="!alert.doneLoading" md-mode="indeterminate"></md-progress-linear>\n\n  <md-dialog-content ng-if="alert.doneLoading">\n    <md-tabs md-no-bar md-selected="alert.selectedIndex" md-border-bottom md-dynamic-height>\n      <md-tab ng-repeat="tab in alert.tabs track by $index" md-on-select="alert.switchTabs()">\n        <md-tab-label>\n            {{tab.title}}\n        </md-tab-label>\n        <md-tab-body>\n          <peach-message ng-if="!alert.alerts[tab.category].userAlertEvents.length && !alert.inSwitchingProgress" type="info">\n            You have no {{tab.category}} alerts\n          </peach-message>\n          <md-list ng-if="alert.alerts[tab.category].userAlertEvents.length">\n            <md-virtual-repeat-container ng-style="alert.getListHeight()">\n              <div md-virtual-repeat="userAlertEvent in alert.dynamicItems" md-on-demand md-item-size="134" class="repeated-item">\n                <md-list-item layout-align="start start">\n                  <div flex="90" ng-if="userAlertEvent">\n                    <a ng-click="alert.openApp(userAlertEvent)">\n                      <img ng-src="{{userAlertEvent.icon}}"/>\n                    </a>\n                    <div class="alert-content">\n                      <a ng-click="alert.openApp(userAlertEvent)"\n                        ng-bind="userAlertEvent.name"></a>\n                      - <span ng-bind="userAlertEvent.alertEvent.subject"></span> -\n                      <span ng-bind-html="userAlertEvent.alertEvent.message.start"></span>\n                      <span ng-show="userAlertEvent.alertEvent.message.end.length > 0 && !userAlertEvent.alertEvent.message.isFullShown">\n                        ...\n                        <md-button class="md-primary" ng-click="userAlertEvent.alertEvent.message.isFullShown = true" aria-label="Read More">\n                          read more\n                        </md-button>\n                      </span>\n                      <span ng-if="userAlertEvent.alertEvent.message.isFullShown" ng-bind-html="userAlertEvent.alertEvent.message.end"></span>\n                      <small ng-bind="userAlertEvent.createdAt" class=""></small>\n                      <small ng-if="userAlertEvent.claimed && userAlertEvent.type === \'action\'">\n                          Resolved by {{userAlertEvent.resolvedBy}} - {{userAlertEvent.updatedAt}}\n                      </small>\n                    </div>\n                  </div>\n                  <div flex="10" layout="column" layout-align="start end">\n                    <md-button ng-if="userAlertEvent.claimed === true && alert.selectedIndex === 0" class="md-icon-button" aria-label="Mark alert as read" ng-click="alert.read(userAlertEvent, $index)">\n                      <md-icon class="icon icon-x"></md-icon>\n                      <md-tooltip md-direction="left" md-autohide>Mark alert as read</md-tooltip>\n                    </md-button>\n                    <md-button ng-if="userAlertEvent.claimed === false && alert.selectedIndex === 0" class="md-raised md-primary" aria-label="Accept" ng-click="alert.accept(userAlertEvent)">\n                      Accept\n                    </md-button>\n                  </div>\n                </md-list-item>\n              </div>\n            </md-virtual-repeat-container>\n          </md-list>\n        </md-tab-body>\n      </md-tab>\n    </md-tabs>\n\n    <section class="buttons" layout="row" layout-align="end center">\n      <md-button class="md-primary" md-no-ink ng-click="alert.cancel()" aria-label="Close">Close</md-button>\n      <md-button ng-if="alert.selectedIndex === 0 && alert.alerts[\'unread\'].userAlertEvents.length" class="md-raised md-warn has-progress" md-no-ink ng-click="alert.readAll()" aria-label="Mark All As Read">\n        <span ng-if="!alert.inReadingProgress">Mark All As Read</span>\n        <md-progress-circular ng-if="alert.inReadingProgress" md-diameter="16" md-mode="indeterminate"></md-progress-circular>\n      </md-button>\n    </section>\n  </md-dialog-content>\n</md-dialog>\n');
}]),e.exports=n}])})},function(e,t,n){var i;(function(e,o){(function(){function r(e,t){if(e!==t){var n=null===e,i=e===I,o=e===e,r=null===t,a=t===I,s=t===t;if(e>t&&!r||!o||n&&!a&&s||i&&s)return 1;if(t>e&&!n||!s||r&&!i&&o||a&&o)return-1}return 0}function a(e,t,n){for(var i=e.length,o=n?i:-1;n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function s(e,t,n){if(t!==t)return _(e,n);for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}function c(e){return"function"==typeof e||!1}function u(e){return null==e?"":e+""}function l(e,t){for(var n=-1,i=e.length;++n<i&&t.indexOf(e.charAt(n))>-1;);return n}function d(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function m(e,t){return r(e.criteria,t.criteria)||e.index-t.index}function f(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,c=n.length;++i<s;){var u=r(o[i],a[i]);if(u){if(i>=c)return u;var l=n[i];return u*("asc"===l||l===!0?1:-1)}}return e.index-t.index}function p(e){return ze[e]}function h(e){return Ye[e]}function v(e,t,n){return t?e=Xe[e]:n&&(e=Je[e]),"\\"+e}function g(e){return"\\"+Je[e]}function _(e,t,n){for(var i=e.length,o=t+(n?0:-1);n?o--:++o<i;){var r=e[o];if(r!==r)return o}return-1}function b(e){return!!e&&"object"==typeof e}function $(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function y(e,t){for(var n=-1,i=e.length,o=-1,r=[];++n<i;)e[n]===t&&(e[n]=z,r[++o]=n);return r}function k(e,t){for(var n,i=-1,o=e.length,r=-1,a=[];++i<o;){var s=e[i],c=t?t(s,i,e):s;i&&n===c||(n=c,a[++r]=s)}return a}function E(e){for(var t=-1,n=e.length;++t<n&&$(e.charCodeAt(t)););return t}function w(e){for(var t=e.length;t--&&$(e.charCodeAt(t)););return t}function C(e){return We[e]}function A(e){function t(e){if(b(e)&&!Ms(e)&&!(e instanceof o)){if(e instanceof i)return e;if(ta.call(e,"__chain__")&&ta.call(e,"__wrapped__"))return fi(e)}return new i(e)}function n(){}function i(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xa,this.__views__=[]}function $(){var e=new o(this.__wrapped__);return e.__actions__=et(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=et(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=et(this.__views__),e}function Z(){if(this.__filtered__){var e=new o(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function ie(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ms(e),i=0>t,o=n?e.length:0,r=zn(0,o,this.__views__),a=r.start,s=r.end,c=s-a,u=i?s:a-1,l=this.__iteratees__,d=l.length,m=0,f=Ea(c,this.__takeCount__);if(!n||U>o||o==c&&f==c)return nn(i&&n?e.reverse():e,this.__actions__);var p=[];e:for(;c--&&f>m;){u+=t;for(var h=-1,v=e[u];++h<d;){var g=l[h],_=g.iteratee,b=g.type,$=_(v);if(b==V)v=$;else if(!$){if(b==F)continue e;break e}}p[m++]=v}return p}function re(){this.__data__={}}function ze(e){return this.has(e)&&delete this.__data__[e]}function Ye(e){return"__proto__"==e?I:this.__data__[e]}function We(e){return"__proto__"!=e&&ta.call(this.__data__,e)}function Ke(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Xe(e){var t=e?e.length:0;for(this.data={hash:ga(null),set:new da};t--;)this.push(e[t])}function Je(e,t){var n=e.data,i="string"==typeof t||Lo(t)?n.set.has(t):n.hash[t];return i?0:-1}function Qe(e){var t=this.data;"string"==typeof e||Lo(e)?t.set.add(e):t.hash[e]=!0}function Ze(e,t){for(var n=-1,i=e.length,o=-1,r=t.length,a=Rr(i+r);++n<i;)a[n]=e[n];for(;++o<r;)a[n++]=t[o];return a}function et(e,t){var n=-1,i=e.length;for(t||(t=Rr(i));++n<i;)t[n]=e[n];return t}function tt(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}function nt(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function rt(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function at(e,t,n,i){for(var o=-1,r=e.length,a=i,s=a;++o<r;){var c=e[o],u=+t(c);n(u,a)&&(a=u,s=c)}return s}function st(e,t){for(var n=-1,i=e.length,o=-1,r=[];++n<i;){var a=e[n];t(a,n,e)&&(r[++o]=a)}return r}function ct(e,t){for(var n=-1,i=e.length,o=Rr(i);++n<i;)o[n]=t(e[n],n,e);return o}function ut(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}function lt(e,t,n,i){var o=-1,r=e.length;for(i&&r&&(n=e[++o]);++o<r;)n=t(n,e[o],o,e);return n}function dt(e,t,n,i){var o=e.length;for(i&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function mt(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function ft(e,t){for(var n=e.length,i=0;n--;)i+=+t(e[n])||0;return i}function pt(e,t){return e===I?t:e}function ht(e,t,n,i){return e!==I&&ta.call(i,n)?e:t}function vt(e,t,n){for(var i=-1,o=Bs(t),r=o.length;++i<r;){var a=o[i],s=e[a],c=n(s,t[a],a,e,t);(c===c?c===s:s!==s)&&(s!==I||a in e)||(e[a]=c)}return e}function gt(e,t){return null==t?e:bt(t,Bs(t),e)}function _t(e,t){for(var n=-1,i=null==e,o=!i&&Jn(e),r=o?e.length:0,a=t.length,s=Rr(a);++n<a;){var c=t[n];o?s[n]=Qn(c,r)?e[c]:I:s[n]=i?I:e[c]}return s}function bt(e,t,n){n||(n={});for(var i=-1,o=t.length;++i<o;){var r=t[i];n[r]=e[r]}return n}function $t(e,t,n){var i=typeof e;return"function"==i?t===I?e:an(e,t,n):null==e?xr:"object"==i?jt(e):t===I?Or(e):Bt(e,t)}function yt(e,t,n,i,o,r,a){var s;if(n&&(s=o?n(e,i,o):n(e)),s!==I)return s;if(!Lo(e))return e;var c=Ms(e);if(c){if(s=Yn(e),!t)return et(e,s)}else{var u=ia.call(e),l=u==Q;if(u!=te&&u!=Y&&(!l||o))return Ge[u]?Kn(e,u,t):o?e:{};if(s=Wn(l?{}:e),!t)return gt(s,e)}r||(r=[]),a||(a=[]);for(var d=r.length;d--;)if(r[d]==e)return a[d];return r.push(e),a.push(s),(c?tt:St)(e,function(i,o){s[o]=yt(i,t,n,o,e,r,a)}),s}function kt(e,t,n){if("function"!=typeof e)throw new Xr(G);return ma(function(){e.apply(I,n)},t)}function Et(e,t){var n=e?e.length:0,i=[];if(!n)return i;var o=-1,r=Fn(),a=r==s,c=a&&t.length>=U?hn(t):null,u=t.length;c&&(r=Je,a=!1,t=c);e:for(;++o<n;){var l=e[o];if(a&&l===l){for(var d=u;d--;)if(t[d]===l)continue e;i.push(l)}else r(t,l,0)<0&&i.push(l)}return i}function wt(e,t){var n=!0;return Ha(e,function(e,i,o){return n=!!t(e,i,o)}),n}function Ct(e,t,n,i){var o=i,r=o;return Ha(e,function(e,a,s){var c=+t(e,a,s);(n(c,o)||c===i&&c===r)&&(o=c,r=e)}),r}function At(e,t,n,i){var o=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>o?0:o+n),i=i===I||i>o?o:+i||0,0>i&&(i+=o),o=n>i?0:i>>>0,n>>>=0;o>n;)e[n++]=t;return e}function It(e,t){var n=[];return Ha(e,function(e,i,o){t(e,i,o)&&n.push(e)}),n}function xt(e,t,n,i){var o;return n(e,function(e,n,r){return t(e,n,r)?(o=i?n:e,!1):void 0}),o}function Mt(e,t,n,i){i||(i=[]);for(var o=-1,r=e.length;++o<r;){var a=e[o];b(a)&&Jn(a)&&(n||Ms(a)||Ao(a))?t?Mt(a,t,n,i):ut(i,a):n||(i[i.length]=a)}return i}function Tt(e,t){return qa(e,t,tr)}function St(e,t){return qa(e,t,Bs)}function Nt(e,t){return ja(e,t,Bs)}function Dt(e,t){for(var n=-1,i=t.length,o=-1,r=[];++n<i;){var a=t[n];Oo(e[a])&&(r[++o]=a)}return r}function Ot(e,t,n){if(null!=e){n!==I&&n in di(e)&&(t=[n]);for(var i=0,o=t.length;null!=e&&o>i;)e=e[t[i++]];return i&&i==o?e:I}}function Lt(e,t,n,i,o,r){return e===t?!0:null==e||null==t||!Lo(e)&&!b(t)?e!==e&&t!==t:Ht(e,t,Lt,n,i,o,r)}function Ht(e,t,n,i,o,r,a){var s=Ms(e),c=Ms(t),u=W,l=W;s||(u=ia.call(e),u==Y?u=te:u!=te&&(s=Vo(e))),c||(l=ia.call(t),l==Y?l=te:l!=te&&(c=Vo(t)));var d=u==te,m=l==te,f=u==l;if(f&&!s&&!d)return jn(e,t,u);if(!o){var p=d&&ta.call(e,"__wrapped__"),h=m&&ta.call(t,"__wrapped__");if(p||h)return n(p?e.value():e,h?t.value():t,i,o,r,a)}if(!f)return!1;r||(r=[]),a||(a=[]);for(var v=r.length;v--;)if(r[v]==e)return a[v]==t;r.push(e),a.push(t);var g=(s?qn:Bn)(e,t,n,i,o,r,a);return r.pop(),a.pop(),g}function Pt(e,t,n){var i=t.length,o=i,r=!n;if(null==e)return!o;for(e=di(e);i--;){var a=t[i];if(r&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=t[i];var s=a[0],c=e[s],u=a[1];if(r&&a[2]){if(c===I&&!(s in e))return!1}else{var l=n?n(c,u,s):I;if(!(l===I?Lt(u,c,n,!0):l))return!1}}return!0}function qt(e,t){var n=-1,i=Jn(e)?Rr(e.length):[];return Ha(e,function(e,o,r){i[++n]=t(e,o,r)}),i}function jt(e){var t=Vn(e);if(1==t.length&&t[0][2]){var n=t[0][0],i=t[0][1];return function(e){return null==e?!1:e[n]===i&&(i!==I||n in di(e))}}return function(e){return Pt(e,t)}}function Bt(e,t){var n=Ms(e),i=ei(e)&&ii(t),o=e+"";return e=mi(e),function(r){if(null==r)return!1;var a=o;if(r=di(r),(n||!i)&&!(a in r)){if(r=1==e.length?r:Ot(r,Wt(e,0,-1)),null==r)return!1;a=Ai(e),r=di(r)}return r[a]===t?t!==I||a in r:Lt(t,r[a],I,!0)}}function Rt(e,t,n,i,o){if(!Lo(e))return e;var r=Jn(t)&&(Ms(t)||Vo(t)),a=r?I:Bs(t);return tt(a||t,function(s,c){if(a&&(c=s,s=t[c]),b(s))i||(i=[]),o||(o=[]),Ut(e,t,c,Rt,n,i,o);else{var u=e[c],l=n?n(u,s,c,e,t):I,d=l===I;d&&(l=s),l===I&&(!r||c in e)||!d&&(l===l?l===u:u!==u)||(e[c]=l)}}),e}function Ut(e,t,n,i,o,r,a){for(var s=r.length,c=t[n];s--;)if(r[s]==c)return void(e[n]=a[s]);var u=e[n],l=o?o(u,c,n,e,t):I,d=l===I;d&&(l=c,Jn(c)&&(Ms(c)||Vo(c))?l=Ms(u)?u:Jn(u)?et(u):[]:Ro(c)||Ao(c)?l=Ao(u)?Ko(u):Ro(u)?u:{}:d=!1),r.push(c),a.push(l),d?e[n]=i(l,c,o,r,a):(l===l?l!==u:u===u)&&(e[n]=l)}function Ft(e){return function(t){return null==t?I:t[e]}}function Vt(e){var t=e+"";return e=mi(e),function(n){return Ot(n,e,t)}}function Gt(e,t){for(var n=e?t.length:0;n--;){var i=t[n];if(i!=o&&Qn(i)){var o=i;fa.call(e,i,1)}}return e}function zt(e,t){return e+_a(Aa()*(t-e+1))}function Yt(e,t,n,i,o){return o(e,function(e,o,r){n=i?(i=!1,e):t(n,e,o,r)}),n}function Wt(e,t,n){var i=-1,o=e.length;t=null==t?0:+t||0,0>t&&(t=-t>o?0:o+t),n=n===I||n>o?o:+n||0,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var r=Rr(o);++i<o;)r[i]=e[i+t];return r}function Kt(e,t){var n;return Ha(e,function(e,i,o){return n=t(e,i,o),!n}),!!n}function Xt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Jt(e,t,n){var i=Rn(),o=-1;t=ct(t,function(e){return i(e)});var r=qt(e,function(e){var n=ct(t,function(t){return t(e)});return{criteria:n,index:++o,value:e}});return Xt(r,function(e,t){return f(e,t,n)})}function Qt(e,t){var n=0;return Ha(e,function(e,i,o){n+=+t(e,i,o)||0}),n}function Zt(e,t){var n=-1,i=Fn(),o=e.length,r=i==s,a=r&&o>=U,c=a?hn():null,u=[];c?(i=Je,r=!1):(a=!1,c=t?[]:u);e:for(;++n<o;){var l=e[n],d=t?t(l,n,e):l;if(r&&l===l){for(var m=c.length;m--;)if(c[m]===d)continue e;t&&c.push(d),u.push(l)}else i(c,d,0)<0&&((t||a)&&c.push(d),u.push(l))}return u}function en(e,t){for(var n=-1,i=t.length,o=Rr(i);++n<i;)o[n]=e[t[n]];return o}function tn(e,t,n,i){for(var o=e.length,r=i?o:-1;(i?r--:++r<o)&&t(e[r],r,e););return n?Wt(e,i?0:r,i?r+1:o):Wt(e,i?r+1:0,i?o:r)}function nn(e,t){var n=e;n instanceof o&&(n=n.value());for(var i=-1,r=t.length;++i<r;){var a=t[i];n=a.func.apply(a.thisArg,ut([n],a.args))}return n}function on(e,t,n){var i=0,o=e?e.length:i;if("number"==typeof t&&t===t&&Sa>=o){for(;o>i;){var r=i+o>>>1,a=e[r];(n?t>=a:t>a)&&null!==a?i=r+1:o=r}return o}return rn(e,t,xr,n)}function rn(e,t,n,i){t=n(t);for(var o=0,r=e?e.length:0,a=t!==t,s=null===t,c=t===I;r>o;){var u=_a((o+r)/2),l=n(e[u]),d=l!==I,m=l===l;if(a)var f=m||i;else f=s?m&&d&&(i||null!=l):c?m&&(i||d):null==l?!1:i?t>=l:t>l;f?o=u+1:r=u}return Ea(r,Ta)}function an(e,t,n){if("function"!=typeof e)return xr;if(t===I)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,r){return e.call(t,n,i,o,r)};case 5:return function(n,i,o,r,a){return e.call(t,n,i,o,r,a)}}return function(){return e.apply(t,arguments)}}function sn(e){var t=new aa(e.byteLength),n=new pa(t);return n.set(new pa(e)),t}function cn(e,t,n){for(var i=n.length,o=-1,r=ka(e.length-i,0),a=-1,s=t.length,c=Rr(s+r);++a<s;)c[a]=t[a];for(;++o<i;)c[n[o]]=e[o];for(;r--;)c[a++]=e[o++];return c}function un(e,t,n){for(var i=-1,o=n.length,r=-1,a=ka(e.length-o,0),s=-1,c=t.length,u=Rr(a+c);++r<a;)u[r]=e[r];for(var l=r;++s<c;)u[l+s]=t[s];for(;++i<o;)u[l+n[i]]=e[r++];return u}function ln(e,t){return function(n,i,o){var r=t?t():{};if(i=Rn(i,o,3),Ms(n))for(var a=-1,s=n.length;++a<s;){var c=n[a];e(r,c,i(c,a,n),n)}else Ha(n,function(t,n,o){e(r,t,i(t,n,o),o)});return r}}function dn(e){return _o(function(t,n){var i=-1,o=null==t?0:n.length,r=o>2?n[o-2]:I,a=o>2?n[2]:I,s=o>1?n[o-1]:I;for("function"==typeof r?(r=an(r,s,5),o-=2):(r="function"==typeof s?s:I,o-=r?1:0),a&&Zn(n[0],n[1],a)&&(r=3>o?I:r,o=1);++i<o;){var c=n[i];c&&e(t,c,r)}return t})}function mn(e,t){return function(n,i){var o=n?Ua(n):0;if(!ni(o))return e(n,i);for(var r=t?o:-1,a=di(n);(t?r--:++r<o)&&i(a[r],r,a)!==!1;);return n}}function fn(e){return function(t,n,i){for(var o=di(t),r=i(t),a=r.length,s=e?a:-1;e?s--:++s<a;){var c=r[s];if(n(o[c],c,o)===!1)break}return t}}function pn(e,t){function n(){var o=this&&this!==it&&this instanceof n?i:e;return o.apply(t,arguments)}var i=gn(e);return n}function hn(e){return ga&&da?new Xe(e):null}function vn(e){return function(t){for(var n=-1,i=Cr(dr(t)),o=i.length,r="";++n<o;)r=e(r,i[n],n);return r}}function gn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=La(e.prototype),i=e.apply(n,t);return Lo(i)?i:n}}function _n(e){function t(n,i,o){o&&Zn(n,i,o)&&(i=I);var r=Pn(n,e,I,I,I,I,I,i);return r.placeholder=t.placeholder,r}return t}function bn(e,t){return _o(function(n){var i=n[0];return null==i?i:(n.push(t),e.apply(I,n))})}function $n(e,t){return function(n,i,o){if(o&&Zn(n,i,o)&&(i=I),i=Rn(i,o,3),1==i.length){n=Ms(n)?n:li(n);var r=at(n,i,e,t);if(!n.length||r!==t)return r}return Ct(n,i,e,t)}}function yn(e,t){return function(n,i,o){if(i=Rn(i,o,3),Ms(n)){var r=a(n,i,t);return r>-1?n[r]:I}return xt(n,i,e)}}function kn(e){return function(t,n,i){return t&&t.length?(n=Rn(n,i,3),a(t,n,e)):-1}}function En(e){return function(t,n,i){return n=Rn(n,i,3),xt(t,n,e,!0)}}function wn(e){return function(){for(var t,n=arguments.length,o=e?n:-1,r=0,a=Rr(n);e?o--:++o<n;){var s=a[r++]=arguments[o];if("function"!=typeof s)throw new Xr(G);!t&&i.prototype.thru&&"wrapper"==Un(s)&&(t=new i([],!0))}for(o=t?-1:n;++o<n;){s=a[o];var c=Un(s),u="wrapper"==c?Ra(s):I;t=u&&ti(u[0])&&u[1]==(H|N|O|P)&&!u[4].length&&1==u[9]?t[Un(u[0])].apply(t,u[3]):1==s.length&&ti(s)?t[c]():t.thru(s)}return function(){var e=arguments,i=e[0];if(t&&1==e.length&&Ms(i)&&i.length>=U)return t.plant(i).value();for(var o=0,r=n?a[o].apply(this,e):i;++o<n;)r=a[o].call(this,r);return r}}}function Cn(e,t){return function(n,i,o){return"function"==typeof i&&o===I&&Ms(n)?e(n,i):t(n,an(i,o,3))}}function An(e){return function(t,n,i){return("function"!=typeof n||i!==I)&&(n=an(n,i,3)),e(t,n,tr)}}function In(e){return function(t,n,i){return("function"!=typeof n||i!==I)&&(n=an(n,i,3)),e(t,n)}}function xn(e){return function(t,n,i){var o={};return n=Rn(n,i,3),St(t,function(t,i,r){var a=n(t,i,r);i=e?a:i,t=e?t:a,o[i]=t}),o}}function Mn(e){return function(t,n,i){return t=u(t),(e?t:"")+Dn(t,n,i)+(e?"":t)}}function Tn(e){var t=_o(function(n,i){var o=y(i,t.placeholder);return Pn(n,e,I,i,o)});return t}function Sn(e,t){return function(n,i,o,r){var a=arguments.length<3;return"function"==typeof i&&r===I&&Ms(n)?e(n,i,o,a):Yt(n,Rn(i,r,4),o,a,t)}}function Nn(e,t,n,i,o,r,a,s,c,u){function l(){for(var _=arguments.length,b=_,$=Rr(_);b--;)$[b]=arguments[b];if(i&&($=cn($,i,o)),r&&($=un($,r,a)),p||v){var k=l.placeholder,E=y($,k);if(_-=E.length,u>_){var w=s?et(s):I,C=ka(u-_,0),A=p?E:I,x=p?I:E,S=p?$:I,N=p?I:$;t|=p?O:L,t&=~(p?L:O),h||(t&=~(M|T));var D=[e,t,n,S,A,N,x,w,c,C],H=Nn.apply(I,D);return ti(e)&&Fa(H,D),H.placeholder=k,H}}var P=m?n:this,q=f?P[e]:e;return s&&($=ci($,s)),d&&c<$.length&&($.length=c),this&&this!==it&&this instanceof l&&(q=g||gn(e)),q.apply(P,$)}var d=t&H,m=t&M,f=t&T,p=t&N,h=t&S,v=t&D,g=f?I:gn(e);return l}function Dn(e,t,n){var i=e.length;if(t=+t,i>=t||!$a(t))return"";var o=t-i;return n=null==n?" ":n+"",gr(n,va(o/n.length)).slice(0,o)}function On(e,t,n,i){function o(){for(var t=-1,s=arguments.length,c=-1,u=i.length,l=Rr(u+s);++c<u;)l[c]=i[c];for(;s--;)l[c++]=arguments[++t];var d=this&&this!==it&&this instanceof o?a:e;return d.apply(r?n:this,l)}var r=t&M,a=gn(e);return o}function Ln(e){var t=Gr[e];return function(e,n){return n=n===I?0:+n||0,n?(n=ua(10,n),t(e*n)/n):t(e)}}function Hn(e){return function(t,n,i,o){var r=Rn(i);return null==i&&r===$t?on(t,n,e):rn(t,n,r(i,o,1),e)}}function Pn(e,t,n,i,o,r,a,s){var c=t&T;if(!c&&"function"!=typeof e)throw new Xr(G);var u=i?i.length:0;if(u||(t&=~(O|L),i=o=I),u-=o?o.length:0,t&L){var l=i,d=o;i=o=I}var m=c?I:Ra(e),f=[e,t,n,i,o,l,d,r,a,s];if(m&&(oi(f,m),t=f[1],s=f[9]),f[9]=null==s?c?0:e.length:ka(s-u,0)||0,t==M)var p=pn(f[0],f[2]);else p=t!=O&&t!=(M|O)||f[4].length?Nn.apply(I,f):On.apply(I,f);var h=m?Ba:Fa;return h(p,f)}function qn(e,t,n,i,o,r,a){var s=-1,c=e.length,u=t.length;if(c!=u&&!(o&&u>c))return!1;for(;++s<c;){var l=e[s],d=t[s],m=i?i(o?d:l,o?l:d,s):I;if(m!==I){if(m)continue;return!1}if(o){if(!mt(t,function(e){return l===e||n(l,e,i,o,r,a)}))return!1}else if(l!==d&&!n(l,d,i,o,r,a))return!1}return!0}function jn(e,t,n){switch(n){case K:case X:return+e==+t;case J:return e.name==t.name&&e.message==t.message;case ee:return e!=+e?t!=+t:e==+t;case ne:case oe:return e==t+""}return!1}function Bn(e,t,n,i,o,r,a){var s=Bs(e),c=s.length,u=Bs(t),l=u.length;if(c!=l&&!o)return!1;for(var d=c;d--;){var m=s[d];if(!(o?m in t:ta.call(t,m)))return!1}for(var f=o;++d<c;){m=s[d];var p=e[m],h=t[m],v=i?i(o?h:p,o?p:h,m):I;if(!(v===I?n(p,h,i,o,r,a):v))return!1;f||(f="constructor"==m)}if(!f){var g=e.constructor,_=t.constructor;if(g!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _))return!1}return!0}function Rn(e,n,i){var o=t.callback||Ar;return o=o===Ar?$t:o,i?o(e,n,i):o}function Un(e){for(var t=e.name,n=Oa[t],i=n?n.length:0;i--;){var o=n[i],r=o.func;if(null==r||r==e)return o.name}return t}function Fn(e,n,i){var o=t.indexOf||wi;return o=o===wi?s:o,e?o(e,n,i):o}function Vn(e){for(var t=nr(e),n=t.length;n--;)t[n][2]=ii(t[n][1]);return t}function Gn(e,t){var n=null==e?I:e[t];return qo(n)?n:I}function zn(e,t,n){for(var i=-1,o=n.length;++i<o;){var r=n[i],a=r.size;switch(r.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Ea(t,e+a);break;case"takeRight":e=ka(e,t-a)}}return{start:e,end:t}}function Yn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ta.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Wn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Yr),new t}function Kn(e,t,n){var i=e.constructor;switch(t){case ae:return sn(e);case K:case X:return new i(+e);case se:case ce:case ue:case le:case de:case me:case fe:case pe:case he:var o=e.buffer;return new i(n?sn(o):o,e.byteOffset,e.length);case ee:case oe:return new i(e);case ne:var r=new i(e.source,Oe.exec(e));r.lastIndex=e.lastIndex}return r}function Xn(e,t,n){null==e||ei(t,e)||(t=mi(t),e=1==t.length?e:Ot(e,Wt(t,0,-1)),t=Ai(t));var i=null==e?e:e[t];return null==i?I:i.apply(e,n)}function Jn(e){return null!=e&&ni(Ua(e))}function Qn(e,t){return e="number"==typeof e||Pe.test(e)?+e:-1,t=null==t?Na:t,e>-1&&e%1==0&&t>e}function Zn(e,t,n){if(!Lo(n))return!1;var i=typeof t;if("number"==i?Jn(n)&&Qn(t,n.length):"string"==i&&t in n){var o=n[t];return e===e?e===o:o!==o}return!1}function ei(e,t){var n=typeof e;if("string"==n&&Ie.test(e)||"number"==n)return!0;if(Ms(e))return!1;var i=!Ae.test(e);return i||null!=t&&e in di(t)}function ti(e){var n=Un(e);if(!(n in o.prototype))return!1;var i=t[n];if(e===i)return!0;var r=Ra(i);return!!r&&e===r[0]}function ni(e){return"number"==typeof e&&e>-1&&e%1==0&&Na>=e}function ii(e){return e===e&&!Lo(e)}function oi(e,t){var n=e[1],i=t[1],o=n|i,r=H>o,a=i==H&&n==N||i==H&&n==P&&e[7].length<=t[8]||i==(H|P)&&n==N;if(!r&&!a)return e;i&M&&(e[2]=t[2],o|=n&M?0:S);var s=t[3];if(s){var c=e[3];e[3]=c?cn(c,s,t[4]):et(s),e[4]=c?y(e[3],z):et(t[4])}return s=t[5],s&&(c=e[5],e[5]=c?un(c,s,t[6]):et(s),e[6]=c?y(e[5],z):et(t[6])),s=t[7],s&&(e[7]=et(s)),i&H&&(e[8]=null==e[8]?t[8]:Ea(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function ri(e,t){return e===I?t:Ts(e,t,ri)}function ai(e,t){e=di(e);for(var n=-1,i=t.length,o={};++n<i;){var r=t[n];r in e&&(o[r]=e[r])}return o}function si(e,t){var n={};return Tt(e,function(e,i,o){t(e,i,o)&&(n[i]=e)}),n}function ci(e,t){for(var n=e.length,i=Ea(t.length,n),o=et(e);i--;){var r=t[i];e[i]=Qn(r,n)?o[r]:I}return e}function ui(e){for(var t=tr(e),n=t.length,i=n&&e.length,o=!!i&&ni(i)&&(Ms(e)||Ao(e)),r=-1,a=[];++r<n;){var s=t[r];(o&&Qn(s,i)||ta.call(e,s))&&a.push(s)}return a}function li(e){return null==e?[]:Jn(e)?Lo(e)?e:Yr(e):ar(e)}function di(e){return Lo(e)?e:Yr(e)}function mi(e){if(Ms(e))return e;var t=[];return u(e).replace(xe,function(e,n,i,o){t.push(i?o.replace(Ne,"$1"):n||e)}),t}function fi(e){return e instanceof o?e.clone():new i(e.__wrapped__,e.__chain__,et(e.__actions__))}function pi(e,t,n){t=(n?Zn(e,t,n):null==t)?1:ka(_a(t)||1,1);for(var i=0,o=e?e.length:0,r=-1,a=Rr(va(o/t));o>i;)a[++r]=Wt(e,i,i+=t);return a}function hi(e){for(var t=-1,n=e?e.length:0,i=-1,o=[];++t<n;){var r=e[t];r&&(o[++i]=r)}return o}function vi(e,t,n){var i=e?e.length:0;return i?((n?Zn(e,t,n):null==t)&&(t=1),Wt(e,0>t?0:t)):[]}function gi(e,t,n){var i=e?e.length:0;return i?((n?Zn(e,t,n):null==t)&&(t=1),t=i-(+t||0),Wt(e,0,0>t?0:t)):[]}function _i(e,t,n){return e&&e.length?tn(e,Rn(t,n,3),!0,!0):[]}function bi(e,t,n){return e&&e.length?tn(e,Rn(t,n,3),!0):[]}function $i(e,t,n,i){var o=e?e.length:0;return o?(n&&"number"!=typeof n&&Zn(e,t,n)&&(n=0,i=o),At(e,t,n,i)):[]}function yi(e){return e?e[0]:I}function ki(e,t,n){var i=e?e.length:0;return n&&Zn(e,t,n)&&(t=!1),i?Mt(e,t):[]}function Ei(e){var t=e?e.length:0;return t?Mt(e,!0):[]}function wi(e,t,n){var i=e?e.length:0;if(!i)return-1;if("number"==typeof n)n=0>n?ka(i+n,0):n;else if(n){var o=on(e,t);return i>o&&(t===t?t===e[o]:e[o]!==e[o])?o:-1}return s(e,t,n||0)}function Ci(e){return gi(e,1)}function Ai(e){var t=e?e.length:0;return t?e[t-1]:I}function Ii(e,t,n){var i=e?e.length:0;if(!i)return-1;var o=i;if("number"==typeof n)o=(0>n?ka(i+n,0):Ea(n||0,i-1))+1;else if(n){o=on(e,t,!0)-1;var r=e[o];return(t===t?t===r:r!==r)?o:-1}if(t!==t)return _(e,o,!0);for(;o--;)if(e[o]===t)return o;return-1}function xi(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,i=Fn(),o=e.length;++n<o;)for(var r=0,a=e[n];(r=i(t,a,r))>-1;)fa.call(t,r,1);return t}function Mi(e,t,n){var i=[];if(!e||!e.length)return i;var o=-1,r=[],a=e.length;for(t=Rn(t,n,3);++o<a;){var s=e[o];t(s,o,e)&&(i.push(s),r.push(o))}return Gt(e,r),i}function Ti(e){return vi(e,1)}function Si(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Zn(e,t,n)&&(t=0,n=i),Wt(e,t,n)):[]}function Ni(e,t,n){var i=e?e.length:0;return i?((n?Zn(e,t,n):null==t)&&(t=1),Wt(e,0,0>t?0:t)):[]}function Di(e,t,n){var i=e?e.length:0;return i?((n?Zn(e,t,n):null==t)&&(t=1),t=i-(+t||0),Wt(e,0>t?0:t)):[]}function Oi(e,t,n){return e&&e.length?tn(e,Rn(t,n,3),!1,!0):[]}function Li(e,t,n){return e&&e.length?tn(e,Rn(t,n,3)):[]}function Hi(e,t,n,i){var o=e?e.length:0;if(!o)return[];null!=t&&"boolean"!=typeof t&&(i=n,n=Zn(e,t,i)?I:t,t=!1);var r=Rn();return(null!=n||r!==$t)&&(n=r(n,i,3)),t&&Fn()==s?k(e,n):Zt(e,n)}function Pi(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){return Jn(e)?(n=ka(e.length,n),!0):void 0});for(var i=Rr(n);++t<n;)i[t]=ct(e,Ft(t));return i}function qi(e,t,n){var i=e?e.length:0;if(!i)return[];var o=Pi(e);return null==t?o:(t=an(t,n,4),ct(o,function(e){return lt(e,t,I,!0)}))}function ji(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Jn(n))var i=i?ut(Et(i,n),Et(n,i)):n}return i?Zt(i):[]}function Bi(e,t){var n=-1,i=e?e.length:0,o={};for(!i||t||Ms(e[0])||(t=[]);++n<i;){var r=e[n];t?o[r]=t[n]:r&&(o[r[0]]=r[1])}return o}function Ri(e){var n=t(e);return n.__chain__=!0,n}function Ui(e,t,n){return t.call(n,e),e}function Fi(e,t,n){return t.call(n,e)}function Vi(){return Ri(this)}function Gi(){return new i(this.value(),this.__chain__)}function zi(e){for(var t,i=this;i instanceof n;){var o=fi(i);t?r.__wrapped__=o:t=o;var r=o;i=i.__wrapped__}return r.__wrapped__=e,t}function Yi(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof o){var n=e;return this.__actions__.length&&(n=new o(this)),n=n.reverse(),n.__actions__.push({func:Fi,args:[t],thisArg:I}),new i(n,this.__chain__)}return this.thru(t)}function Wi(){return this.value()+""}function Ki(){return nn(this.__wrapped__,this.__actions__)}function Xi(e,t,n){var i=Ms(e)?rt:wt;return n&&Zn(e,t,n)&&(t=I),("function"!=typeof t||n!==I)&&(t=Rn(t,n,3)),i(e,t)}function Ji(e,t,n){var i=Ms(e)?st:It;return t=Rn(t,n,3),i(e,t)}function Qi(e,t){return os(e,jt(t))}function Zi(e,t,n,i){var o=e?Ua(e):0;return ni(o)||(e=ar(e),o=e.length),n="number"!=typeof n||i&&Zn(t,n,i)?0:0>n?ka(o+n,0):n||0,"string"==typeof e||!Ms(e)&&Fo(e)?o>=n&&e.indexOf(t,n)>-1:!!o&&Fn(e,t,n)>-1}function eo(e,t,n){var i=Ms(e)?ct:qt;return t=Rn(t,n,3),i(e,t)}function to(e,t){return eo(e,Or(t))}function no(e,t,n){var i=Ms(e)?st:It;return t=Rn(t,n,3),i(e,function(e,n,i){return!t(e,n,i)})}function io(e,t,n){if(n?Zn(e,t,n):null==t){e=li(e);var i=e.length;return i>0?e[zt(0,i-1)]:I}var o=-1,r=Wo(e),i=r.length,a=i-1;for(t=Ea(0>t?0:+t||0,i);++o<t;){var s=zt(o,a),c=r[s];r[s]=r[o],r[o]=c}return r.length=t,r}function oo(e){return io(e,xa)}function ro(e){var t=e?Ua(e):0;return ni(t)?t:Bs(e).length}function ao(e,t,n){var i=Ms(e)?mt:Kt;return n&&Zn(e,t,n)&&(t=I),("function"!=typeof t||n!==I)&&(t=Rn(t,n,3)),i(e,t)}function so(e,t,n){if(null==e)return[];n&&Zn(e,t,n)&&(t=I);var i=-1;t=Rn(t,n,3);var o=qt(e,function(e,n,o){return{criteria:t(e,n,o),index:++i,value:e}});return Xt(o,m)}function co(e,t,n,i){return null==e?[]:(i&&Zn(t,n,i)&&(n=I),Ms(t)||(t=null==t?[]:[t]),Ms(n)||(n=null==n?[]:[n]),Jt(e,t,n))}function uo(e,t){return Ji(e,jt(t))}function lo(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Xr(G);var n=e;e=t,t=n}return e=$a(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function mo(e,t,n){return n&&Zn(e,t,n)&&(t=I),t=e&&null==t?e.length:ka(+t||0,0),Pn(e,H,I,I,I,I,t)}function fo(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Xr(G);var i=e;e=t,t=i}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=I),n}}function po(e,t,n){function i(){f&&sa(f),u&&sa(u),h=0,u=f=p=I}function o(t,n){n&&sa(n),u=f=p=I,t&&(h=hs(),l=e.apply(m,c),f||u||(c=m=I))}function r(){var e=t-(hs()-d);0>=e||e>t?o(p,u):f=ma(r,e)}function a(){o(g,f)}function s(){if(c=arguments,d=hs(),m=this,p=g&&(f||!_),v===!1)var n=_&&!f;else{u||_||(h=d);var i=v-(d-h),o=0>=i||i>v;o?(u&&(u=sa(u)),h=d,l=e.apply(m,c)):u||(u=ma(a,i))}return o&&f?f=sa(f):f||t===v||(f=ma(r,t)),n&&(o=!0,l=e.apply(m,c)),!o||f||u||(c=m=I),l}var c,u,l,d,m,f,p,h=0,v=!1,g=!0;if("function"!=typeof e)throw new Xr(G);if(t=0>t?0:+t||0,n===!0){var _=!0;g=!1}else Lo(n)&&(_=!!n.leading,v="maxWait"in n&&ka(+n.maxWait||0,t),g="trailing"in n?!!n.trailing:g);return s.cancel=i,s}function ho(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Xr(G);var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var a=e.apply(this,i);return n.cache=r.set(o,a),a};return n.cache=new ho.Cache,n}function vo(e){if("function"!=typeof e)throw new Xr(G);return function(){return!e.apply(this,arguments)}}function go(e){return fo(2,e)}function _o(e,t){if("function"!=typeof e)throw new Xr(G);return t=ka(t===I?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,o=ka(n.length-t,0),r=Rr(o);++i<o;)r[i]=n[t+i];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,n[0],r);case 2:return e.call(this,n[0],n[1],r)}var a=Rr(t+1);for(i=-1;++i<t;)a[i]=n[i];return a[t]=r,e.apply(this,a)}}function bo(e){if("function"!=typeof e)throw new Xr(G);return function(t){return e.apply(this,t)}}function $o(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new Xr(G);return n===!1?i=!1:Lo(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),po(e,t,{leading:i,maxWait:+t,trailing:o})}function yo(e,t){return t=null==t?xr:t,Pn(t,O,I,[e],[])}function ko(e,t,n,i){return t&&"boolean"!=typeof t&&Zn(e,t,n)?t=!1:"function"==typeof t&&(i=n,n=t,t=!1),"function"==typeof n?yt(e,t,an(n,i,1)):yt(e,t)}function Eo(e,t,n){return"function"==typeof t?yt(e,!0,an(t,n,1)):yt(e,!0)}function wo(e,t){return e>t}function Co(e,t){return e>=t}function Ao(e){return b(e)&&Jn(e)&&ta.call(e,"callee")&&!la.call(e,"callee")}function Io(e){return e===!0||e===!1||b(e)&&ia.call(e)==K}function xo(e){return b(e)&&ia.call(e)==X}function Mo(e){return!!e&&1===e.nodeType&&b(e)&&!Ro(e)}function To(e){return null==e?!0:Jn(e)&&(Ms(e)||Fo(e)||Ao(e)||b(e)&&Oo(e.splice))?!e.length:!Bs(e).length}function So(e,t,n,i){n="function"==typeof n?an(n,i,3):I;var o=n?n(e,t):I;return o===I?Lt(e,t,n):!!o}function No(e){return b(e)&&"string"==typeof e.message&&ia.call(e)==J}function Do(e){return"number"==typeof e&&$a(e)}function Oo(e){return Lo(e)&&ia.call(e)==Q}function Lo(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ho(e,t,n,i){return n="function"==typeof n?an(n,i,3):I,Pt(e,Vn(t),n)}function Po(e){return Bo(e)&&e!=+e}function qo(e){return null==e?!1:Oo(e)?ra.test(ea.call(e)):b(e)&&He.test(e)}function jo(e){return null===e}function Bo(e){return"number"==typeof e||b(e)&&ia.call(e)==ee}function Ro(e){var t;if(!b(e)||ia.call(e)!=te||Ao(e)||!ta.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return Tt(e,function(e,t){n=t}),n===I||ta.call(e,n)}function Uo(e){return Lo(e)&&ia.call(e)==ne}function Fo(e){return"string"==typeof e||b(e)&&ia.call(e)==oe}function Vo(e){return b(e)&&ni(e.length)&&!!Ve[ia.call(e)]}function Go(e){return e===I}function zo(e,t){return t>e}function Yo(e,t){return t>=e}function Wo(e){var t=e?Ua(e):0;return ni(t)?t?et(e):[]:ar(e)}function Ko(e){return bt(e,tr(e))}function Xo(e,t,n){var i=La(e);return n&&Zn(e,t,n)&&(t=I),t?gt(i,t):i}function Jo(e){return Dt(e,tr(e))}function Qo(e,t,n){var i=null==e?I:Ot(e,mi(t),t+"");return i===I?n:i}function Zo(e,t){if(null==e)return!1;var n=ta.call(e,t);if(!n&&!ei(t)){if(t=mi(t),e=1==t.length?e:Ot(e,Wt(t,0,-1)),null==e)return!1;t=Ai(t),n=ta.call(e,t)}return n||ni(e.length)&&Qn(t,e.length)&&(Ms(e)||Ao(e))}function er(e,t,n){n&&Zn(e,t,n)&&(t=I);for(var i=-1,o=Bs(e),r=o.length,a={};++i<r;){var s=o[i],c=e[s];t?ta.call(a,c)?a[c].push(s):a[c]=[s]:a[c]=s}return a}function tr(e){if(null==e)return[];Lo(e)||(e=Yr(e));var t=e.length;t=t&&ni(t)&&(Ms(e)||Ao(e))&&t||0;for(var n=e.constructor,i=-1,o="function"==typeof n&&n.prototype===e,r=Rr(t),a=t>0;++i<t;)r[i]=i+"";for(var s in e)a&&Qn(s,t)||"constructor"==s&&(o||!ta.call(e,s))||r.push(s);return r}function nr(e){e=di(e);for(var t=-1,n=Bs(e),i=n.length,o=Rr(i);++t<i;){var r=n[t];o[t]=[r,e[r]]}return o}function ir(e,t,n){var i=null==e?I:e[t];return i===I&&(null==e||ei(t,e)||(t=mi(t),e=1==t.length?e:Ot(e,Wt(t,0,-1)),i=null==e?I:e[Ai(t)]),i=i===I?n:i),Oo(i)?i.call(e):i}function or(e,t,n){if(null==e)return e;var i=t+"";t=null!=e[i]||ei(t,e)?[i]:mi(t);for(var o=-1,r=t.length,a=r-1,s=e;null!=s&&++o<r;){var c=t[o];Lo(s)&&(o==a?s[c]=n:null==s[c]&&(s[c]=Qn(t[o+1])?[]:{})),s=s[c]}return e}function rr(e,t,n,i){var o=Ms(e)||Vo(e);if(t=Rn(t,i,4),null==n)if(o||Lo(e)){var r=e.constructor;n=o?Ms(e)?new r:[]:La(Oo(r)?r.prototype:I)}else n={};return(o?tt:St)(e,function(e,i,o){return t(n,e,i,o)}),n}function ar(e){return en(e,Bs(e))}function sr(e){return en(e,tr(e))}function cr(e,t,n){return t=+t||0,n===I?(n=t,t=0):n=+n||0,e>=Ea(t,n)&&e<ka(t,n)}function ur(e,t,n){n&&Zn(e,t,n)&&(t=n=I);var i=null==e,o=null==t;if(null==n&&(o&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,o=!0)),i&&o&&(t=1,o=!1),e=+e||0,o?(t=e,e=0):t=+t||0,n||e%1||t%1){var r=Aa();return Ea(e+r*(t-e+ca("1e-"+((r+"").length-1))),t)}return zt(e,t)}function lr(e){return e=u(e),
e&&e.charAt(0).toUpperCase()+e.slice(1)}function dr(e){return e=u(e),e&&e.replace(qe,p).replace(Se,"")}function mr(e,t,n){e=u(e),t+="";var i=e.length;return n=n===I?i:Ea(0>n?0:+n||0,i),n-=t.length,n>=0&&e.indexOf(t,n)==n}function fr(e){return e=u(e),e&&ke.test(e)?e.replace($e,h):e}function pr(e){return e=u(e),e&&Te.test(e)?e.replace(Me,v):e||"(?:)"}function hr(e,t,n){e=u(e),t=+t;var i=e.length;if(i>=t||!$a(t))return e;var o=(t-i)/2,r=_a(o),a=va(o);return n=Dn("",a,n),n.slice(0,r)+e+n}function vr(e,t,n){return(n?Zn(e,t,n):null==t)?t=0:t&&(t=+t),e=$r(e),Ca(e,t||(Le.test(e)?16:10))}function gr(e,t){var n="";if(e=u(e),t=+t,1>t||!e||!$a(t))return n;do t%2&&(n+=e),t=_a(t/2),e+=e;while(t);return n}function _r(e,t,n){return e=u(e),n=null==n?0:Ea(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function br(e,n,i){var o=t.templateSettings;i&&Zn(e,n,i)&&(n=i=I),e=u(e),n=vt(gt({},i||n),o,ht);var r,a,s=vt(gt({},n.imports),o.imports,ht),c=Bs(s),l=en(s,c),d=0,m=n.interpolate||je,f="__p += '",p=Wr((n.escape||je).source+"|"+m.source+"|"+(m===Ce?De:je).source+"|"+(n.evaluate||je).source+"|$","g"),h="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(p,function(t,n,i,o,s,c){return i||(i=o),f+=e.slice(d,c).replace(Be,g),n&&(r=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),d=c+t.length,t}),f+="';\n";var v=n.variable;v||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(ve,""):f).replace(ge,"$1").replace(_e,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var _=Js(function(){return Vr(c,h+"return "+f).apply(I,l)});if(_.source=f,No(_))throw _;return _}function $r(e,t,n){var i=e;return(e=u(e))?(n?Zn(i,t,n):null==t)?e.slice(E(e),w(e)+1):(t+="",e.slice(l(e,t),d(e,t)+1)):e}function yr(e,t,n){var i=e;return e=u(e),e?(n?Zn(i,t,n):null==t)?e.slice(E(e)):e.slice(l(e,t+"")):e}function kr(e,t,n){var i=e;return e=u(e),e?(n?Zn(i,t,n):null==t)?e.slice(0,w(e)+1):e.slice(0,d(e,t+"")+1):e}function Er(e,t,n){n&&Zn(e,t,n)&&(t=I);var i=q,o=j;if(null!=t)if(Lo(t)){var r="separator"in t?t.separator:r;i="length"in t?+t.length||0:i,o="omission"in t?u(t.omission):o}else i=+t||0;if(e=u(e),i>=e.length)return e;var a=i-o.length;if(1>a)return o;var s=e.slice(0,a);if(null==r)return s+o;if(Uo(r)){if(e.slice(a).search(r)){var c,l,d=e.slice(0,a);for(r.global||(r=Wr(r.source,(Oe.exec(r)||"")+"g")),r.lastIndex=0;c=r.exec(d);)l=c.index;s=s.slice(0,null==l?a:l)}}else if(e.indexOf(r,a)!=a){var m=s.lastIndexOf(r);m>-1&&(s=s.slice(0,m))}return s+o}function wr(e){return e=u(e),e&&ye.test(e)?e.replace(be,C):e}function Cr(e,t,n){return n&&Zn(e,t,n)&&(t=I),e=u(e),e.match(t||Re)||[]}function Ar(e,t,n){return n&&Zn(e,t,n)&&(t=I),b(e)?Mr(e):$t(e,t)}function Ir(e){return function(){return e}}function xr(e){return e}function Mr(e){return jt(yt(e,!0))}function Tr(e,t){return Bt(e,yt(t,!0))}function Sr(e,t,n){if(null==n){var i=Lo(t),o=i?Bs(t):I,r=o&&o.length?Dt(t,o):I;(r?r.length:i)||(r=!1,n=t,t=e,e=this)}r||(r=Dt(t,Bs(t)));var a=!0,s=-1,c=Oo(e),u=r.length;n===!1?a=!1:Lo(n)&&"chain"in n&&(a=n.chain);for(;++s<u;){var l=r[s],d=t[l];e[l]=d,c&&(e.prototype[l]=function(t){return function(){var n=this.__chain__;if(a||n){var i=e(this.__wrapped__),o=i.__actions__=et(this.__actions__);return o.push({func:t,args:arguments,thisArg:e}),i.__chain__=n,i}return t.apply(e,ut([this.value()],arguments))}}(d))}return e}function Nr(){return it._=oa,this}function Dr(){}function Or(e){return ei(e)?Ft(e):Vt(e)}function Lr(e){return function(t){return Ot(e,mi(t),t+"")}}function Hr(e,t,n){n&&Zn(e,t,n)&&(t=n=I),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var i=-1,o=ka(va((t-e)/(n||1)),0),r=Rr(o);++i<o;)r[i]=e,e+=n;return r}function Pr(e,t,n){if(e=_a(e),1>e||!$a(e))return[];var i=-1,o=Rr(Ea(e,Ma));for(t=an(t,n,1);++i<e;)Ma>i?o[i]=t(i):t(i);return o}function qr(e){var t=++na;return u(e)+t}function jr(e,t){return(+e||0)+(+t||0)}function Br(e,t,n){return n&&Zn(e,t,n)&&(t=I),t=Rn(t,n,3),1==t.length?ft(Ms(e)?e:li(e),t):Qt(e,t)}e=e?ot.defaults(it.Object(),e,ot.pick(it,Ue)):it;var Rr=e.Array,Ur=e.Date,Fr=e.Error,Vr=e.Function,Gr=e.Math,zr=e.Number,Yr=e.Object,Wr=e.RegExp,Kr=e.String,Xr=e.TypeError,Jr=Rr.prototype,Qr=Yr.prototype,Zr=Kr.prototype,ea=Vr.prototype.toString,ta=Qr.hasOwnProperty,na=0,ia=Qr.toString,oa=it._,ra=Wr("^"+ea.call(ta).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=e.ArrayBuffer,sa=e.clearTimeout,ca=e.parseFloat,ua=Gr.pow,la=Qr.propertyIsEnumerable,da=Gn(e,"Set"),ma=e.setTimeout,fa=Jr.splice,pa=e.Uint8Array,ha=Gn(e,"WeakMap"),va=Gr.ceil,ga=Gn(Yr,"create"),_a=Gr.floor,ba=Gn(Rr,"isArray"),$a=e.isFinite,ya=Gn(Yr,"keys"),ka=Gr.max,Ea=Gr.min,wa=Gn(Ur,"now"),Ca=e.parseInt,Aa=Gr.random,Ia=zr.NEGATIVE_INFINITY,xa=zr.POSITIVE_INFINITY,Ma=4294967295,Ta=Ma-1,Sa=Ma>>>1,Na=9007199254740991,Da=ha&&new ha,Oa={};t.support={};t.templateSettings={escape:Ee,evaluate:we,interpolate:Ce,variable:"",imports:{_:t}};var La=function(){function e(){}return function(t){if(Lo(t)){e.prototype=t;var n=new e;e.prototype=I}return n||{}}}(),Ha=mn(St),Pa=mn(Nt,!0),qa=fn(),ja=fn(!0),Ba=Da?function(e,t){return Da.set(e,t),e}:xr,Ra=Da?function(e){return Da.get(e)}:Dr,Ua=Ft("length"),Fa=function(){var e=0,t=0;return function(n,i){var o=hs(),r=R-(o-t);if(t=o,r>0){if(++e>=B)return n}else e=0;return Ba(n,i)}}(),Va=_o(function(e,t){return b(e)&&Jn(e)?Et(e,Mt(t,!1,!0)):[]}),Ga=kn(),za=kn(!0),Ya=_o(function(e){for(var t=e.length,n=t,i=Rr(d),o=Fn(),r=o==s,a=[];n--;){var c=e[n]=Jn(c=e[n])?c:[];i[n]=r&&c.length>=120?hn(n&&c):null}var u=e[0],l=-1,d=u?u.length:0,m=i[0];e:for(;++l<d;)if(c=u[l],(m?Je(m,c):o(a,c,0))<0){for(var n=t;--n;){var f=i[n];if((f?Je(f,c):o(e[n],c,0))<0)continue e}m&&m.push(c),a.push(c)}return a}),Wa=_o(function(e,t){t=Mt(t);var n=_t(e,t);return Gt(e,t.sort(r)),n}),Ka=Hn(),Xa=Hn(!0),Ja=_o(function(e){return Zt(Mt(e,!1,!0))}),Qa=_o(function(e,t){return Jn(e)?Et(e,t):[]}),Za=_o(Pi),es=_o(function(e){var t=e.length,n=t>2?e[t-2]:I,i=t>1?e[t-1]:I;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof i?(--t,i):I,i=I),e.length=t,qi(e,n,i)}),ts=_o(function(e){return e=Mt(e),this.thru(function(t){return Ze(Ms(t)?t:[di(t)],e)})}),ns=_o(function(e,t){return _t(e,Mt(t))}),is=ln(function(e,t,n){ta.call(e,n)?++e[n]:e[n]=1}),os=yn(Ha),rs=yn(Pa,!0),as=Cn(tt,Ha),ss=Cn(nt,Pa),cs=ln(function(e,t,n){ta.call(e,n)?e[n].push(t):e[n]=[t]}),us=ln(function(e,t,n){e[n]=t}),ls=_o(function(e,t,n){var i=-1,o="function"==typeof t,r=ei(t),a=Jn(e)?Rr(e.length):[];return Ha(e,function(e){var s=o?t:r&&null!=e?e[t]:I;a[++i]=s?s.apply(e,n):Xn(e,t,n)}),a}),ds=ln(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ms=Sn(lt,Ha),fs=Sn(dt,Pa),ps=_o(function(e,t){if(null==e)return[];var n=t[2];return n&&Zn(t[0],t[1],n)&&(t.length=1),Jt(e,Mt(t),[])}),hs=wa||function(){return(new Ur).getTime()},vs=_o(function(e,t,n){var i=M;if(n.length){var o=y(n,vs.placeholder);i|=O}return Pn(e,i,t,n,o)}),gs=_o(function(e,t){t=t.length?Mt(t):Jo(e);for(var n=-1,i=t.length;++n<i;){var o=t[n];e[o]=Pn(e[o],M,e)}return e}),_s=_o(function(e,t,n){var i=M|T;if(n.length){var o=y(n,_s.placeholder);i|=O}return Pn(t,i,e,n,o)}),bs=_n(N),$s=_n(D),ys=_o(function(e,t){return kt(e,1,t)}),ks=_o(function(e,t,n){return kt(e,t,n)}),Es=wn(),ws=wn(!0),Cs=_o(function(e,t){if(t=Mt(t),"function"!=typeof e||!rt(t,c))throw new Xr(G);var n=t.length;return _o(function(i){for(var o=Ea(i.length,n);o--;)i[o]=t[o](i[o]);return e.apply(this,i)})}),As=Tn(O),Is=Tn(L),xs=_o(function(e,t){return Pn(e,P,I,I,I,Mt(t))}),Ms=ba||function(e){return b(e)&&ni(e.length)&&ia.call(e)==W},Ts=dn(Rt),Ss=dn(function(e,t,n){return n?vt(e,t,n):gt(e,t)}),Ns=bn(Ss,pt),Ds=bn(Ts,ri),Os=En(St),Ls=En(Nt),Hs=An(qa),Ps=An(ja),qs=In(St),js=In(Nt),Bs=ya?function(e){var t=null==e?I:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Jn(e)?ui(e):Lo(e)?ya(e):[]}:ui,Rs=xn(!0),Us=xn(),Fs=_o(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ct(Mt(t),Kr);return ai(e,Et(tr(e),t))}var n=an(t[0],t[1],3);return si(e,function(e,t,i){return!n(e,t,i)})}),Vs=_o(function(e,t){return null==e?{}:"function"==typeof t[0]?si(e,an(t[0],t[1],3)):ai(e,Mt(t))}),Gs=vn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),zs=vn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ys=Mn(),Ws=Mn(!0),Ks=vn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Xs=vn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Js=_o(function(e,t){try{return e.apply(I,t)}catch(n){return No(n)?n:new Fr(n)}}),Qs=_o(function(e,t){return function(n){return Xn(n,e,t)}}),Zs=_o(function(e,t){return function(n){return Xn(e,n,t)}}),ec=Ln("ceil"),tc=Ln("floor"),nc=$n(wo,Ia),ic=$n(zo,xa),oc=Ln("round");return t.prototype=n.prototype,i.prototype=La(n.prototype),i.prototype.constructor=i,o.prototype=La(n.prototype),o.prototype.constructor=o,re.prototype["delete"]=ze,re.prototype.get=Ye,re.prototype.has=We,re.prototype.set=Ke,Xe.prototype.push=Qe,ho.Cache=re,t.after=lo,t.ary=mo,t.assign=Ss,t.at=ns,t.before=fo,t.bind=vs,t.bindAll=gs,t.bindKey=_s,t.callback=Ar,t.chain=Ri,t.chunk=pi,t.compact=hi,t.constant=Ir,t.countBy=is,t.create=Xo,t.curry=bs,t.curryRight=$s,t.debounce=po,t.defaults=Ns,t.defaultsDeep=Ds,t.defer=ys,t.delay=ks,t.difference=Va,t.drop=vi,t.dropRight=gi,t.dropRightWhile=_i,t.dropWhile=bi,t.fill=$i,t.filter=Ji,t.flatten=ki,t.flattenDeep=Ei,t.flow=Es,t.flowRight=ws,t.forEach=as,t.forEachRight=ss,t.forIn=Hs,t.forInRight=Ps,t.forOwn=qs,t.forOwnRight=js,t.functions=Jo,t.groupBy=cs,t.indexBy=us,t.initial=Ci,t.intersection=Ya,t.invert=er,t.invoke=ls,t.keys=Bs,t.keysIn=tr,t.map=eo,t.mapKeys=Rs,t.mapValues=Us,t.matches=Mr,t.matchesProperty=Tr,t.memoize=ho,t.merge=Ts,t.method=Qs,t.methodOf=Zs,t.mixin=Sr,t.modArgs=Cs,t.negate=vo,t.omit=Fs,t.once=go,t.pairs=nr,t.partial=As,t.partialRight=Is,t.partition=ds,t.pick=Vs,t.pluck=to,t.property=Or,t.propertyOf=Lr,t.pull=xi,t.pullAt=Wa,t.range=Hr,t.rearg=xs,t.reject=no,t.remove=Mi,t.rest=Ti,t.restParam=_o,t.set=or,t.shuffle=oo,t.slice=Si,t.sortBy=so,t.sortByAll=ps,t.sortByOrder=co,t.spread=bo,t.take=Ni,t.takeRight=Di,t.takeRightWhile=Oi,t.takeWhile=Li,t.tap=Ui,t.throttle=$o,t.thru=Fi,t.times=Pr,t.toArray=Wo,t.toPlainObject=Ko,t.transform=rr,t.union=Ja,t.uniq=Hi,t.unzip=Pi,t.unzipWith=qi,t.values=ar,t.valuesIn=sr,t.where=uo,t.without=Qa,t.wrap=yo,t.xor=ji,t.zip=Za,t.zipObject=Bi,t.zipWith=es,t.backflow=ws,t.collect=eo,t.compose=ws,t.each=as,t.eachRight=ss,t.extend=Ss,t.iteratee=Ar,t.methods=Jo,t.object=Bi,t.select=Ji,t.tail=Ti,t.unique=Hi,Sr(t,t),t.add=jr,t.attempt=Js,t.camelCase=Gs,t.capitalize=lr,t.ceil=ec,t.clone=ko,t.cloneDeep=Eo,t.deburr=dr,t.endsWith=mr,t.escape=fr,t.escapeRegExp=pr,t.every=Xi,t.find=os,t.findIndex=Ga,t.findKey=Os,t.findLast=rs,t.findLastIndex=za,t.findLastKey=Ls,t.findWhere=Qi,t.first=yi,t.floor=tc,t.get=Qo,t.gt=wo,t.gte=Co,t.has=Zo,t.identity=xr,t.includes=Zi,t.indexOf=wi,t.inRange=cr,t.isArguments=Ao,t.isArray=Ms,t.isBoolean=Io,t.isDate=xo,t.isElement=Mo,t.isEmpty=To,t.isEqual=So,t.isError=No,t.isFinite=Do,t.isFunction=Oo,t.isMatch=Ho,t.isNaN=Po,t.isNative=qo,t.isNull=jo,t.isNumber=Bo,t.isObject=Lo,t.isPlainObject=Ro,t.isRegExp=Uo,t.isString=Fo,t.isTypedArray=Vo,t.isUndefined=Go,t.kebabCase=zs,t.last=Ai,t.lastIndexOf=Ii,t.lt=zo,t.lte=Yo,t.max=nc,t.min=ic,t.noConflict=Nr,t.noop=Dr,t.now=hs,t.pad=hr,t.padLeft=Ys,t.padRight=Ws,t.parseInt=vr,t.random=ur,t.reduce=ms,t.reduceRight=fs,t.repeat=gr,t.result=ir,t.round=oc,t.runInContext=A,t.size=ro,t.snakeCase=Ks,t.some=ao,t.sortedIndex=Ka,t.sortedLastIndex=Xa,t.startCase=Xs,t.startsWith=_r,t.sum=Br,t.template=br,t.trim=$r,t.trimLeft=yr,t.trimRight=kr,t.trunc=Er,t.unescape=wr,t.uniqueId=qr,t.words=Cr,t.all=Xi,t.any=ao,t.contains=Zi,t.eq=So,t.detect=os,t.foldl=ms,t.foldr=fs,t.head=yi,t.include=Zi,t.inject=ms,Sr(t,function(){var e={};return St(t,function(n,i){t.prototype[i]||(e[i]=n)}),e}(),!1),t.sample=io,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return io(t,e)}):io(this.value())},t.VERSION=x,tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),tt(["drop","take"],function(e,t){o.prototype[e]=function(n){var i=this.__filtered__;if(i&&!t)return new o(this);n=null==n?1:ka(_a(n)||0,0);var r=this.clone();return i?r.__takeCount__=Ea(r.__takeCount__,n):r.__views__.push({size:n,type:e+(r.__dir__<0?"Right":"")}),r},o.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tt(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n!=V;o.prototype[e]=function(e,t){var o=this.clone();return o.__iteratees__.push({iteratee:Rn(e,t,1),type:n}),o.__filtered__=o.__filtered__||i,o}}),tt(["first","last"],function(e,t){var n="take"+(t?"Right":"");o.prototype[e]=function(){return this[n](1).value()[0]}}),tt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");o.prototype[e]=function(){return this.__filtered__?new o(this):this[n](1)}}),tt(["pluck","where"],function(e,t){var n=t?"filter":"map",i=t?jt:Or;o.prototype[e]=function(e){return this[n](i(e))}}),o.prototype.compact=function(){return this.filter(xr)},o.prototype.reject=function(e,t){return e=Rn(e,t,1),this.filter(function(t){return!e(t)})},o.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new o(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==I&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},o.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},o.prototype.toArray=function(){return this.take(xa)},St(o.prototype,function(e,n){var r=/^(?:filter|map|reject)|While$/.test(n),a=/^(?:first|last)$/.test(n),s=t[a?"take"+("last"==n?"Right":""):n];s&&(t.prototype[n]=function(){var t=a?[1]:arguments,n=this.__chain__,c=this.__wrapped__,u=!!this.__actions__.length,l=c instanceof o,d=t[0],m=l||Ms(c);m&&r&&"function"==typeof d&&1!=d.length&&(l=m=!1);var f=function(e){return a&&n?s(e,1)[0]:s.apply(I,ut([e],t))},p={func:Fi,args:[f],thisArg:I},h=l&&!u;if(a&&!n)return h?(c=c.clone(),c.__actions__.push(p),e.call(c)):s.call(I,this.value())[0];if(!a&&m){c=h?c:new o(this);var v=e.apply(c,t);return v.__actions__.push(p),new i(v,n)}return this.thru(f)})}),tt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?Zr:Jr)[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return o&&!this.__chain__?n.apply(this.value(),e):this[i](function(t){return n.apply(t,e)})}}),St(o.prototype,function(e,n){var i=t[n];if(i){var o=i.name,r=Oa[o]||(Oa[o]=[]);r.push({name:n,func:i})}}),Oa[Nn(I,T).name]=[{name:"wrapper",func:I}],o.prototype.clone=$,o.prototype.reverse=Z,o.prototype.value=ie,t.prototype.chain=Vi,t.prototype.commit=Gi,t.prototype.concat=ts,t.prototype.plant=zi,t.prototype.reverse=Yi,t.prototype.toString=Wi,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Ki,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var I,x="3.10.1",M=1,T=2,S=4,N=8,D=16,O=32,L=64,H=128,P=256,q=30,j="...",B=150,R=16,U=200,F=1,V=2,G="Expected a function",z="__lodash_placeholder__",Y="[object Arguments]",W="[object Array]",K="[object Boolean]",X="[object Date]",J="[object Error]",Q="[object Function]",Z="[object Map]",ee="[object Number]",te="[object Object]",ne="[object RegExp]",ie="[object Set]",oe="[object String]",re="[object WeakMap]",ae="[object ArrayBuffer]",se="[object Float32Array]",ce="[object Float64Array]",ue="[object Int8Array]",le="[object Int16Array]",de="[object Int32Array]",me="[object Uint8Array]",fe="[object Uint8ClampedArray]",pe="[object Uint16Array]",he="[object Uint32Array]",ve=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,_e=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39|#96);/g,$e=/[&<>"'`]/g,ye=RegExp(be.source),ke=RegExp($e.source),Ee=/<%-([\s\S]+?)%>/g,we=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,Ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ie=/^\w*$/,xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Me=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Te=RegExp(Me.source),Se=/[\u0300-\u036f\ufe20-\ufe23]/g,Ne=/\\(\\)?/g,De=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Oe=/\w*$/,Le=/^0[xX]/,He=/^\[object .+?Constructor\]$/,Pe=/^\d+$/,qe=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,je=/($^)/,Be=/['\n\r\u2028\u2029\\]/g,Re=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Ue=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Fe=-1,Ve={};Ve[se]=Ve[ce]=Ve[ue]=Ve[le]=Ve[de]=Ve[me]=Ve[fe]=Ve[pe]=Ve[he]=!0,Ve[Y]=Ve[W]=Ve[ae]=Ve[K]=Ve[X]=Ve[J]=Ve[Q]=Ve[Z]=Ve[ee]=Ve[te]=Ve[ne]=Ve[ie]=Ve[oe]=Ve[re]=!1;var Ge={};Ge[Y]=Ge[W]=Ge[ae]=Ge[K]=Ge[X]=Ge[se]=Ge[ce]=Ge[ue]=Ge[le]=Ge[de]=Ge[ee]=Ge[te]=Ge[ne]=Ge[oe]=Ge[me]=Ge[fe]=Ge[pe]=Ge[he]=!0,Ge[J]=Ge[Q]=Ge[Z]=Ge[ie]=Ge[re]=!1;var ze={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Ye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},We={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ke={"function":!0,object:!0},Xe={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Je={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qe=Ke[typeof t]&&t&&!t.nodeType&&t,Ze=Ke[typeof e]&&e&&!e.nodeType&&e,et=Qe&&Ze&&"object"==typeof o&&o&&o.Object&&o,tt=Ke[typeof self]&&self&&self.Object&&self,nt=Ke[typeof window]&&window&&window.Object&&window,it=(Ze&&Ze.exports===Qe&&Qe,et||nt!==(this&&this.window)&&nt||tt||this),ot=A();it._=ot,i=function(){return ot}.call(t,n,t,e),!(i!==I&&(e.exports=i))}).call(this)}).call(t,n(20)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){},,,,21,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t){t.interceptors.push("peachInterceptorAPI"),e.when("/intro",{name:"Intro",position:0,template:n(40),controller:"IntroController",controllerAs:"intro",is_welcome_page:!0}).when("/main",{name:"Main",position:1,template:n(41),controller:"MainController",controllerAs:"main"}).when("/settings/setup",{name:"Setup",position:0,template:n(42),controller:"SetupController",controllerAs:"setup",is_settings_page:!0}).otherwise({redirectTo:"/intro"})}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$routeProvider","$httpProvider"],t["default"]=i},function(e,t){e.exports='<style>\n\n#page_frame peach-card-header {\n    padding: 15px 20px;\n}\n\n#page_frame .empty-progress {\n    margin-bottom: 20px;\n}\n\n#page_frame md-progress-linear {\n    height: 0;\n}\n\n#page_frame md-progress-linear:not([md-mode="indeterminate"]) .md-container {\n    height: 20px;\n    background-color: #e5e5e5;\n}\n\n#page_frame md-progress-linear .md-bar {\n    background-color: #8bc658;\n    height: 20px !important;\n}\n\n#page_frame .hide-intro-page {\n    margin: -10px 8px;\n    line-height: 12px;\n}\n\n#page_frame .completed {\n    color: #a3a3a3 !important;\n}\n\n#page_frame .completed img {\n    opacity: 0.3;\n}\n\n#page_frame .icon-caret {\n    display: none;\n}\n\n#page_frame .hint-text {\n    font-size: 13px;\n    font-weight: regular;\n    color: #a7a9ac;\n    margin-bottom: 10px;\n}\n\n#page_frame .md-input-has-value {\n    margin-top: 20px;\n}\n\n#page_frame div.intro-step {\n    padding: 20px;\n}\n\n#page_frame div.intro-step img {\n    width: 50px;\n}\n\n#page_frame div.intro-step ul {\n    margin-top: 0;\n    padding-left: 40px;\n}\n\n#page_frame div.intro-step ul li {\n    line-height: 32px;\n}\n\n#page_frame div.intro-step p {\n    margin-top: 0;\n}\n\n#page_frame div.intro-step.step1 ul {\n    margin-bottom: 0;\n}\n\n#page_frame div.step-actions {\n    margin-left: 20px;\n}\n\n#page_frame div.step-completed-checkmark {\n    background-image: url("/assets/img/icons/green_check_tab.png");\n    height: 23px;\n    margin-top: -15px;\n    width: 44px;\n}\n\n#page_frame div.progress-bar-value {\n    position: relative;\n    color: #ffffff;\n    text-align: center;\n}\n\n#page_frame div.step-actions md-input-container {\n    padding-bottom: 0px;\n}\n\n#page_frame div.step-actions a, div.step-actions button {\n    margin: 0 8px;\n}\n\n#page_frame div.setup-location {\n    margin: 15px 10px 0;\n}\n\n#page_frame div.advanced-step-text {\n    margin-left: 30px;\n}\n\n@media screen and (max-width: 1024px){\n    #page_frame div.intro-step div:nth-child(1) {\n        margin-right: 20px;\n    }\n}\n\n/* Fix for global style change */\npeach-card.completed peach-card-header h4 {\n    color: #a3a3a3 !important;\n}\n\n</style>\n\n<md-content>\n\n    <peach-card>\n    \n        <peach-card-header title="Welcome to Cake">\n            <span flex></span>\n            <section layout-align="top">\n                <md-button class="md-primary hide-intro-page" ng-disabled="blockers.api_processing" title="Hide Intro Page" aria-label="Hide Intro Page" ng-click="hideIntroPage();">\n                    Hide Intro Page\n                </md-button>\n            </section>\n        </peach-card-header>\n    \n        <peach-card-content>\n    \n            <div class="intro-step">\n    \n                <p>Cake is the Self-Service app you\'ve been waiting for. No one will admit that inventory is fun, but Cake will walk you through five easy steps below to get you setup counting and receiving inventory before you know it. Cake will keep track of your progress so you\'ll know where to go next.</p>\n                <p class="hint-text" ng-if="introCompletion < 100">Progress</p>\n                <md-progress-linear md-mode="determinate" value="{{introCompletion}}" ng-if="introCompletion < 100" ng-class="{\'empty-progress\': introCompletion === 0}"></md-progress-linear>\n                <div class="progress-bar-value" ng-if="0 <= introCompletion && introCompletion < 100" style="width: {{introCompletion}}%;">{{introCompletion}}%</div>\n    \n                <peach-message ng-if="introCompletion === 100" type="info">\n                    Congratulations, you\'ve completed your first steps to being an inventory wizard!\n                </peach-message>\n                \n            </div>    \n                \n        </peach-card-content>\n    \n    </peach-card>\n    \n    <peach-card can-collapse="true" is-open="{{!stepsCompletion[1]}}" ng-class="{\'completed\': stepsCompletion[1]}">\n    \n        <peach-card-header>\n            <h4>{{stepOneTitle}}</h4>\n            <span flex></span>\n            <section layout-align="top">\n                <div class="step-completed-checkmark" ng-show="stepsCompletion[1]"></div>\n            </section>    \n        </peach-card-header>\n    \n        <peach-card-content>\n    \n            <div layout="row" class="intro-step step1">\n    \n                <div>\n                    <img class="pull-left" src="/assets/img/cake/location_2x.png">\n                </div>\n    \n                <div>\n                    <ul>\n                        <li>Pick the location where you would like to start inventory.</li>\n                        <li>Different stores may have different items, costs and units; starting with just one location makes setup quicker and easier.</li>\n                        <li>Once your first location is setup you\'ll easily be able to copy your setup to any additional locations.</li>\n                    </ul>\n    \n                    <div layout="row" class="step-actions">\n                    \n                        <div flex="20">\n                            <md-input-container flex ng-class="{\'md-input-has-value\': selectedLocationId.length > 0}">\n                                <label ng-show="!selectedLocationId">Select Location</label>\n                                <md-select name="location"\n                                           ng-model="selectedLocationId"\n                                           ng-disabled="stepsCompletion[1]"\n                                           required\n                                           aria-label="Locations">\n                                    <md-option ng-repeat="location in accountLocations" value="{{location.id}}">{{location.name}}</md-option>\n                                </md-select>\n                            </md-input-container>\n                        </div>    \n                        \n                        <div flex="20" class="setup-location">\n                            <md-button class="md-raised md-primary" ng-click="setupLocation(selectedLocationId);" ng-disabled="blockers.api_processing || !selectedLocationId || stepsCompletion[1]" title="Setup Location" aria-label="Setup Location">\n                                Setup Location\n                            </md-button>\n                        </div>\n                        \n                    </div> \n                    \n                </div>\n    \n            </div>\n    \n        </peach-card-content>\n    \n    </peach-card>\n    \n    <peach-card can-collapse="true" is-open="{{!stepsCompletion[2]}}" ng-class="{\'completed\': stepsCompletion[2] || !stepsCompletion[1]}">\n    \n        <peach-card-header title="Step Two: Add your First Vendor">\n            <span flex></span>\n            <section layout-align="top">\n                <div class="step-completed-checkmark" ng-show="stepsCompletion[2]"></div>\n            </section>    \n        </peach-card-header>\n    \n        <peach-card-content>\n    \n            <div layout="row" class="intro-step step2">\n    \n                <div>\n                    <img class="pull-left" src="/assets/img/cake/vendors_2x.png">\n                </div>\n\n                <div>\n                    <ul>\n                        <li>Vendors are the people or businesses you buy products from.</li>\n                        <li>Cake gives you the flexibility to buy an item from multiple vendors in different units.</li>\n                        <li>Go to the vendor settings page to add your first vendor.</li>\n                    </ul>\n    \n                    <div layout="row" class="step-actions">\n                    \n                        <md-button class="md-raised md-primary" ng-href="#/settings/edit_vendor" ng-disabled="blockers.api_processing || !stepsCompletion[1] || stepsCompletion[2]" title="Add My First Vendor" aria-label="Add My First Vendor">\n                            Add My First Vendor\n                        </md-button>\n                        \n                    </div> \n                    \n                </div>\n    \n            </div>\n    \n        </peach-card-content>\n    \n    </peach-card>\n    \n    <peach-card can-collapse="true" is-open="{{!stepsCompletion[3]}}" ng-class="{\'completed\': stepsCompletion[3] || !stepsCompletion[1] || !stepsCompletion[2]}">\n    \n        <peach-card-header title="Step Three: Add Items and Vendor Products ">\n            <span flex></span>\n            <section layout-align="top">\n                <div class="step-completed-checkmark" ng-show="stepsCompletion[3]"></div>\n            </section>  \n        </peach-card-header>\n    \n        <peach-card-content>\n        \n            <div layout="row" class="intro-step">\n    \n                <div>\n                    <img class="pull-left" src="/assets/img/cake/items_2x.png">\n                </div>\n                \n                <div>\n    \n                    <ul>\n                        <li>The key to Inventory is of course your Inventory Items.</li>\n                        <li>Cake comes built with a database of suggested items.</li>\n                        <li>Create your vendor products as you add items.</li>\n                        <li>Let\'s get started by adding your first 10 items, either manually or from Cake\'s suggestions.</li>\n                    </ul>\n                    \n                    <div layout="row" class="step-actions">\n            \n                        <md-button class="md-raised md-primary" ng-click="goToItems()" ng-disabled="blockers.api_processing || !stepsCompletion[1] || !stepsCompletion[2] || stepsCompletion[3]" title="Add Items" aria-label="Add Items">\n                            Add Items\n                        </md-button>\n                        \n                    </div>    \n                    \n                </div>\n            \n            </div>\n    \n        </peach-card-content>\n    \n    </peach-card>\n    \n    <peach-card can-collapse="true" is-open="{{!stepsCompletion[4]}}" ng-class="{\'completed\': stepsCompletion[4] || !stepsCompletion[1] || !stepsCompletion[2] || !stepsCompletion[3]}">\n    \n        <peach-card-header title="Step Four: Add the Starting Count">\n            <span flex></span>\n            <section layout-align="top">\n                <div class="step-completed-checkmark" ng-show="stepsCompletion[4]"></div>\n            </section>  \n        </peach-card-header>\n    \n        <peach-card-content>\n        \n            <div layout="row" class="intro-step">\n    \n                <div>\n                    <img class="pull-left" src="/assets/img/cake/startingCount_2x.png">\n                </div>\n                \n                <div>\n    \n                    <ul>\n                        <li>All Inventory needs a starting point to base values off of.</li>\n                        <li>Go to the Counts Page to create your starting Count, including the starting costs, of all your inventory items.</li>\n                        <li>If your organization is just getting started and don\'t have any on hand inventory, just choose to start with a 0 quantity.</li>\n                    </ul>\n                    \n                    <div layout="row" class="step-actions">\n            \n                        <md-button class="md-raised md-primary" ng-href="#/edit_count" ng-disabled="blockers.api_processing || !stepsCompletion[1] || !stepsCompletion[2] || !stepsCompletion[3] || stepsCompletion[4]" title="Start my First Count" aria-label="Start my First Count">\n                            Start my First Count\n                        </md-button>\n                        <!--\n                        <md-button class="md-raised md-primary" ng-click="createStartingCount();" ng-disabled="blockers.api_processing || !stepsCompletion[1] || !stepsCompletion[2] || stepsCompletion[3]" title="Start with zero inventory" aria-label="Start with zero inventory">\n                            Start with zero inventory\n                        </md-button>-->\n                        \n                    </div>    \n                    \n                </div>\n            \n            </div>\n    \n        </peach-card-content>\n    \n    </peach-card>\n    \n    <peach-card can-collapse="true" is-open="{{!stepsCompletion[5]}}" ng-class="{\'completed\': stepsCompletion[5] || !stepsCompletion[1] || !stepsCompletion[2] || !stepsCompletion[3] || !stepsCompletion[4]}">\n    \n        <peach-card-header title="Step Five: Add the First Invoice ">\n            <span flex></span>\n            <section layout-align="top">\n                <div class="step-completed-checkmark" ng-show="stepsCompletion[5]"></div>\n            </section>  \n        </peach-card-header>\n    \n        <peach-card-content>\n        \n            <div layout="row" class="intro-step">\n    \n                <div>\n                    <img class="pull-left" src="/assets/img/cake/receipt_2x.png">\n                </div>\n                \n                <div>\n    \n                    <ul>\n                        <li>Now that you\'ve completed your starting count you\'re ready to receive more inventory.</li>\n                        <li>Use the Invoices page to add quantities of your items.</li>\n                        <li>Counts only tell you so much about your items. Invoices allow you to provide updated unit costs by vendors, which allows for accurate inventory costing.</li>\n                    </ul>\n                    \n                    <div layout="row" class="step-actions">\n    \n                        <md-button class="md-raised md-primary" ng-href="#/edit_invoice" ng-disabled="blockers.api_processing || !stepsCompletion[1] || !stepsCompletion[2] || !stepsCompletion[3] || !stepsCompletion[4] || stepsCompletion[5]" title="Add Invoice" aria-label="Add Invoice">\n                            Add Invoice\n                        </md-button>\n                        \n                    </div>\n                    \n                </div>\n                \n            </div>    \n    \n        </peach-card-content>\n    \n    </peach-card>\n    \n    <peach-card can-collapse="true" is-open="{{!stepsCompletion[6]}}" ng-class="{\'completed\': stepsCompletion[6] || !stepsCompletion[1] || !stepsCompletion[2] || !stepsCompletion[3] || !stepsCompletion[4] || !stepsCompletion[5]}">\n    \n        <peach-card-header title=\'Step Six: Add the Next "Regular" Count\'>\n            <span flex></span>\n            <section layout-align="top">\n                <div class="step-completed-checkmark" ng-show="stepsCompletion[6]"></div>\n            </section>  \n        </peach-card-header>\n    \n        <peach-card-content>\n        \n            <div layout="row" class="intro-step">\n    \n                <div>\n                    <img class="pull-left" src="/assets/img/cake/regularCount_2x.png">\n                </div>\n                \n                <div>\n    \n                    <ul>\n                        <li>After receiving and using inventory your usage reports need to have a new Count value to compare values to.</li>\n                        <li>From the Counts Page you can choose to create a new Count and quickly add quantities for your items.</li>\n                        <li>Your reports will now have a starting count and an ending count to give accurate usage values.</li>\n                    </ul>\n                    \n                    <div layout="row" class="step-actions">\n    \n                        <md-button class="md-raised md-primary" ng-href="#/edit_count" ng-disabled="blockers.api_processing || !stepsCompletion[1] || !stepsCompletion[2] || !stepsCompletion[3] || !stepsCompletion[4] || !stepsCompletion[5] || stepsCompletion[6]" title="Add New Count" aria-label="Add New Count">\n                            Add New Count\n                        </md-button>\n                        \n                    </div>    \n                \n                </div>\n                \n            </div>\n    \n        </peach-card-content>\n    \n    </peach-card>\n    \n    <peach-card ng-if="stepsCompletion[6]">\n    \n        <peach-card-header title=\'Advanced Inventory Options\'>\n        </peach-card-header>\n    \n        <peach-card-content>\n        \n            <div layout="row" class="intro-step">\n    \n                <div>\n                    <img class="pull-left" src="/assets/img/cake/reports_2x.png">\n                </div>\n                \n                <div>\n    \n                    <div class="advanced-step-text">\n                        <p>Reports</p>\n                        <p>With your starting counts, receipts and ending counts you\'re now ready to view your data on usage reports.</p>\n                    </div>    \n\n                    <div layout="row" class="step-actions">\n                        <md-button class="md-raised md-primary" ng-click="goToReports()" ng-disabled="blockers.api_processing" title="View Reports" aria-label="View Reports">\n                            View Reports\n                        </md-button>    \n                    </div>\n                \n                </div>\n                \n            </div>    \n                \n            <div layout="row" class="intro-step" ng-if="accountLocations.length > 1 && inventoryLocations.length < accountLocations.length">\n            \n                <div>\n                    <img class="pull-left" src="/assets/img/cake/secondLocation_2x.png">\n                </div>\n                \n                <div>\n    \n                    <div class="advanced-step-text">\n                        <p>Activate Additional Locations</p>\n                        <p>With your first location up and running, you\'re ready to setup a additional locations on Cake.</p>\n                    </div>    \n                        \n                    <div layout="row" class="step-actions">\n                        <md-button class="md-raised md-primary" ng-href="#/settings/add_active_location" ng-disabled="blockers.api_processing" title="Setup New Location" aria-label="Setup New Location">\n                            Setup New Location\n                        </md-button>\n                    </div>    \n                \n                </div>\n                \n            </div>\n            \n            <div layout="row" class="intro-step">\n            \n                <div>\n                    <img class="pull-left" src="/assets/img/cake/countUnits_2x.png">\n                </div>\n                \n                <div>\n    \n                    <div class="advanced-step-text">\n                        <p>Count Units</p>\n                        <p>Do you want to change the units that appear on a Count or Receipt Sheet? No problem, customize which units appear per location using the Item Units Settings Page.</p>\n                    </div>    \n    \n                    <div layout="row" class="step-actions">\n                        <md-button class="md-raised md-primary" ng-href="#/settings/item_units" ng-disabled="blockers.api_processing" title="Manage Item Units" aria-label="Manage Item Units">\n                            Manage Item Units\n                        </md-button>\n                    </div>\n                \n                </div>\n            \n            </div>\n            \n            <div layout="row" class="intro-step">\n            \n                <div>\n                    <img class="pull-left" src="/assets/img/cake/groups_2x.png">\n                </div>\n                \n                <div>\n    \n                    <div class="advanced-step-text">\n                        <p>Count Groups</p>\n                        <p>Create new Count Groups to easily manage sets of items that you want to count on different count sheets, or on different frequencies.</p>\n                    </div>    \n    \n                    <div layout="row" class="step-actions">\n                        <md-button class="md-raised md-primary" ng-href="#/settings/count_groups" ng-disabled="blockers.api_processing" title="Edit Count Groups" aria-label="Edit Count Groups">\n                            Edit Count Groups\n                        </md-button>\n                    </div>    \n                    \n                </div>\n                \n            </div>    \n    \n        </peach-card-content>\n    \n    </peach-card>\n    \n</md-content>';
},function(e,t){e.exports='<h1 ng-bind="::main.title"></h1>\n'},function(e,t){e.exports='<h1 ng-bind="::setup.title"></h1>\n'},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="activeLocationsService",o=function r(e,t,i){function o(e){var t=a;t.activeLocations=e.results,t.activeLocationsById=_.object(_.pluck(t.activeLocations,"id"),t.activeLocations)}n(this,r);var a=this;a.createActiveLocation=function(e){var t=a,n=_.extend({},t.cakeCommon.getObjectDefaultData("active_locations"),e);return t.$q(function(e,i){t.$resource.create(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},a.getActiveLocation=function(e){var t=a;return _.isUndefined(e)?t.activeLocations:t.activeLocationsById[e]},a.getActiveLocations=function(){var e=a;return e.activeLocations},a.getActiveLocationsCollection=function(){var e=a;return e.activeLocationsById},a.loadActiveLocations=function(e,t,n){var i=a;return e=e||null,t=t||null,n=n||!1,i.$q(function(r,a){i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,e,t).then(function(e){n||o(e),r(e)},function(e){i.cakeCommon.apiErrorHandler(e),a(e)})})},a.removeActiveLocation=function(e){var t=a;return t.$q(function(n,i){t.$resource.remove(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},a.updateActiveLocation=function(e){var t=a,n=_.pick(e,_.keys(t.cakeCommon.getObjectDefaultData("active_locations")));return n.id=e.id,t.$q(function(e,i){t.$resource.update(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})}};o.$inject=["commonService","$peach","$q"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="commonService",o=function r(e,t,i){n(this,r);var o,a,s=this,c="cake",u="wtm",l=50,d="YYYY-MM-DD",m="HH:mm:ss",f=1e3,p=/^\s*[-+]?(\d{0,9}\.?\d{0,5}|\d{1,9}\.)\s*$/i,h={items:"wtm_item_db_items",categories:"wtm_item_db_cats",tags:"wtm_item_db_tags",item_tags:"wtm_item_db_item_tags",item_units:"wtm_item_db_item_units",units:"wtm_units"},v={active_locations:{key:"wtm_inv_locs",default_data:{is_copied:!1,copied_from:null,location_id:null}},items_db:{key:"wtm_inv_item_db",default_data:{}},count_groups:{key:"wtm_inv_count_groups",default_data:{name:"",description:"",schedule_type:"none",schedule_interval:null,schedule_days:null,start_date:null,next_date:null,is_active:!0,is_default:!1}},count_items:{key:"wtm_inv_count_items",default_data:{inv_count_id:null,inv_item_id:null,inv_item_unit_id:null,common_unit_id:null,quantity:null,common_unit_quantity:null,details_json:null,location_id:null}},counts:{key:"wtm_inv_counts",default_data:{count_group_id:null,notes:"",time:null,date:null,is_complete:!1,percent_complete:0,location_id:null,task_id:null}},opening_counts:{key:"wtm_inv_opening_counts",default_data:{count_group_id:null,count_date:null,location_id:null}},events:{key:"wtm_inv_events",default_data:{date:null,description:"",type:null,notes:"",is_complete:!1,location_id:null}},event_items:{key:"wtm_inv_event_items",default_data:{cost:null,quantity:null,common_unit_quantity:null,inv_event_id:null,inv_item_id:null,inv_item_unit_id:null,common_unit_id:null,location_id:null}},gl_accounts:{key:"gl_accounts",default_data:{parent_id:null,name:"",number:null,description:"",type:null,subtype:null}},invoices:{key:"wtm_invoices",default_data:{invoice_date:null,receipt_date:null,vendor_id:null,inv_event_id:null,total:null,is_complete:!1,invoice_number:null,notes:null,location_id:null}},invoice_items:{key:"wtm_invoice_items",default_data:{invoice_id:null,vendor_id:null,vendor_inventory_item_id:null,inv_item_id:null,inv_event_item_id:null,quantity:null,unit_price:null,extended_price:null,location_id:null}},invoice_gl_accounts:{key:"wtm_invoice_gl_accounts",default_data:{invoice_id:null,vendor_id:null,description:null,amount:null,gl_account_id:null,location_id:null}},items:{key:"wtm_inv_items",default_data:{name:"",description:"",common_unit_id:null,item_db_id:null,count_group_id:null,gl_account_id:null,is_active:!1,sales_item_id:null,common_unit_cost:0}},item_locations:{key:"wtm_inv_item_locs",default_data:{inv_item_id:null,last_cost:null,opening_count_date:null,is_hot_count:!1,starting_cost:null,location_id:null}},item_units:{key:"wtm_inv_item_units",default_data:{inv_item_id:null,unit_id:null,common_unit_id:null,description:null,pack_size:null,is_report_unit:!1,is_wv_conversion:!1,unit_quantity:null}},item_unit_locations:{key:"wtm_inv_item_unit_locs",default_data:{inv_item_id:null,inv_item_unit_id:null,is_order_unit:!1,is_count_unit:!1,is_transfer_unit:!1,is_waste_unit:!1,is_report_unit:!1,location_id:null}},locations:{key:"wtm_inv_locs",default_data:{is_copied:null,location_id:null}},recipe_items:{key:"wtm_recipe_items",default_data:{}},units:{key:"wtm_units",default_data:{}},vendors:{key:"wtm_vendors",default_data:{name:null,address:null,address2:null,city:null,state:null,state_id:null,country:null,country_id:null,zip:null,phone:null,fax:null,contact_email:null,contact_name:null,contact_first_name:null,contact_last_name:null,contact_mobile:null,notes:null,is_active:!1}},vendor_items:{key:"wtm_vendor_inv_items",default_data:{vendor_id:null,inv_item_id:null,inv_item_unit_id:null,description:null,number:null,pack_size:null,is_active:!0,last_price:null,last_price_on:null}},vendor_locations:{key:"wtm_vendor_locs",default_data:{vendor_id:null,location_id:null,customer_number:null}}};s.activate=function(){var e=s;o=e.$peach.session.isPreview(),a=e.$q(function(t,n){o?t(!0):e.$peach.account.getInfo().then(function(e){t(e.is_admin)},function(e){t(!1),s.apiErrorHandler(e)})})},s.apiErrorHandler=function(e,t){var n=s;t=t||!1,n.$log.error(e),t&&(_.isString(e)?alert("There was an error: "+e):alert("There was an error, please check console log for more details."))},s.getCakeApiKey=function(){return c},s.getCakeFloatRegex=function(){return p},s.getCoreApiKey=function(){return u},s.getCountingTaskId=function(){return l},s.getDatabaseDateFormat=function(){return d},s.getDatabaseTimeFormat=function(){return m},s.getItemDBObjectKey=function(e){return e?h[e]:h},s.getObjectDefaultData=function(e){return e&&v[e]?v[e].default_data:null},s.getObjectKey=function(e){return e&&v[e]?v[e].key:null},s.isDevPreviewModeRunning=function(){return o},s.isUserAccountAdmin=function(){return a},s.makeAutoPaginatedGETRequest=function(e,t,n){var i=s;return t=t||null,n=n||{},i.$q(function(o,r){_.isUndefined(n.limit)?(n.limit=f,e.find(t,n).then(function(a){if(a.count>f){var s=Math.ceil(a.count/f);i.$q.all(_.map(_.range(2,s+1,1),function(i){var o=angular.copy(n);return o.page=i,e.find(t,o)})).then(function(e){var t=a.results;_.each(e,function(e){t=t.concat(e.results)}),a.results=t,o(a)},r)}else o(a)},r)):e.find(t,n).then(o,r)})},s.parseCakeFloatValue=function(e,t){return t=_.isUndefined(t)?0:t,_.isUndefined(e)||_.isNull(e)?t:parseFloat(Big(e).toFixed(5))},s.parseCakeCostFloatValue=function(e,t,n){return t=_.isUndefined(t)?"0.00":t,n=_.isUndefined(n)?null:n,_.isUndefined(e)||_.isNull(e)?t:null!==n?Big(e).round(n).toFixed(n):Big(e).toFixed(5).replace(/0{0,3}$/,"")},s.uppercaseWord=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}};o.$inject=["$log","$peach","$q"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="countGroupsService",o=function r(e,t,i){function o(e){var t=s,n="";return _.each(e,function(i,o){0===o?n+=t.cakeCommon.uppercaseWord(i):n=o===e.length-1?n+" and "+t.cakeCommon.uppercaseWord(i):n+", "+t.cakeCommon.uppercaseWord(i)}),n}function a(e){var t=s;t.countGroups=e.results,t.countGroupsById=_.object(_.pluck(t.countGroups,"id"),t.countGroups)}n(this,r);var s=this,c=null,u=null,l={};s.activate=function(){var e=s;c=e.$q(function(t,n){e.cakeCommon.makeAutoPaginatedGETRequest(e.$resource).then(function(n){l={Weekly:{schedule_type:"week",schedule_interval:1,schedule_days:null,start_date:moment().startOf("week").format(e.cakeCommon.getDatabaseDateFormat()),next_date:null},"Bi-Weekly":{schedule_type:"week",schedule_interval:2,schedule_days:null,start_date:moment().startOf("week").format(e.cakeCommon.getDatabaseDateFormat()),next_date:null},Monthly:{schedule_type:"month",schedule_interval:1,schedule_days:null,start_date:moment().startOf("month").format(e.cakeCommon.getDatabaseDateFormat()),next_date:null},Period:{schedule_type:"month",schedule_interval:1,schedule_days:null,start_date:moment().startOf("month").format(e.cakeCommon.getDatabaseDateFormat()),next_date:null},Annual:{schedule_type:"year",schedule_interval:1,schedule_days:null,start_date:moment().startOf("year").format(e.cakeCommon.getDatabaseDateFormat()),next_date:null},Quarterly:{schedule_type:"month",schedule_interval:4,schedule_days:null,start_date:moment().startOf("quarter").format(e.cakeCommon.getDatabaseDateFormat()),next_date:null},Daily:{schedule_type:"day",schedule_interval:1,schedule_days:null,start_date:moment().startOf("day").format(e.cakeCommon.getDatabaseDateFormat()),next_date:null},Never:{schedule_type:"never",schedule_interval:0,schedule_days:null,start_date:null,next_date:null}},_.each(l,function(t){t.next_date=t.start_date?moment(t.start_date).add(t.schedule_interval,t.schedule_type+"s").format(e.cakeCommon.getDatabaseDateFormat()):null}),u=n.trigger_response&&n.trigger_response.default_count_group?n.trigger_response.default_count_group:null,e.countGroupsInitialized=!0,t(!0)},function(t){e.cakeCommon.apiErrorHandler(t),n(t)})})},s.createCountGroup=function(e){var t=s,n=_.extend({},t.cakeCommon.getObjectDefaultData("count_groups"),e);return t.$q(function(e,i){t.$resource.create(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},s.getCountGroup=function(e){var t=s;return _.isUndefined(e)?t.countGroups:t.countGroupsById[e]},s.getCountGroups=function(){var e=s;return e.countGroups},s.getCountGroupsCollection=function(){var e=s;return e.countGroupsById},s.getDefaultCountGroup=function(){var e=s;return e.$q(function(t,n){e.countGroupsInitialized?t(u):c.then(function(){t(u)},function(e){n(e)})})},s.getPredefinedFrequencies=function(){var e=s;return e.$q(function(t,n){e.countGroupsInitialized?t(l):c.then(function(){t(l)},function(e){n(e)})})},s.getReadableFrequency=function(e){var t=s;if(e.schedule_type&&"never"!==e.schedule_type){var n={"short":"",full:""};if(e.schedule_interval&&1!==e.schedule_interval?(n["short"]=n.full="Every "+e.schedule_interval+" "+t.cakeCommon.uppercaseWord(e.schedule_type)+"s",2===e.schedule_interval&&(n["short"]="day"===e.schedule_type?"daily":e.schedule_type+"ly",n["short"]="Bi-"+t.cakeCommon.uppercaseWord(n["short"])),4===e.schedule_interval&&"month"===e.schedule_type&&(n["short"]="Quarterly")):(n.full="Every "+t.cakeCommon.uppercaseWord(e.schedule_type),n["short"]="day"===e.schedule_type?"daily":e.schedule_type+"ly",n["short"]="year"===e.schedule_type?"Annual":n["short"],n["short"]=t.cakeCommon.uppercaseWord(n["short"])),"week"===e.schedule_type&&e.schedule_days){var i=e.scheduleDaysArr?e.scheduleDaysArr:JSON.parse(e.schedule_days);n["short"]=n["short"]+" ("+_.map(i,t.cakeCommon.uppercaseWord).join(", ")+")",n.full=n.full+" on "+o(i)}return n}return{"short":"Never",full:"Never"}},s.loadCountGroups=function(e,t,n){var i=s;return e=e||null,t=t||null,n=n||!1,i.$q(function(o,r){i.countGroupsInitialized?i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,e,t).then(function(e){n||a(e),o(e)},function(e){i.cakeCommon.apiErrorHandler(e),r(e)}):c.then(function(){i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,e,t).then(function(e){n||a(e),o(e)},function(e){i.cakeCommon.apiErrorHandler(e),r(e)})},function(e){r(e)})})},s.removeCountGroup=function(e){var t=s;return t.$q(function(n,i){t.$resource.remove(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},s.updateCountGroup=function(e){var t=s,n=_.pick(e,_.keys(t.cakeCommon.getObjectDefaultData("count_groups")));return n.id=e.id,t.$q(function(e,i){t.$resource.update(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})}};o.$inject=["commonService","$peach","$q"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="countItemsService",o=function r(e,t,i,o){function a(e){var t=c;t.countItems=e.results,t.countItemsById=_.object(_.pluck(t.countItems,"id"),t.countItems)}n(this,r);var s,c=this;c.activate=function(){var e=c;s=e.cakeSettings.getSettings("active_locations")},c.bulkCreateCountItems=function(e){var t=c;return t.$q(function(n,i){e.length>0?t.$resource.create(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)}):n({collection:[]})})},c.createCountItem=function(e){var t=c,n=_.extend({},t.cakeCommon.getObjectDefaultData("count_items"),e);return t.$q(function(e,i){t.$resource.create(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},c.getCountItem=function(e){var t=c;return _.isUndefined(e)?t.countItems:t.countItemsById[e]},c.getCountItems=function(){var e=c;return e.countItems},c.getCountItemsCollection=function(){var e=c;return e.countItemsById},c.loadCountItems=function(e,t,n){var i=c;return e=e||null,t=t||null,n=n||!1,i.$q(function(o,r){null===e?s.then(function(e){var s={location_id:_.pluck(e,"id")};i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,s,t).then(function(e){n||a(e),o(e)},function(e){i.cakeCommon.apiErrorHandler(e),r(e)})}):i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,e,t).then(function(e){n||a(e),o(e)},function(e){i.cakeCommon.apiErrorHandler(e),r(e)})})},c.removeCountItem=function(e){var t=c;return t.$q(function(n,i){t.$resource.remove(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},c.updateCountItem=function(e){var t=c,n=_.pick(e,_.keys(t.cakeCommon.getObjectDefaultData("count_items")));return n.id=e.id,t.$q(function(e,i){t.$resource.update(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})}};o.$inject=["commonService","settingsService","$peach","$q"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="countriesService",o=function r(e,t,i){function o(e){var t=a;t.countries=e.results,t.countriesById=_.object(_.pluck(t.countries,"id"),t.countries)}n(this,r);var a=this;a.getCountry=function(e){var t=a;return _.isUndefined(e)?t.countries:t.countriesById[e]},a.getCountries=function(){var e=a;return e.countries},a.getCountriesCollection=function(){var e=a;return e.countriesById},a.loadCountries=function(e,t,n){var i=a;return e=e||null,t=t||null,n=n||!1,i.$q(function(r,a){i.$resource.find(e,t).then(function(e){n||o(e),r(e)},function(e){i.cakeCommon.apiErrorHandler(e),a(e)})})}};o.$inject=["commonService","$peach","$q"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="countsService",o=function r(e,t,i){function o(e){var t=s;t.counts=e.results,t.countsById=_.object(_.pluck(t.counts,"id"),t.counts)}function a(e){var t=s;t.openingCounts=e.results,t.openingCountsById=_.object(_.pluck(t.openingCounts,"id"),t.openingCounts)}n(this,r);var s=this;s.createCount=function(e){var t=s,n=_.extend({},t.cakeCommon.getObjectDefaultData("counts"),e);return t.$q(function(e,i){t.$resource.create(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},s.getCount=function(e){var t=s;return _.isUndefined(e)?t.counts:t.countsById[e]},s.getCounts=function(){var e=s;return e.counts},s.getCountsCollection=function(){var e=s;return e.countsById},s.getOpeningCounts=function(){var e=s;return e.openingCounts},s.getOpeningCountsCollection=function(){var e=s;return e.openingCountsById},s.loadCounts=function(e,t,n){var i=s;return e=e||null,t=t||null,n=n||!1,i.$q(function(r,a){i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,e,t).then(function(e){n||o(e),r(e)},function(e){i.cakeCommon.apiErrorHandler(e),a(e)})})},s.loadOpeningCounts=function(e,t,n){var i=s;return e=e||null,t=t||null,n=n||!1,i.$q(function(o,r){i.cakeCommon.makeAutoPaginatedGETRequest(i.$openingCountsResource,e,t).then(function(e){n||a(e),o(e)},function(e){i.cakeCommon.apiErrorHandler(e),r(e)})})},s.removeCount=function(e){var t=s;return t.$q(function(n,i){t.$resource.remove(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},s.updateCount=function(e){var t=s,n=_.pick(e,_.keys(t.cakeCommon.getObjectDefaultData("counts")));return n.id=e.id,t.$q(function(e,i){t.$resource.update(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})}};o.$inject=["commonService","$peach","$q"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="eventItemsService",o=function r(e,t,i){function o(e){var t=a;t.eventItems=e.results,t.eventItemsById=_.object(_.pluck(t.eventItems,"id"),t.eventItems)}n(this,r);var a=this;a.createEventItem=function(e){var t=a,n=_.extend({},t.cakeCommon.getObjectDefaultData("event_items"),e);return t.$q(function(e,i){t.$resource.create(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},a.getEventItem=function(e){var t=a;return _.isUndefined(e)?t.eventItems:t.eventItemsById[e]},a.getEventItems=function(){var e=a;return e.eventItems},a.getEventItemsCollection=function(){var e=a;return e.eventItemsById},a.loadEventItems=function(e,t,n){var i=a;return e=e||null,t=t||null,n=n||!1,i.$q(function(r,a){i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,e,t).then(function(e){n||o(e),r(e)},function(e){i.cakeCommon.apiErrorHandler(e),a(e)})})},a.removeEventItem=function(e){var t=a;return t.$q(function(n,i){t.$resource.remove(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},a.updateEventItem=function(e){var t=a,n=_.pick(e,_.keys(t.cakeCommon.getObjectDefaultData("event_items")));return n.id=e.id,t.$q(function(e,i){t.$resource.update(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})}};o.$inject=["commonService","$peach","$q"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="eventsService",o=function r(e,t,i){function o(e){var t=a;t.events=e.results,t.eventsById=_.object(_.pluck(t.events,"id"),t.events)}n(this,r);var a=this;a.createEvent=function(e){var t=a,n=_.extend({},t.cakeCommon.getObjectDefaultData("events"),e);return t.$q(function(e,i){t.$resource.create(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},a.getEvent=function(e){var t=a;return _.isUndefined(e)?t.events:t.eventsById[e]},a.getEvents=function(){var e=a;return e.events},a.getEventsCollection=function(){var e=a;return e.eventsById},a.loadEvents=function(e,t,n){var i=a;return e=e||null,t=t||null,n=n||!1,i.$q(function(r,a){i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,e,t).then(function(e){n||o(e),r(e)},function(e){i.cakeCommon.apiErrorHandler(e),a(e)})})},a.removeEvent=function(e){var t=a;return t.$q(function(n,i){t.$resource.remove(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},a.updateEvent=function(e){var t=a,n=_.pick(e,_.keys(t.cakeCommon.getObjectDefaultData("events")));return n.id=e.id,t.$q(function(e,i){t.$resource.update(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})}};o.$inject=["commonService","$peach","$q"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="glAccountsService",o=function r(e,t,i){function o(e){var t=a;t.glAccounts=e.results,t.glAccountsById=_.object(_.pluck(t.glAccounts,"id"),t.glAccounts)}n(this,r);var a=this,s=null,c=null;a.activate=function(){var e=a;c=e.$q(function(t,n){e.cakeCommon.makeAutoPaginatedGETRequest(e.$resource,null,{sort:"id"}).then(function(n){var i=_.find(n.results,{name:"General COGS",type:"COGS"});i||(i=_.find(n.results,{name:"General COGS"})),i||(i=_.find(n.results,{name:"Default"})),i||(i=n.results[0]),s=i,e.glAccountsInitialized=!0,t(!0)},function(t){e.cakeCommon.apiErrorHandler(t),n(t)})})},a.createGLAccount=function(e){var t=a,n=_.extend({},t.cakeCommon.getObjectDefaultData("gl_accounts"),e);return t.$q(function(e,i){t.$resource.create(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},a.getDefaultGLAccount=function(){var e=a;return e.$q(function(t,n){e.glAccountsInitialized?t(s):c.then(function(){t(s)},function(e){n(e)})})},a.getGLAccount=function(e){var t=a;return _.isUndefined(e)?t.glAccounts:t.glAccountsById[e]},a.getGLAccounts=function(){var e=a;return e.glAccounts},a.getGLAccountsCollection=function(){var e=a;return e.glAccountsById},a.loadGLAccounts=function(e,t,n){var i=a;return e=e||null,t=t||null,n=n||!1,i.$q(function(r,a){i.glAccountsInitialized?i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,e,t).then(function(e){n||o(e),r(e)},function(e){i.cakeCommon.apiErrorHandler(e),a(e)}):c.then(function(){i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,e,t).then(function(e){n||o(e),r(e)},function(e){i.cakeCommon.apiErrorHandler(e),a(e)})},function(e){a(e)})})}};o.$inject=["commonService","$peach","$q"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="invoiceGLAccountsService",o=function r(e,t,i){function o(e){var t=a;t.invoiceGLAccounts=e.results,t.invoiceGLAccountsById=_.object(_.pluck(t.invoiceGLAccounts,"id"),t.invoiceGLAccounts)}n(this,r);var a=this;a.createInvoiceGLAccount=function(e){var t=a,n=_.extend({},t.cakeCommon.getObjectDefaultData("invoice_gl_accounts"),e);return t.$q(function(e,i){t.$resource.create(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},a.getInvoiceGLAccount=function(e){var t=a;return _.isUndefined(e)?t.invoiceGLAccounts:t.invoiceGLAccountsById[e]},a.getInvoiceGLAccounts=function(){var e=a;return e.invoiceGLAccounts},a.getInvoiceGLAccountsCollection=function(){var e=a;return e.invoiceGLAccountsById},a.loadInvoiceGLAccounts=function(e,t,n){var i=a;return e=e||null,t=t||null,n=n||!1,i.$q(function(r,a){i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,e,t).then(function(e){n||o(e),r(e)},function(e){i.cakeCommon.apiErrorHandler(e),a(e)})})},a.removeInvoiceGLAccount=function(e){var t=a;return t.$q(function(n,i){t.$resource.remove(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},a.updateInvoiceGLAccount=function(e){var t=a,n=_.pick(e,_.keys(t.cakeCommon.getObjectDefaultData("invoice_gl_accounts")));return n.id=e.id,t.$q(function(e,i){t.$resource.update(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})}};o.$inject=["commonService","$peach","$q"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="invoiceItemsService",o=function r(e,t,i){function o(e){var t=a;t.invoiceItems=e.results,t.invoiceItemsById=_.object(_.pluck(t.invoiceItems,"id"),t.invoiceItems)}n(this,r);var a=this;a.createInvoiceItem=function(e){var t=a,n=_.extend({},t.cakeCommon.getObjectDefaultData("invoice_items"),e);return t.$q(function(e,i){t.$resource.create(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},a.getInvoiceItem=function(e){var t=a;return _.isUndefined(e)?t.invoiceItems:t.invoiceItemsById[e]},a.getInvoiceItems=function(){var e=a;return e.invoiceItems},a.getInvoiceItemsCollection=function(){var e=a;return e.invoiceItemsById},a.loadInvoiceItems=function(e,t,n){var i=a;return e=e||null,t=t||null,n=n||!1,i.$q(function(r,a){i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,e,t).then(function(e){n||o(e),r(e)},function(e){i.cakeCommon.apiErrorHandler(e),a(e)})})},a.removeInvoiceItem=function(e){var t=a;return t.$q(function(n,i){t.$resource.remove(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},a.updateInvoiceItem=function(e){var t=a,n=_.pick(e,_.keys(t.cakeCommon.getObjectDefaultData("invoice_items")));return n.id=e.id,t.$q(function(e,i){t.$resource.update(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})}};o.$inject=["commonService","$peach","$q"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="invoicesService",o=function r(e,t,i){function o(e){var t=a;t.invoices=e.results,t.invoicesById=_.object(_.pluck(t.invoices,"id"),t.invoices)}n(this,r);var a=this;a.createInvoice=function(e){var t=a,n=_.extend({},t.cakeCommon.getObjectDefaultData("invoices"),e);return t.$q(function(e,i){t.$resource.create(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},a.getInvoice=function(e){var t=a;return _.isUndefined(e)?t.invoices:t.invoicesById[e]},a.getInvoices=function(){var e=a;return e.invoices},a.getInvoicesCollection=function(){var e=a;return e.invoicesById},a.loadInvoices=function(e,t,n){var i=a;return e=e||null,t=t||null,n=n||!1,i.$q(function(r,a){i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,e,t).then(function(e){n||o(e),r(e)},function(e){i.cakeCommon.apiErrorHandler(e),a(e)})})},a.removeInvoice=function(e){var t=a;return t.$q(function(n,i){t.$resource.remove(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},a.updateInvoice=function(e){var t=a,n=_.pick(e,_.keys(t.cakeCommon.getObjectDefaultData("invoices")));return n.id=e.id,t.$q(function(e,i){t.$resource.update(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})}};o.$inject=["commonService","$peach","$q"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="itemsService",o=function r(e,t,i,o,a){function s(e){var t=c;t.items=e.results,t.itemsById=_.object(_.pluck(t.items,"id"),t.items)}n(this,r);var c=this;c.bulkUpdateItems=function(e){var t=c;return t.$q(function(n,i){e.length>0?t.$resource.update(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)}):n({collection:[]})})},c.canItemBeDeleted=function(t){var n=c,i=n.$peach.api(e.getObjectKey("recipe_items"));return n.$q(function(e,o){n.cakeCountItems.loadCountItems({inv_item_id:t},{limit:1},!0).then(function(r){r.results.length>0?e(!1):i.find({item_id:t},{limit:1}).then(function(i){i.results.length>0?e(!1):n.cakeEventItems.loadEventItems({inv_item_id:t},{limit:1},!0).then(function(t){e(t.results.length>0?!1:!0)},function(e){o(e)})},function(e){o(e)})},function(e){o(e)})})},c.canItemCommonUnitBeChanged=function(e){var t=c;return t.canItemBeDeleted(e)},c.createItem=function(e,t){var n=c,i=_.extend({},n.cakeCommon.getObjectDefaultData("items"),e),o=t||{};return o=_.extend({extended:!0},o),n.$q(function(e,t){n.$resource.create(i,o).then(function(t){e(t)},function(e){n.cakeCommon.apiErrorHandler(e),t(e)})})},c.getItem=function(e){var t=c;return _.isUndefined(e)?t.items:t.itemsById[e]},c.getItems=function(){var e=c;return e.items},c.getItemsCollection=function(){var e=c;return e.itemsById},c.loadItems=function(e,t,n){var i=c;return e=e||null,t=t||null,n=n||!1,i.$q(function(o,r){i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,e,t).then(function(e){n||s(e),o(e)},function(e){i.cakeCommon.apiErrorHandler(e),r(e)})})},c.removeItem=function(e){var t=c;return t.$q(function(n,i){t.$resource.remove(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},c.updateItem=function(e,t){var n=c,i=_.pick(e,_.keys(n.cakeCommon.getObjectDefaultData("items")));i.id=e.id;var o=t||{};return o=_.extend({extended:!0},o),n.$q(function(e,t){n.$resource.update(i,o).then(function(t){e(t)},function(e){n.cakeCommon.apiErrorHandler(e),t(e)})})}};o.$inject=["commonService","countItemsService","eventItemsService","$peach","$q"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="settingsService",o=function r(e,t,i,o,a){function s(e){var t=f;return t.$q(function(n,i){c(e).then(function(e){n(null==e||_.isUndefined(e)||"false"===e||""===e?!1:!0)},function(e){i(e),t.cakeCommon.apiErrorHandler(e)})})}function c(e){var t=f;return t.$peach.account.getPrefs(e)}function u(){var e=f;return e.$q(function(t,n){var i={};e.$q.all({account_locations:l(),active_locations:e.cakeActiveLocations.loadActiveLocations()}).then(function(e){var n=_.pluck(e.account_locations,"id"),o=_.object(n,e.account_locations);_.each(e.active_locations.results,function(e){n.indexOf(e.location_id)>=0&&!i[e.location_id]&&(i[e.location_id]=_.extend(o[e.location_id],{wtm_inv_loc:e}))}),t(_.sortBy(_.values(i),"name"))},function(e){t([])})})}function l(){var e=f;return e.$q(function(t,n){e.$peach.account.getLocations().then(function(e){t(e)},function(n){t([]),e.cakeCommon.apiErrorHandler(n)})})}function d(){var e=f;return e.$q(function(t,n){e.$http.get(e.$peach.session.getApiUrl().replace(e.$peach.session.getApiVersion(),"")+"time").success(function(e){t(e.time)}).error(function(t){n(t),e.cakeCommon.apiErrorHandler(t)})})}n(this,r);var m,f=this;f.activate=function(){var e=f;e.refreshSettings()},f.activateLocation=function(e){var t=f;return t.$q(function(n,i){var o={};e.location_id?(o.location_id=e.location_id,e.copy_data_from_location_id&&(o.is_copied=!0,o.copied_from=e.copy_data_from_location_id),t.cakeActiveLocations.createActiveLocation(o).then(function(e){t.refreshSettings("active_locations").then(function(){n(e)},i)},i)):i("No location id provided")})},f.getSettings=function(e){return _.isUndefined(e)?m:m[e]},f.refreshSettings=function(e){if(_.isUndefined(e))return m={account_locations:l(),active_locations:u(),units_of_measure_loaded:s("units_of_measure_loaded"),current_utc_timestamp:d()};switch(e){case"account_locations":m.account_locations=l();break;case"active_locations":m.active_locations=u();break;case"units_of_measure_loaded":m.units_of_measure_loaded=s("units_of_measure_loaded");
break;case"current_utc_timestamp":m.current_utc_timestamp=d()}return m[e]}};o.$inject=["$http","$peach","$q","activeLocationsService","commonService"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="sharedDataService",o=function r(e){n(this,r);var t=this,i={};t.getValue=function(e){return _.isUndefined(e)?i:i[e]},t.setValue=function(e,t){i[e]=t},t.unsetValue=function(e){delete i[e]}};o.$inject=["$peach"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="vendorLocationsService",o=function r(e,t,i,o){function a(e){var t=c;t.vendorLocations=e.results,t.vendorLocationsById=_.object(_.pluck(t.vendorLocations,"id"),t.vendorLocations)}n(this,r);var s,c=this;c.activate=function(){var e=c;s=e.cakeSettings.getSettings("active_locations")},c.bulkCreateVendorLocations=function(e){var t=c;return t.$q(function(n,i){e.length>0?t.$resource.create(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)}):n({collection:[]})})},c.bulkDeleteVendorLocations=function(e){var t=c;return t.$q(function(n,i){e.length>0?t.$resource.remove(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)}):n({collection:[]})})},c.bulkUpdateVendorLocations=function(e){var t=c;return t.$q(function(n,i){e.length>0?t.$resource.update(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)}):n({collection:[]})})},c.getVendorLocation=function(e){var t=c;return _.isUndefined(e)?t.vendorLocations:t.vendorLocationsById[e]},c.getVendorLocations=function(){var e=c;return e.vendorLocations},c.getVendorLocationsCollection=function(){var e=c;return e.vendorLocationsById},c.loadVendorLocations=function(e,t,n){var i=c;return e=e||null,t=t||null,n=n||!1,i.$q(function(o,r){null===e?s.then(function(e){var s={location_id:_.pluck(e,"id")};i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,s,t).then(function(e){n||a(e),o(e)},function(e){i.cakeCommon.apiErrorHandler(e),r(e)})}):i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,e,t).then(function(e){n||a(e),o(e)},function(e){i.cakeCommon.apiErrorHandler(e),r(e)})})},c.updateVendorLocation=function(e){var t=c,n=_.pick(e,_.keys(t.cakeCommon.getObjectDefaultData("vendor_locations")));return n.id=e.id,t.$q(function(e,i){t.$resource.update(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})}};o.$inject=["commonService","settingsService","$peach","$q"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="vendorsService",o=function r(e,t,i,o){function a(e){var t=s;t.vendors=e.results,t.vendorsById=_.object(_.pluck(t.vendors,"id"),t.vendors)}n(this,r);var s=this;s.createVendor=function(e){var t=s,n=_.extend({},t.cakeCommon.getObjectDefaultData("vendors"),e);return t.$q(function(e,i){t.$resource.create(n).then(function(t){e(t)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},s.getVendor=function(e){var t=s;return _.isUndefined(e)?t.vendors:t.vendorsById[e]},s.getVendors=function(){var e=s;return e.vendors},s.getVendorsCollection=function(){var e=s;return e.vendorsById},s.loadVendors=function(e,t,n){var i=s;return e=e||null,t=t||null,n=n||!1,i.$q(function(o,r){i.cakeCommon.makeAutoPaginatedGETRequest(i.$resource,e,t).then(function(e){n||a(e),o(e)},function(e){i.cakeCommon.apiErrorHandler(e),r(e)})})},s.removeVendor=function(e){var t=s;return t.$q(function(n,i){t.$resource.remove(e).then(function(e){n(e)},function(e){t.cakeCommon.apiErrorHandler(e),i(e)})})},s.updateVendor=function(e,t){var n=s,i=_.pick(e,_.keys(n.cakeCommon.getObjectDefaultData("vendors")));i.id=e.id;var o=t||{};return o=_.extend({extended:!0},o),n.$q(function(e,t){n.$resource.update(i,o).then(function(t){e(t)},function(e){n.cakeCommon.apiErrorHandler(e),t(e)})})},s.canVendorBeDeleted=function(e){var t=s;return t.$q(function(n,i){t.cakeInvoiceItems.loadInvoiceItems({vendor_id:e},{limit:1},!0).then(function(e){n(e.results.length>0?!1:!0)},function(e){i(e)})})}};o.$inject=["commonService","$peach","$q","invoiceItemsService"],angular.module(i,["ngPeach.ui","ngRoute"]).service(i,o),t["default"]={moduleName:i,service:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t,i,r,a,s,c,u){function l(){var e=m;return e.$q(function(t,n){_.each(e.activeLocations,function(e){e.display_name=(e.number?e.number+" - ":"")+e.name}),e.activeLocations=e.$filter("orderBy")(e.activeLocations,"display_name"),t(!0)})}function d(){var e=m;return e.inactiveLocations=[],e.$q(function(t,n){var i=_.pluck(e.activeLocations,"id");_.each(e.accountLocations,function(t){t.display_name=(t.number?t.number+" - ":"")+t.name,i.indexOf(t.id)<0&&e.inactiveLocations.push(t)}),e.inactiveLocations=e.$filter("orderBy")(e.inactiveLocations,"name"),t(!0)})}n(this,o);var m=this;m.activate=function(){var e=m;e.isDeveloperMode=e.cakeCommon.isDevPreviewModeRunning(),e.$q.all({is_account_admin:e.cakeCommon.isUserAccountAdmin(),account_locations:e.cakeSettings.getSettings("account_locations"),active_locations:e.cakeSettings.getSettings("active_locations"),can_edit_active_locations:e.cakePermissions.userHasPermission("edit_active_locations")}).then(function(t){e.accountLocations=t.account_locations,e.activeLocations=t.active_locations,e.activeLocationsById=_.object(_.pluck(e.activeLocations,"id"),e.activeLocations),e.isAccountAdmin=t.is_account_admin,e.canEditActiveLocations=t.can_edit_active_locations,e.$q.all([l(),d()]).then(function(){e.blockers.initializing=!1},function(t){e.canEditActiveLocations=!1,e.blockers.initializing=!1,e.errorHandler(t)})},function(t){e.canEditActiveLocations=!1,e.blockers.initializing=!1,e.errorHandler(t)})},m.errorHandler=function(e,t,n){var i=m,o="";return t=t||!1,o=_.isString(e)?"There was an error: "+e:"There was an error, please check console log for more details.",i.showMessage(o,"alert"),t&&i.cakeCommon.apiErrorHandler(e),_.isFunction(n)?n():void 0},m.goBack=function(){var e=m;e.$location.path("/settings/items")},m.hideMessage=function(){var e=m;e.userInfo={message:"",type:""}},m.showMessage=function(e,t){var n=m;t=t||"info",n.userInfo.message=e,n.userInfo.type=t},m.activateLocation=function(){var e=m;e.blockers.api_processing||e.blockers.saving||!e.canEditActiveLocations||(e.blockers.api_processing=!0,e.cakeSettings.activateLocation({location_id:parseInt(e.formData.location_id,10),copy_data_from_location_id:e.formData.copy_location?parseInt(e.formData.active_location_id):null}).then(function(t){var n=_.remove(e.inactiveLocations,function(e){return e.id==t.location_id})[0];n.wtm_inv_loc=t,e.activeLocations.push(n),e.activeLocationsById[n.id]=n,e.activeLocations=e.$filter("orderBy")(e.activeLocations,"display_name"),e.formData.active_location_id=null,e.formData.location_id=null,e.forms.activateLocationForm.location.$setPristine(),e.$peachToast.show("Activated "+n.name),e.blockers.api_processing=!1},function(t){e.blockers.api_processing=!1,e.errorHandler(t)}))}};i.$inject=["$filter","$location","$peachToast","$q","commonService","activeLocationsService","permissionsService","settingsService"],t["default"]=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t,i,r,a,s,c,u,l,d,m,f,p,h){function v(e){var t=C;return t.$q(function(n,i){e.saving=!0;var o={name:e.name,gl_account_id:null,count_group_id:null,common_unit_id:e.common_unit_id,item_db_id:e.id,is_active:!0,locations:_.pluck(t.activeLocations,"id")};t.cakeItemsDBItems.getItemsDBItemGLAccountFromCategoryId(e.category_id).then(function(r){o.gl_account_id=r.id,o.count_group_id=t.defaultCountGroup.id,g(o).then(function(i){e.already_added=!0,e.saving=!1,t.bulkFormData.progress.processed_items++,t.bulkFormData.progress.percentage=parseInt(t.bulkFormData.progress.processed_items/t.bulkFormData.progress.total_items*100),n(i)},function(e){i(e)})},function(e){i(e)})})}function g(e){var t=C;return t.$q(function(n,i){var o={extended:!0};e.item_db_id&&(o.item_db_id=e.item_db_id),t.cakeItems.createItem(e,o).then(function(e){n(e)},function(e){i(e)})})}function b(){var e=C;return e.$q(function(t,n){e.$q.all([e.cakeItemsDBCategories.getData(null,{sort:"name"}),e.cakeItemsDBTags.getData(null,{sort:"name"})]).then(function(i){e.itemsDBCategories=i[0].results?i[0].results:[],e.itemsDBTags=i[1].results?i[1].results:[],e.$q.all([$(),y()]).then(function(){t(!0)},function(e){n(e)})},function(e){n(e)})})}function $(){var e=C;return e.$q(function(t,n){_.each(e.itemsDBCategories,function(t){t.is_category=!0,e.itemsDBCategoriesById[t.id]=t}),t(!0)})}function y(){var e=C;return e.$q(function(t,n){_.each(e.itemsDBTags,function(t){e.itemsDBTagsById[t.id]=t}),t(!0)})}function k(){var e=C;return e.$q(function(t,n){var i=[];if(""!==e.bulkFormData.search_query&&i.push({name:{$like:e.bulkFormData.search_query}}),null!==e.bulkFormData.search_category_tag_index){var o=e.itemDBCategoriesAndTags[parseInt(e.bulkFormData.search_category_tag_index,10)];o.is_category?(i.push({category_id:o.id}),t(i)):e.cakeItemsDBItemTags.getData({tag_id:o.id},{fields:"item_id"}).then(function(e){e.results&&e.results.length>0?i.push({id:_.pluck(e.results,"item_id")}):i.push({id:0}),t(i)},function(e){n(e)})}else t(i)})}function E(e){var t=C;t.$peachToast.show(e)}function w(){var e=C;e.blockers.api_processing=!0,e.bulkFormData.cached_options=[],k().then(function(t){t=t.length>1?{$and:t}:1==t.length?t[0]:null,e.cakeItemsDBItems.getData(t,{limit:e.pagination.limit,page:e.pagination.page_no,fields:"id,name,category_id,common_unit_id",sort:"name"}).then(function(t){t.results&&t.results.length>0?(e.pagination.total_items=t.count||0,e.cakeItems.loadItems({name:{$in:_.pluck(t.results,"name")}},{fields:"id,name,item_db_id"},!0).then(function(n){var i=_.pluck(n.results,"name");_.each(t.results,function(e){-1!==i.indexOf(e.name)&&(e.already_added=!0),e.saving=!1}),e.bulkFormData.cached_options=t.results,e.blockers.api_processing=!1},function(n){e.bulkFormData.cached_options=t.results,e.blockers.api_processing=!1})):(e.pagination.total_items=0,e.blockers.api_processing=!1)},function(t){e.pagination.total_items=0,e.blockers.api_processing=!1})},function(t){e.pagination.total_items=0,e.blockers.api_processing=!1})}n(this,o);var C=this;C.activate=function(){var e=C;e.blockers.api_processing=!0,e.isDeveloperMode=e.cakeCommon.isDevPreviewModeRunning(),e.$q.all({is_account_admin:e.cakeCommon.isUserAccountAdmin(),can_edit_items:e.cakePermissions.userHasPermission("edit_items"),active_locations:e.cakeSettings.getSettings("active_locations"),default_gl_account:e.cakeGLAccounts.getDefaultGLAccount(),default_count_group:e.cakeCountGroups.getDefaultCountGroup()}).then(function(t){e.isAccountAdmin=t.is_account_admin,e.activeLocations=t.active_locations,e.activeLocationsById=_.object(_.pluck(e.activeLocations,"id"),e.activeLocations),e.canEditItems=t.can_edit_items,e.defaultGLAccount=t.default_gl_account,e.defaultCountGroup=t.default_count_group,b().then(function(){var t=_.sortBy(e.itemsDBCategories.concat(e.itemsDBTags),"name");e.itemDBCategoriesAndTags=_.map(t,function(e,t){return e.index=t,e}),e.hideMessage(),e.blockers.api_processing=!1})},function(t){e.errorHandler(t)})},C.addItemsDBItem=function(e){var t=C;return t.blockers.api_processing||t.blockers.saving||!t.canEditItems?void 0:t.$q(function(n,i){t.blockers.api_processing=!0,t.blockers.saving=!0,v(e).then(function(e){t.blockers.api_processing=!1,t.blockers.saving=!1,E("New item added!"),n(e)},function(e){t.blockers.api_processing=!1,t.blockers.saving=!1,i(e)})})},C.addAllFoundItemsDBItems=function(){var e=C;return e.blockers.api_processing||e.blockers.saving||!e.canEditItems?void 0:e.$q(function(t,n){e.blockers.api_processing=!0,e.blockers.saving=!0;var i=[];_.each(e.bulkFormData.cached_options,function(e){e.already_added||i.push(v(e))}),e.$q.all(i).then(function(n){e.blockers.api_processing=!1,e.blockers.saving=!1,E("New items added!"),t(n)},function(t){e.blockers.api_processing=!1,e.blockers.saving=!1,n(t)})})},C.bulkFormResultsUpdate=function(){var e=C;e.blockers.api_processing||e.blockers.saving||!e.canEditItems||(e.pagination.page_no=1,w())},C.errorHandler=function(e,t,n){var i=C,o="";return t=t||!1,o=_.isString(e)?"There was an error: "+e:"There was an error, please check console log for more details.",i.showMessage(o,"alert"),t&&i.cakeCommon.apiErrorHandler(e),_.isFunction(n)?n():void 0},C.goBack=function(){var e=C;e.$location.path("/settings/items")},C.hideMessage=function(){var e=C;e.userInfo={message:"",type:""}},C.onPaginationChangeCallback=function(){var e=C;e.blockers.api_processing||e.blockers.saving||!e.canEditItems||w()},C.showMessage=function(e,t){var n=C;t=t||"info",n.userInfo.message=e,n.userInfo.type=t}};i.$inject=["$location","$mdDialog","$peachToast","$q","commonService","countGroupsService","glAccountsService","itemsService","itemsDBItemsService","itemsDBCategoriesServices","itemsDBItemTagsService","itemsDBTagsService","permissionsService","settingsService"],t["default"]=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t,i,r,a,s,c,u){function l(){var e=v,t=[];return e.$q(function(n,i){e.requestParams={},""!==e.searchParams.searchQuery&&t.push({name:{$like:e.searchParams.searchQuery}}),e.requestParams.page=e.pagination.page_no,e.requestParams.limit=e.pagination.limit,e.requestParams.sort="name",t.length>0&&(e.requestParams.find={$and:t}),n(!0)})}function d(){var e=v;return e.$q(function(t,n){l().then(function(){var i=e.requestParams.find||null,o=_.omit(e.requestParams,"find");e.cakeCountGroups.loadCountGroups(i,o).then(function(i){e.pagination.total_items=i.count||0,e.cakeItems.loadItems({count_group_id:_.keys(e.cakeCountGroups.getCountGroupsCollection())}).then(function(e){t(i)},function(e){n(e)})},function(e){n(e)})})})}function m(){var e=v;return e.$q(function(t,n){e.blockers.api_processing=!0,d().then(function(n){f().then(function(){e.hideMessage(),e.blockers.api_processing=!1,e.$document[0].getElementById("page_frame").scrollTop=0,t(!0)})},function(t){e.errorHandler(t),e.blockers.api_processing=!1,n(t)})})}function f(){var e=v;return e.$q(function(e,t){h().then(function(){p().then(function(){e(!0)})})})}function p(){var e=v;return e.countGroups=e.cakeCountGroups.getCountGroups(),e.countGroupsById={},e.$q(function(t,n){_.each(e.countGroups,function(t){t.items=e.itemsByCountGroup[t.id]||[],t.schedule_days_arr=t.schedule_days?JSON.parse(t.schedule_days):[],t.frequency=e.cakeCountGroups.getReadableFrequency(t),t.frequency_short=t.frequency["short"],t.number_of_items=t.items.length,e.countGroupsById[t.id]=t}),t(!0)})}function h(){var e=v;return e.items=e.cakeItems.getItems(),e.itemsById={},e.itemsByCountGroup={},e.$q(function(t,n){_.each(e.items,function(t){e.itemsByCountGroup[t.count_group_id]=e.itemsByCountGroup[t.count_group_id]||[],e.itemsByCountGroup[t.count_group_id].push(t),e.itemsById[t.id]=t}),t(!0)})}n(this,o);var v=this;v.activate=function(){var e=v;e.blockers.api_processing=!0,e.isDeveloperMode=e.cakeCommon.isDevPreviewModeRunning(),e.$q.all({is_account_admin:e.cakeCommon.isUserAccountAdmin(),active_locations:e.cakeSettings.getSettings("active_locations"),can_edit_count_groups:e.cakePermissions.userHasPermission("edit_count_groups"),predefined_frequencies:e.cakeCountGroups.getPredefinedFrequencies()}).then(function(t){e.activeLocations=t.active_locations,e.activeLocationsById=_.object(_.pluck(e.activeLocations,"id"),e.activeLocations),e.isAccountAdmin=t.is_account_admin,e.canEditCountGroups=t.can_edit_count_groups,e.predefinedFrequencies=t.predefined_frequencies,m()},function(t){e.errorHandler(t)})},v.errorHandler=function(e,t,n){var i=v,o="";return t=t||!1,o=_.isString(e)?"There was an error: "+e:"There was an error, please check console log for more details.",i.showMessage(o,"alert"),t&&i.cakeCommon.apiErrorHandler(e),_.isFunction(n)?n():void 0},v.hideMessage=function(){var e=v;e.userInfo={message:"",type:""}},v.onPaginationChangeCallback=function(){m()},v.onSearchPhraseUpdateCallback=function(){var e=v;e.pagination.page_no=1,e.onPaginationChangeCallback()},v.openEditCountGroupModal=function(e){var t=v;t.$location.path("/settings/edit_count_group").search({id:e})},v.showMessage=function(e,t){var n=v;t=t||"info",n.userInfo.message=e,n.userInfo.type=t}};i.$inject=["$document","$location","$q","commonService","countGroupsService","itemsService","permissionsService","settingsService"],t["default"]=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t,i,r,a,s,c,u,l,d){function m(e){var t=y,n=t.$filter("filter")(t.countGroups,{name:e});return _.pluck(n,["id"])}function f(){var e=y,t=[];return e.$q(function(n,i){if(e.requestParams={},""!==e.searchParams.searchQuery){var o=[],r=m(e.searchParams.searchQuery);r.length>0&&o.push({count_group_id:r}),moment(e.searchParams.searchQuery,"l").isValid()&&o.push({date:moment(e.searchParams.searchQuery,"l").format("YYYY-MM-DD")}),o.length>0&&(o.length>1?t.push({$or:o}):t.push(o[0]))}e.filters.location_id&&t.push({location_id:e.filters.location_id}),e.requestParams.page=e.pagination.page_no,e.requestParams.limit=e.pagination.limit,e.requestParams.sort="-date,-created_at",t.length>0&&(e.requestParams.find={$and:t}),n(!0)})}function p(e){var t=y;e?(t.blockers.no_location=!1,t.activeLocationsById[e]?(t.filters.location_id=e,_.isUndefined(t.locationCountsCheck[e])?b(e).then(function(n){t.locationCountsCheck[e]=n,p(e)},function(e){t.errorHandler(e),t.blockers.api_processing=!1}):0==t.locationCountsCheck[e]&&t.canEditCounts?t.openNewCountModal():t.onPaginationChangeCallback()):(t.counts=[],t.countsById={},t.pagination.total_items=0,t.showMessage("Selected location is not an active Cake location."),t.blockers.api_processing=!1,t.blockers.no_location=!0)):(t.counts=[],t.countsById={},t.pagination.total_items=0,t.blockers.api_processing=!1,t.blockers.no_location=!0)}function h(){var e=y;return e.$q(function(t,n){f().then(function(){var i=e.requestParams.find||null,o=_.omit(e.requestParams,"find");e.$q.all([e.cakeCounts.loadCounts(i,o),e.cakeCounts.loadOpeningCounts({location_id:e.filters.location_id})]).then(function(n){e.pagination.total_items=n[0].count||0,t(n)},function(e){n(e)})})})}function v(){var e=y;return e.$q(function(t,n){e.filters.location_id?(e.blockers.api_processing=!0,h().then(function(n){g().then(function(){e.hideMessage(),e.blockers.api_processing=!1,e.$document[0].getElementById("page_frame").scrollTop=0,t(!0)})},function(t){e.errorHandler(t),e.blockers.api_processing=!1,n(t)})):(e.counts=[],e.countsById={},e.pagination.total_items=0,e.blockers.api_processing=!1,e.blockers.no_location=!0)})}function g(){var e=y;return e.$q(function(t,n){e.counts=e.cakeCounts.getCounts(),e.openingCounts=e.cakeCounts.getOpeningCounts(),e.openingCountsById=e.cakeCounts.getOpeningCountsCollection();var i=_.groupBy(e.openingCounts,function(e){return e.count_group_id});_.each(e.counts,function(t){t.is_opening_count=!1,t.date_formatted=moment(t.date,"YYYY-MM-DD").format("l"),t.count_group=e.countGroupsById[t.count_group_id],t.status=t.percent_complete?parseFloat(Big(t.percent_complete).toFixed(2)):0,i[t.count_group_id]&&(t.is_opening_count=0==moment(i[t.count_group_id][0].count_date,"YYYY-MM-DD").diff(moment(t.date,"YYYY-MM-DD"),"days")?!0:!1),e.countsById[t.id]=t}),t(!0)})}function b(e){var t=y;return t.$q(function(n,i){t.cakeCounts.loadCounts({location_id:e},{fields:"id",limit:1},!0).then(function(e){n(e.count)},function(e){i(e)})})}function $(){var e=y;return e.$q(function(t,n){e.countGroups=e.cakeCountGroups.getCountGroups(),e.countGroupsById=e.cakeCountGroups.getCountGroupsCollection(),t(!0)})}n(this,o);var y=this;y.activate=function(){var e=y;e.blockers.api_processing=!0,e.isDeveloperMode=e.cakeCommon.isDevPreviewModeRunning(),e.$q.all({is_account_admin:e.cakeCommon.isUserAccountAdmin(),active_locations:e.cakeSettings.getSettings("active_locations"),can_edit_counts:e.cakePermissions.userHasPermission("edit_counts"),count_groups:e.cakeCountGroups.loadCountGroups(null,{sort:"name"})}).then(function(t){e.activeLocations=t.active_locations,e.activeLocationsById=_.object(_.pluck(e.activeLocations,"id"),e.activeLocations),e.isAccountAdmin=t.is_account_admin,e.canEditCounts=t.can_edit_counts,$().then(function(){p(e.$peach.session.getActiveLocation()),e.$peach.event.subscribe(e.$peach.event.events.LOCATION_CHANGE,function(e){(_.isUndefined(e)||_.isNumber(e)||_.isNull(e))&&p(e)})})},function(t){e.blockers.api_processing=!1,e.canEditCounts=!1,e.errorHandler(t)})},y.errorHandler=function(e,t,n){var i=y,o="";return t=t||!1,o=_.isString(e)?"There was an error: "+e:"There was an error, please check console log for more details.",i.showMessage(o,"alert"),t&&i.cakeCommon.apiErrorHandler(e),_.isFunction(n)?n():void 0},y.hideMessage=function(){var e=y;e.userInfo={message:"",type:""}},y.onPaginationChangeCallback=function(){v()},y.onSearchPhraseUpdateCallback=function(){var e=y;e.pagination.page_no=1,e.onPaginationChangeCallback()},y.openNewCountModal=function(){var e=y;e.blockers.no_location||e.$location.path("/edit_count")},y.openEditCountModal=function(e){var t=y;t.$location.path("/edit_count").search({id:e})},y.showMessage=function(e,t){var n=y;t=t||"info",n.userInfo.message=e,n.userInfo.type=t}};i.$inject=["$document","$filter","$location","$peach","$q","commonService","countGroupsService","countsService","permissionsService","settingsService"],t["default"]=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t,i,r,a,s,c,u,l,d,m,f,p,h,v,g,b,$,y,k,E,w){function C(){var e=G;return e.$q(function(e,t){return A(e,t)})}function A(e,t){var n=G;n.editedCount.data.task_id?n.taskQueueResource.find(n.editedCount.data.task_id).then(function(n){switch(n.status){case"job queued":case"job processing":B(e,t);break;case"job completed":x(e,t);break;case"job failed":t(n)}},function(n){404==n.error.status?x(e,t):t(n)}):e(!0)}function I(e,t){return _.isUndefined(e)||_.isNull(e)?Big(0):Big(e).times(Big(t.unit_quantity))}function x(e,t){var n=G;J&&(n.$mdDialog.hide(),J=null),W&&(n.$timeout.cancel(W),W=null),n.cakeCounts.updateCount({id:n.editedCount.data.id,task_id:null}).then(function(){e(!0)},function(e){t(e)})}function M(){var e=G;return e.$q(function(t,n){e.$q.all([e.cakeCounts.loadCounts({$and:[{location_id:e.editedCount.form_data.location_id},{count_group_id:_.pluck(e.countGroups,"id")}]}),e.cakeCounts.loadOpeningCounts({$and:[{location_id:e.editedCount.form_data.location_id},{count_group_id:_.pluck(e.countGroups,"id")}]})]).then(function(n){e.counts=e.cakeCounts.getCounts(),e.countsById=e.cakeCounts.getCountsCollection(),e.openingCounts=e.cakeCounts.getOpeningCounts(),e.openingCountsById=e.cakeCounts.getOpeningCountsCollection(),e.openingCountsByCountGroupId=_.groupBy(e.openingCounts,function(e){return e.count_group_id}),_.each(e.counts,function(t){e.countGroupsById[t.count_group_id].counts.push(t),e.countGroupsById[t.count_group_id].disabled_dates.push(moment(t.date,"YYYY-MM-DD").format("YYYY-MM-DD"))}),t(!0)},function(e){n(e)})})}function T(){var e=G;return e.$q(function(t,n){var i=e.$filter("orderBy")(e.countGroupsById[e.editedCount.data.count_group_id].counts,"date"),o=_.findIndex(i,{id:e.editedCount.data.id});t({number:i.length-(o+1)})})}function S(){var e=G;return e.$q(function(t,n){e.$q.all([e.cakeItemLocations.loadItemLocations({location_id:e.editedCount.data.location_id}),e.cakeVendorLocations.loadVendorLocations({location_id:e.editedCount.data.location_id}),e.cakeCountItems.loadCountItems({$and:[{inv_count_id:e.editedCount.data.id},{location_id:e.editedCount.data.location_id}]},{sort:"-updated_at"})]).then(function(i){var o=_.uniq(_.pluck(e.cakeItemLocations.getItemLocations(),"inv_item_id")),r=_.uniq(_.pluck(e.cakeCountItems.getCountItems(),"inv_item_id"));e.cakeItems.loadItems({$or:[{$and:[{id:o.length>0?o:0},{count_group_id:e.editedCount.data.count_group_id},{is_active:!0}]},{id:r.length>0?r:0}]},{includes:"wtm_invoice_items"}).then(function(i){var o=_.uniq(_.pluck(i.results,"id")),r=_.uniq(_.pluck(_.flatten(_.compact(_.pluck(_.pluck(i.results,"wtm_invoice_items"),"results"))),"invoice_id")),a=_.uniq(_.pluck(e.cakeVendorLocations.getVendorLocations(),"vendor_id"));e.$q.all([e.cakeItemUnits.loadItemUnits({inv_item_id:o.length>0?o:0}),e.cakeVendorItems.loadVendorItems({$and:[{inv_item_id:o.length>0?o:0},{vendor_id:a.length>0?a:0}]},{sort:"-created_at"}),e.cakeInvoices.loadInvoices({$and:[{id:r.length>0?r:0},{location_id:e.editedCount.data.location_id}]})]).then(function(i){var o=_.uniq(_.pluck(i[0].results,"id"));e.cakeItemUnitLocations.loadItemUnitLocations({$and:[{inv_item_unit_id:o.length>0?o:0},{location_id:e.editedCount.data.location_id},{is_count_unit:!0}]}).then(function(n){O().then(function(){var n=e.cakeCountItems.getCountItems()[0];(!n||moment(n.updated_at,moment.ISO_8601).diff(moment(e.editedCount.data.updated_at,moment.ISO_8601),"seconds")<0)&&(n=e.editedCount.data),U(n),t(!0)})},function(e){n(e)})},function(e){n(e)})},function(e){n(e)})},function(e){n(e)})})}function N(){var e=G;z=e.$scope.$watch("vm.editedCount.form_data.date",function(t,n){e.validateDate("countForm"),e.validateDate("editCountForm")}),e.$scope.$on("$destroy",function(){z(),W&&(e.$timeout.cancel(W),W=null),X&&(e.$timeout.cancel(X),X=null)})}function D(){var e=G;return e.$q(function(t,n){_.each(e.cakeCountGroups.getCountGroups(),function(t){t.counts=[],t.disabled_dates=[],e.countGroups.push(t),e.countGroupsById[t.id]=t}),t(!0)})}function O(){var e=G;return e.$q(function(t,n){var i=[],o={},r={},a={};if(e.items=e.cakeItems.getItems(),e.itemsById=e.cakeItems.getItemsCollection(),e.items.length>0){e.itemUnitsById=e.cakeItemUnits.getItemUnitsCollection();var s=e.cakeCountItems.getCountItems();_.each(e.cakeItemLocations.getItemLocations(),function(t){e.itemsById[t.inv_item_id]&&(e.itemsById[t.inv_item_id].item_location=t)}),_.each(e.cakeInvoices.getInvoices(),function(t){t.receipt_date===e.editedCount.data.date&&moment(t.created_at,moment.ISO_8601).diff(moment(e.editedCount.data.created_at,moment.ISO_8601),"seconds")>0?a[t.id]=t:moment(t.receipt_date,"YYYY-MM-DD").diff(moment(e.editedCount.data.date,"YYYY-MM-DD"))>0&&(a[t.id]=t)}),_.each(e.cakeVendorItems.getVendorItems(),function(t){t.last_price=e.cakeCommon.parseCakeFloatValue(t.last_price),t.last_price>0&&(r[t.inv_item_id]?r[t.inv_item_id].push(t):(r[t.inv_item_id]=[],r[t.inv_item_id].push(t)))}),_.each(e.items,function(t){t.item_location?t.starting_cost=e.cakeCommon.parseCakeFloatValue(t.item_location.starting_cost):t.starting_cost=0,t.category=e.glAccountsById[t.gl_account_id],t.category_id=t.category.id,t.category_name=t.category.name,t.counted=!1,t.display=!1,t.last_cost_updateable=!0,t.wtm_invoice_items&&t.wtm_invoice_items.results&&_.each(t.wtm_invoice_items.results,function(e){return a[e.invoice_id]?(t.last_cost_updateable=!1,!1):void 0}),t.starting_cost_updateable=t.item_location?e.editedCount.is_opening_count?!0:t.item_location.opening_count_date?!1:!0:!1,t.save_starting_cost_along_with_quantity=!1,t.units_data=[],_.each(e.cakeItemUnits.getItemUnits(),function(n){if(n.inv_item_id==t.id){var i=_.findWhere(s,{inv_item_id:t.id,inv_item_unit_id:n.id}),o=_.findWhere(e.cakeItemUnitLocations.getItemUnitLocations(),{inv_item_id:t.id,inv_item_unit_id:n.id});if(i||o){var a=e.unitsById[n.unit_id];e.unitsById[n.common_unit_id];if(n.count_label=(a?a.name:"[deleted unit]")+(n.description?" ("+n.description+")":""),n.cost_label="per "+(a?a.name:"[deleted unit]"),n.item=t,i)n.cost_value=0==t.starting_cost?null:e.cakeCommon.parseCakeFloatValue(Big(t.starting_cost).times(n.unit_quantity)),n.new_cost_value=n.cost_value,n.quantity_value=e.cakeCommon.parseCakeFloatValue(i.quantity),n.new_quantity_value=angular.copy(n.quantity_value),n.count_object=i,t.counted=!0;else{if(0==t.starting_cost&&r[t.id]){var c=r[t.id][0],u=e.itemUnitsById[c.inv_item_unit_id];n.cost_value=null,n.new_cost_value=u?e.cakeCommon.parseCakeFloatValue(Big(c.last_price).div(u.unit_quantity).times(n.unit_quantity)):n.cost_value,n.item.save_starting_cost_along_with_quantity=!0}else n.cost_value=0==t.starting_cost?null:e.cakeCommon.parseCakeFloatValue(Big(t.starting_cost).times(n.unit_quantity)),n.new_cost_value=n.cost_value;n.quantity_value=null,n.new_quantity_value=null,n.count_object=null}t.units_data.push(n),t.display=!0}}}),t.display&&i.push(t)}),i=e.$filter("orderBy")(i,["category_name","name"]),_.each(i,function(e){o[e.category_name]?(o[e.category_name].items.push(e),e.counted&&o[e.category_name].counted_items.push(e)):(o[e.category_name]={items:[],counted_items:[]},o[e.category_name].items.push(e),e.counted&&o[e.category_name].counted_items.push(e))}),e.editedCount.items_data=o,R().then(t,n)}else e.editedCount.items_data={},t(!0)})}function L(){var e=G;return e.$q(function(t,n){e.glAccounts=e.cakeGLAccounts.getGLAccounts(),e.glAccountsById=e.cakeGLAccounts.getGLAccountsCollection(),t(!0)})}function H(){var e=G;return e.$q(function(t,n){e.units=e.cakeUnits.getUnits(),e.unitsById=e.cakeUnits.getUnitsCollection(),e.unitsByAbbr=_.object(_.pluck(e.units,"abbr"),e.units),t(!0)})}function P(){var e=G;return e.$q(function(t,n){e.taskResource.create({id:e.cakeCommon.getCountingTaskId(),task_data:JSON.stringify({count_id:e.editedCount.data.id})}).then(function(i){e.cakeCounts.updateCount({id:e.editedCount.data.id,task_id:i.taskId}).then(function(){e.editedCount.data.task_id=i.taskId,t(!0)},function(e){n(e)})},function(e){n(e)})})}function q(){var e=G;return e.$q(function(t,n){var i=[];_.each(e.itemUnitsById,function(t){!t.count_object&&t.item&&i.push({inv_count_id:e.editedCount.data.id,inv_item_id:t.item.id,inv_item_unit_id:t.id,common_unit_id:t.common_unit_id,quantity:0,common_unit_quantity:0,location_id:e.editedCount.data.location_id})}),e.$q.all([e.cakeCountItems.bulkCreateCountItems(i)]).then(t,n)})}function j(){var e=G;e.$peach.event.subscribe(e.$peach.event.events.LOCATION_CHANGE,function(t){e.goBack()})}function B(e,t){var n=G;J||(J=n.$mdDialog.show({escapeToClose:!1,clickOutsideToClose:!1,parent:angular.element(document.getElementsByClassName("peach-modal")),template:'<md-dialog flex-sm="90" flex-md="55" flex-gt-md="35" flex-gt-lg="25">  <md-dialog-content>     <p>         <div layout="row" flex>Good job completing your count!<br /><br />Please wait while we process all the count values...<br /><br /><br /></div>         <div layout="row" flex>             <cake-progress-linear style="width: 100%;"></cake-progress-linear>         </div>     </p>  </md-dialog-content></md-dialog>'})),W&&(n.$timeout.cancel(W),W=null),W=n.$timeout(function(){A(e,t)},Y),W.then(function(){W=null})}function R(){var e=G;return e.$q(function(t,n){var i=Big(0),o=Big(0);_.each(e.items,function(e){e.display&&(i=i.plus(1),e.counted&&(o=o.plus(1)))});var r=i.eq(0)?0:parseInt(o.div(i).times(100).round());r!==e.editedCount.percentage?(e.editedCount.percentage=r,e.cakeCounts.updateCount({id:e.editedCount.data.id,
percent_complete:e.editedCount.percentage}).then(function(){t(!0)},function(n){e.errorHandler(n),t(!0)})):t(!0)})}function U(e,t){var n=G;e&&(e.updated_by||e.created_by)&&(_.isObject(t)?F(e,t):n.$peach.account.getUsers(e.updated_by?e.updated_by:e.created_by).then(function(t){F(e,t)},function(e){n.editedCount.update_timestamp=""}))}function F(e,t){var n=G;n.editingPreviouslyCreatedCount?n.editedCount.update_timestamp="Last Updated by "+t.first_name+" "+t.last_name+" on "+moment(e.updated_at,moment.ISO_8601).tz(n.locationTime.timezone).format("llll")+" "+moment(e.updated_at,moment.ISO_8601).tz(n.locationTime.timezone).zoneAbbr():(n.editedCount.update_timestamp="Auto-Saved "+moment(e.updated_at,moment.ISO_8601).tz(n.locationTime.timezone).fromNow()+" by "+t.first_name+" "+t.last_name,X&&(n.$timeout.cancel(X),X=null),X=n.$timeout(function(){U(e,t)},K),X.then(function(){X=null}))}function V(e,t){var n=G;e.count_object=t,e.quantity_value=angular.copy(e.new_quantity_value),e.item.counted=!0,U(t),R().then(function(t){n.blockers.api_processing=!1,e.item.save_starting_cost_along_with_quantity&&(e.item.save_starting_cost_along_with_quantity=!1,G.saveCost(e.id))},function(e){n.blockers.api_processing=!1,n.errorHandler(e)})}n(this,o);var G=this,z=null,Y=5e3,W=null,K=6e4,X=null,J=null;G.activate=function(){var e=G;N(),e.isDeveloperMode=e.cakeCommon.isDevPreviewModeRunning(),e.$q.all({is_account_admin:e.cakeCommon.isUserAccountAdmin(),active_locations:e.cakeSettings.getSettings("active_locations"),can_edit_counts:e.cakePermissions.userHasPermission("edit_counts"),current_utc_timestamp:e.cakeSettings.refreshSettings("current_utc_timestamp")}).then(function(t){e.activeLocations=t.active_locations,e.activeLocationsById=_.object(_.pluck(e.activeLocations,"id"),e.activeLocations),e.isAccountAdmin=t.is_account_admin,e.canEditCount=t.can_edit_counts;var n=moment(t.current_utc_timestamp,moment.ISO_8601).unix(),i=moment().utc().unix(),o=n-i;e.locationTime.utc_time_diff=Math.abs(o)<60?0:o;var r=e.$peach.session.getActiveLocation();e.activeLocationsById[r]?(e.locationTime.timezone=e.activeLocationsById[r].timezone?e.activeLocationsById[r].timezone:e.locationTime.timezone,e.$q.all({count_groups:e.cakeCountGroups.loadCountGroups(null,{sort:"name"}),gl_accounts:e.cakeGLAccounts.loadGLAccounts(null,{sort:"name"}),units:e.cakeUnits.loadUnits(null,{sort:"name"})}).then(function(){e.$q.all([D(),L(),H()]).then(function(){e.editedCount.form_data.location_id=r,e.countGroups.length>0?M().then(function(){if(e.$location.search().id){var t=_.findWhere(e.counts,{id:parseInt(e.$location.search().id)});t?(e.editedCount.data=t,e.editedCount.data.formatted_date=moment(e.editedCount.data.date,"YYYY-MM-DD").format("l"),e.editedCount.form_data=angular.copy(e.editedCount.data),e.editedCount.form_data.date=moment(e.editedCount.form_data.date,"YYYY-MM-DD").toDate(),e.editedCount.percentage=parseInt(Big(e.editedCount.data.percent_complete?e.editedCount.data.percent_complete:0).round()),e.editedCount.parent_group=e.countGroupsById[e.editedCount.data.count_group_id],e.editedCount.was_complete=e.editedCount.data.is_complete?!0:!1,e.editingPreviouslyCreatedCount=!0,e.openingCountsByCountGroupId[e.editedCount.data.count_group_id]?e.editedCount.is_opening_count=0==moment(e.openingCountsByCountGroupId[e.editedCount.data.count_group_id][0].count_date,"YYYY-MM-DD").diff(moment(e.editedCount.data.date,"YYYY-MM-DD"),"days")?!0:!1:e.editedCount.is_opening_count=!0,S().then(function(){j(),C().then(function(){e.blockers.initializing=!1},function(t){e.blockers.initializing=!1,e.errorHandler({counting_task_error:t},!0)})},function(t){e.canEditCount=!1,e.blockers.initializing=!1,e.errorHandler(t)})):(e.canEditCount=!1,e.blockers.initializing=!1,e.errorHandler("Couldn't find a count with id: "+e.$location.search().id))}else j(),e.blockers.initializing=!1,e.hideMessage()},function(t){e.canEditCount=!1,e.blockers.initializing=!1,e.errorHandler(t)}):(e.canEditCount=!1,e.blockers.initializing=!1,e.showMessage("There are no active count groups you could create/edit count for."))})},function(t){e.canEditCount=!1,e.blockers.initializing=!1,e.errorHandler(t)})):(j(),r&&e.showMessage("Selected location is not an active Cake location."),e.canEditCount=!1,e.blockers.initializing=!1)},function(t){e.canEditCount=!1,e.blockers.initializing=!1,e.errorHandler(t)})},G.closeModal=function(){var e=G;e.editedCount.data.id&&!e.editedCount.data.is_complete?e.confirmSaveCount():e.goBack()},G.confirmDeleteCount=function(e){var t=G,n="Are you sure you want to delete"+(t.editedCount.data.is_complete?" the Complete":"")+" Count for Group '"+t.editedCount.parent_group.name+"' on "+moment(t.editedCount.data.date,"YYYY-MM-DD").format("l")+"?";T().then(function(e){var i="Deleting this count will affect the data associated with "+e.number+" other more recent counts.";t.$mdDialog.show({disableParentScroll:!0,hasBackdrop:!0,template:'<md-dialog flex-sm="90" flex-md="55" flex-gt-md="35" flex-gt-lg="25">  <md-dialog-content>     <p>         <div layout="row" flex>'+n+"<br /><br /></div>"+(e.number>0?'<div layout="row" flex>'+i+"<br /><br /></div>":"")+'         <div layout="row" layout-align="center" flex>             <md-button class="md-primary" ng-click="cancel();" title="Cancel" aria-label="Cancel">                 <span>CANCEL</span>             </md-button>             <md-button class="md-primary" ng-click="confirm();" title="Delete count" aria-label="Delete count">                 <span>DELETE COUNT</span>             </md-button>         </div>     </p>  </md-dialog-content></md-dialog>',controller:["$scope","$mdDialog",function(e,n){e.confirm=function(){t.deleteCount(),n.hide()},e.cancel=function(){n.hide()}}]})})},G.confirmSaveCount=function(e){var t=G,n="This count only has "+t.editedCount.percentage+"% of the items counted. On completion all item costs will be calculated and saved for reporting. Any blank quantities will be saved as a zero.<br /><br />Do you want to mark the count as Complete?",i="This count has 100% of the items counted. On completion all item costs will be calculated and saved for reporting.<br /><br />Do you want to mark the count as Complete?",o=100==t.editedCount.percentage?i:n;setTimeout(function(){t.$mdDialog.show({disableParentScroll:!0,hasBackdrop:!0,template:'<md-dialog flex-sm="90" flex-md="55" flex-gt-md="35" flex-gt-lg="25">  <md-dialog-content>     <p>         <div layout="row" flex>'+o+'<br /><br /></div>         <div layout="row" layout-align="center" flex>             <md-button class="md-primary" ng-click="simpleSave();" title="NO, SAVE WITHOUT COMPLETING" aria-label="NO, SAVE WITHOUT COMPLETING">                 <span>NO, SAVE WITHOUT COMPLETING</span>             </md-button>         </div>         <div layout="row" layout-align="center" flex>             <md-button class="md-primary" ng-click="completeSave();" title="YES, MARK COUNT AS COMPLETE" aria-label="YES, MARK COUNT AS COMPLETE">                 <span>YES, MARK COUNT AS COMPLETE</span>             </md-button>         </div>     </p>  </md-dialog-content></md-dialog>',controller:["$scope","$mdDialog",function(e,n){e.simpleSave=function(){t.updateCount(!1),n.hide()},e.completeSave=function(){t.updateCount(!0),n.hide()}}]})},500)},G.createCount=function(){var e=G;if(e.canEditCount){var t=parseInt(e.editedCount.form_data.count_group_id,10),n={count_group_id:t,date:moment(e.editedCount.form_data.date).format("YYYY-MM-DD"),is_complete:!1,percent_complete:0,location_id:e.editedCount.form_data.location_id};e.blockers.api_processing=!0,e.cakeCounts.createCount(n).then(function(n){e.editedCount.is_opening_count=!1,e.editedCount.data=n,e.editedCount.data.formatted_date=moment(e.editedCount.data.date,"YYYY-MM-DD").format("l"),e.editedCount.form_data=angular.copy(e.editedCount.data),e.editedCount.form_data.date=moment(e.editedCount.form_data.date,"YYYY-MM-DD").toDate(),e.editedCount.parent_group=e.countGroupsById[t],e.openingCountsByCountGroupId[e.editedCount.data.count_group_id]?e.editedCount.is_opening_count=moment(e.openingCountsByCountGroupId[e.editedCount.data.count_group_id][0].count_date,"YYYY-MM-DD").diff(moment(e.editedCount.data.date,"YYYY-MM-DD"),"days")>0?!0:!1:e.editedCount.is_opening_count=!0,e.countGroupsById[t].counts.push(e.editedCount.data),S().then(function(){e.blockers.api_processing=!1},function(t){e.blockers.api_processing=!1,e.errorHandler(t)})},function(t){e.blockers.api_processing=!1,e.errorHandler(t)})}},G.deleteCount=function(){var e=G;e.canEditCount&&e.editedCount.data.id&&(e.blockers.api_processing=!0,e.cakeCounts.removeCount(e.editedCount.data.id).then(function(){e.blockers.api_processing=!1,e.goBack()},function(t){e.blockers.api_processing=!1,e.errorHandler(t)}))},G.errorHandler=function(e,t,n){var i=G,o="";return t=t||!1,o=_.isString(e)?"There was an error: "+e:"There was an error, please check console log for more details.",i.showMessage(o,"alert"),t&&i.cakeCommon.apiErrorHandler(e),_.isFunction(n)?n():void 0},G.goBack=function(){var e=G;e.$location.path("/counts").search("id",null)},G.hideMessage=function(){var e=G;e.userInfo={message:"",type:""}},G.saveCost=function(e){var t=G;if(t.canEditCount&&t.editedCount.data.id){var n=t.itemUnitsById[e];if(n&&n.item.starting_cost_updateable&&n.item.item_location&&n.new_cost_value!==n.cost_value){t.blockers.api_processing=!0;var i=Big(0),o=Big(0),r={id:n.item.item_location.id};_.each(n.item.units_data,function(e){_.isNumber(e.new_quantity_value)&&0!==e.new_quantity_value&&e.new_cost_value&&(i=i.plus(1),o=o.plus(Big(e.new_cost_value).div(e.unit_quantity)))}),r.starting_cost=0==i.cmp(Big(0))?0:t.cakeCommon.parseCakeFloatValue(o.div(i)),n.item.last_cost_updateable&&(r.last_cost=r.starting_cost),t.cakeItemLocations.updateItemLocation(r).then(function(e){n.cost_value=n.new_cost_value,n.item.starting_cost=t.cakeCommon.parseCakeFloatValue(e.starting_cost),t.blockers.api_processing=!1},function(e){n.new_cost_value=n.cost_value,t.blockers.api_processing=!1,t.errorHandler(e)})}}},G.saveQuantity=function(e){var t=G;if(t.canEditCount&&t.editedCount.data.id){var n=t.itemUnitsById[e];if(n&&n.new_quantity_value!==n.quantity_value)if(_.isNumber(n.new_quantity_value)){var i=t.cakeCommon.parseCakeFloatValue(n.new_quantity_value),o=t.cakeCommon.parseCakeFloatValue(I(n.new_quantity_value,n));n.count_object?(t.blockers.api_processing=!0,t.cakeCountItems.updateCountItem({id:n.count_object.id,quantity:i,common_unit_quantity:o}).then(function(e){V(n,e)},function(e){n.new_quantity_value=n.quantity_value,t.blockers.api_processing=!1,t.errorHandler(e)})):(t.blockers.api_processing=!0,t.cakeCountItems.createCountItem({inv_count_id:t.editedCount.data.id,inv_item_id:n.item.id,inv_item_unit_id:n.id,common_unit_id:n.common_unit_id,quantity:i,common_unit_quantity:o,location_id:t.editedCount.data.location_id}).then(function(e){V(n,e)},function(e){n.new_quantity_value=n.quantity_value,t.blockers.api_processing=!1,t.errorHandler(e)}))}else n.count_object&&(t.blockers.api_processing=!0,t.cakeCountItems.removeCountItem({id:n.count_object.id}).then(function(e){n.count_object=null,n.quantity_value=null,n.new_quantity_value=null,n.item.counted=!1,_.each(n.item.units_data,function(e){return e.count_object?(n.item.counted=!0,!1):void 0}),U(e),R().then(function(e){t.blockers.api_processing=!1},function(e){t.blockers.api_processing=!1,t.errorHandler(e)})},function(e){n.new_quantity_value=n.quantity_value,t.blockers.api_processing=!1,t.errorHandler(e)}))}},G.showMessage=function(e,t){var n=G;t=t||"info",n.userInfo.message=e,n.userInfo.type=t},G.toggleCountIsComplete=function(){var e=G;e.canEditCount&&e.editedCount.was_complete&&(e.editedCount.form_data.is_complete?e.updateCount(!0):(e.blockers.api_processing=!0,e.cakeCounts.updateCount({id:e.editedCount.data.id,is_complete:!1}).then(function(t){U(t),e.editedCount.data.is_complete=!1,e.editedCount.form_data.is_complete=!1,e.blockers.api_processing=!1},function(t){e.blockers.api_processing=!1,e.errorHandler(t)})))},G.updateCount=function(e){var t=G;if(e=e||!1,t.canEditCount&&t.editedCount.data.id){var n={id:t.editedCount.data.id,percent_complete:t.editedCount.percentage,notes:t.editedCount.form_data.notes},i=function(e){t.blockers.api_processing=!1,t.errorHandler(e)},o=function(n){e?C().then(function(){t.blockers.api_processing=!1,t.goBack()},function(e){t.blockers.api_processing=!1,t.errorHandler({counting_task_error:e},!0)}):(t.blockers.api_processing=!1,t.goBack())};t.editedCount.data.is_complete||(n.date=moment(t.editedCount.form_data.date).format("YYYY-MM-DD")),e&&(n.is_complete=!0),t.blockers.api_processing=!0,t.cakeCounts.updateCount(n).then(function(t){U(t),e?q().then(function(e){P().then(o,i)},i):o(t)},i)}},G.validateDate=function(e){var t=G,n=moment(t.editedCount.form_data.date),i=parseInt(t.editedCount.form_data.count_group_id,10);t.forms[e]&&(t.forms[e].countDate.$setValidity("unique",!0),t.forms[e].countDate.$setValidity("is_date",!0),_.isUndefined(t.editedCount.form_data.date)?t.forms[e].countDate.$setValidity("is_date",!1):n.isValid()?t.countGroupsById[i]&&t.countGroupsById[i].disabled_dates.indexOf(n.format("YYYY-MM-DD"))>=0&&(t.editedCount.data.id&&moment(t.editedCount.data.date,"YYYY-MM-DD").format("YYYY-MM-DD")!==n.format("YYYY-MM-DD")||!t.editedCount.data.id)&&t.forms[e].countDate.$setValidity("unique",!1):t.forms[e].countDate.$setValidity("is_date",!1))}};i.$inject=["$filter","$location","$mdDialog","$peach","$q","$scope","$timeout","commonService","countGroupsService","countsService","countItemsService","glAccountsService","invoicesService","temsService","itemLocationsService","itemUnitsService","itemUnitLocationsService","permissionsService","settingsService","unitsService","vendorItemsService","vendorLocationsService"],t["default"]=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t,i,r,a,s,c,u,l){n(this,o);var d=this;d.activate=function(){var e=d;e.isDeveloperMode=e.cakeCommon.isDevPreviewModeRunning(),e.$q.all({is_account_admin:e.cakeCommon.isUserAccountAdmin(),can_edit_count_groups:e.cakePermissions.userHasPermission("edit_count_groups"),count_groups:e.cakeCountGroups.loadCountGroups(),predefined_frequencies:e.cakeCountGroups.getPredefinedFrequencies()}).then(function(t){e.isAccountAdmin=t.is_account_admin,e.canEditCountGroup=t.can_edit_count_groups,e.predefinedFrequencies=t.predefined_frequencies,e.predefinedFrequenciesKeys=_.keys(e.predefinedFrequencies),e.countGroupNames=_.map(_.pluck(e.cakeCountGroups.getCountGroups(),"name"),function(e){return e.toLowerCase()}),e.$location.search().id&&"new"!==e.$location.search().id&&(e.editedCountGroup.data=_.find(e.cakeCountGroups.getCountGroups(),{id:parseInt(e.$location.search().id)})),e.editedCountGroup.data&&e.editedCountGroup.data.id?(e.disableIsDefaultSwitch=e.editedCountGroup.data.is_default,e.countGroupNames=_.without(e.countGroupNames,e.editedCountGroup.data.name.toLowerCase()),e.editedCountGroup.data.frequency=e.cakeCountGroups.getReadableFrequency(e.editedCountGroup.data),e.editedCountGroup.data.frequencyKey=e.editedCountGroup.data.frequency["short"],e.$q.all([e.cakeItems.loadItems({count_group_id:e.editedCountGroup.data.id},{sort:"name"}),e.cakeCounts.loadCounts({count_group_id:e.editedCountGroup.data.id})]).then(function(){e.editedCountGroup.data.items=e.cakeItems.getItems(),e.editedCountGroup.data.itemNames=e.editedCountGroup.data.items.length>5?_.slice(_.pluck(e.cakeItems.getItems(),"name"),0,5).join(", ")+"...":_.pluck(e.cakeItems.getItems(),"name").join(", "),e.canDeleteCountGroup=e.editedCountGroup.data.is_default?!1:e.cakeCounts.getCounts().length>0?!1:!0,e.canDeleteCountGroup=e.canDeleteCountGroup?e.canEditCountGroup:!1,e.editedCountGroup.form_data=angular.copy(e.editedCountGroup.data),e.blockers.initializing=!1},function(t){e.canEditCountGroup=!1,e.blockers.initializing=!1,e.errorHandler(t)})):(e.editedCountGroup.data={is_active:!0,is_default:!1},e.editedCountGroup.form_data=angular.copy(e.editedCountGroup.data),e.blockers.initializing=!1)},function(t){e.canEditCountGroup=!1,e.blockers.initializing=!1,e.errorHandler(t)})},d.confirmDeleteCountGroup=function(e){var t=d;t.$mdDialog.show({disableParentScroll:!0,hasBackdrop:!0,template:'<md-dialog flex-sm="90" flex-md="55" flex-gt-md="35" flex-gt-lg="25">  <md-dialog-content>     <p>         <div layout="row" flex>Are you sure you want to delete your count group?<br /><br /></div>         <div layout="row" layout-align="center" flex>             <md-button class="md-primary" ng-click="confirm();" title="YES, DELETE MY COUNT GROUP" aria-label="YES, DELETE MY COUNT GROUP">                 <span>YES, DELETE MY COUNT GROUP</span>             </md-button>         </div>         <div layout="row" layout-align="center" flex>             <md-button class="md-primary" ng-click="cancel();" title="NO, TAKE ME BACK" aria-label="NO, TAKE ME BACK">                 <span>NO, TAKE ME BACK</span>             </md-button>         </div>     </p>  </md-dialog-content></md-dialog>',controller:["$scope","$mdDialog",function(e,n){e.confirm=function(){t.deleteCountGroup(),n.hide()},e.cancel=function(){n.hide()}}]})},d.deleteCountGroup=function(){var e=d;e.editedCountGroup.data.id&&e.canDeleteCountGroup&&(e.blockers.api_processing=!0,e.cakeCountGroups.removeCountGroup(e.editedCountGroup.data.id).then(function(){e.blockers.api_processing=!1,e.goBack()},function(t){e.blockers.api_processing=!1,e.errorHandler(t)}))},d.errorHandler=function(e,t,n){var i=d,o="";return t=t||!1,o=_.isString(e)?"There was an error: "+e:"There was an error, please check console log for more details.",i.showMessage(o,"alert"),t&&i.cakeCommon.apiErrorHandler(e),_.isFunction(n)?n():void 0},d.goBack=function(){var e=d;e.$location.path("/settings/count_groups").search("id",null)},d.hideMessage=function(){var e=d;e.userInfo={message:"",type:""}},d.isDefaultChangeCallback=function(){var e=d;e.editedCountGroup.form_data.is_default&&(e.editedCountGroup.form_data.is_active=!0)},d.nameChangeCallback=function(e){var t=d;t.forms[e].groupName.$setValidity("duplicate",!0),t.editedCountGroup.form_data.name&&t.countGroupNames.indexOf(t.editedCountGroup.form_data.name.toLowerCase())>=0&&t.forms[e].groupName.$setValidity("duplicate",!1)},d.nameBlurCallback=function(){var e=d;e.editedCountGroup.form_data.name||(e.editedCountGroup.form_data.name=e.editedCountGroup.data.name)},d.openItemsPage=function(){var e=d;e.editedCountGroup.data.id&&(e.cakeSharedData.setValue("items_search",{count_group_id:e.editedCountGroup.data.id}),e.$location.path("/settings/items").search("id",null))},d.saveCountGroup=function(){var e=d;if(e.canEditCountGroup){e.blockers.api_processing=!0;var t=_.extend(e.editedCountGroup.form_data,e.predefinedFrequencies[e.editedCountGroup.form_data.frequencyKey]);e.editedCountGroup.data.id?e.cakeCountGroups.updateCountGroup(t).then(function(){e.blockers.api_processing=!1,e.goBack()},function(t){e.blockers.api_processing=!1,e.errorHandler(t)}):e.cakeCountGroups.createCountGroup(t).then(function(){e.blockers.api_processing=!1,e.goBack()},function(){e.blockers.api_processing=!1,e.errorHandler(error)})}},d.showMessage=function(e,t){var n=d;t=t||"info",n.userInfo.message=e,n.userInfo.type=t}};i.$inject=["$location","$mdDialog","$q","commonService","countGroupsService","countsService","itemsService","permissionsService","sharedDataService"],t["default"]=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t,i,r,a,s,c,u,l,d,m,f,p,h,v,g,b,$,y,k,E,w){function C(){var e=B;return e.$q(function(t,n){e.$q.all([e.cakeVendorItems.loadVendorItems({vendor_id:e.editedInvoice.data.vendor_id}),e.cakeInvoiceItems.loadInvoiceItems({$and:[{vendor_id:e.editedInvoice.data.vendor_id},{location_id:e.editedInvoice.data.location_id},{invoice_id:e.editedInvoice.data.id}]},{sort:"-updated_at"}),e.cakeInvoiceGLAccounts.loadInvoiceGLAccounts({$and:[{vendor_id:e.editedInvoice.data.vendor_id},{location_id:e.editedInvoice.data.location_id},{invoice_id:e.editedInvoice.data.id}]},{sort:"-updated_at"})]).then(function(i){e.vendorItems=e.cakeVendorItems.getVendorItems(),e.vendorItemsById=e.cakeVendorItems.getVendorItemsCollection(),e.invoiceItems=e.cakeInvoiceItems.getInvoiceItems(),e.invoiceItemsById=e.cakeInvoiceItems.getInvoiceItemsCollection(),e.invoiceGLAccounts=e.cakeInvoiceGLAccounts.getInvoiceGLAccounts(),e.invoiceGLAccountsById=e.cakeInvoiceGLAccounts.getInvoiceGLAccountsCollection();var o=_.uniq(_.pluck(e.vendorItems,"inv_item_id"));e.cakeItemLocations.loadItemLocations({$and:[{location_id:e.editedInvoice.data.location_id},{inv_item_id:o.length>0?o:0}]}).then(function(i){var o=_.uniq(_.pluck(i.results,"inv_item_id")),r=_.uniq(_.pluck(e.invoiceItems,"inv_item_id"));e.cakeItems.loadItems({$or:[{$and:[{id:o.length>0?o:0},{is_active:!0}]},{id:r.length>0?r:0}]}).then(function(i){e.items=e.cakeItems.getItems(),e.itemsById=e.cakeItems.getItemsCollection();var o=_.uniq(_.pluck(e.items,"id"));e.cakeItemUnits.loadItemUnits({inv_item_id:o.length>0?o:0}).then(function(n){e.itemUnitsbyId=e.cakeItemUnits.getItemUnitsCollection(),S().then(function(){M().then(function(){L();var n=null;n=e.invoiceItems.length>0&&e.invoiceGLAccounts.length>0?moment(e.invoiceItems[0].updated_at,moment.ISO_8601).diff(moment(e.invoiceGLAccounts[0].updated_at,moment.ISO_8601),"seconds")>0?e.invoiceItems[0]:e.invoiceGLAccounts[0]:0==e.invoiceItems.length?e.invoiceGLAccounts[0]:e.invoiceItems[0],(!n||moment(n.updated_at,moment.ISO_8601).diff(moment(e.editedInvoice.data.updated_at,moment.ISO_8601),"seconds")<0)&&(n=e.editedInvoice.data),q(n),t(!0)})})},function(e){n(e)})},function(e){n(e)})},function(e){n(e)})},function(e){n(e)})})}function A(){var e=B;return e.$q(function(t,n){var i=[],o=e.cakeGLAccounts.getGLAccountsCollection();_.each(e.cakeGLAccounts.getGLAccounts(),function(e){e.total_price_value=0,e.total_price_value_formatted="0.00",e.invoice_item_ids=[],e.parent=e.parent_id?o[e.parent_id]:null,i.push(e)}),e.glAccounts=I(i),e.glAccountsById=_.object(_.pluck(e.glAccounts,"id"),e.glAccounts),t(!0)})}function I(e){function t(e,n){for(var i=0;i<e.length;i++)e[i].depth=n,r.push(e[i]),_.isUndefined(o[e[i].id])||t(o[e[i].id],n+1)}var n=B,i=n.$filter("orderBy")(e,["number","name"]),o=x(i),r=[];return t(o.root,0),r}function x(e){for(var t={root:[]},n=0;n<e.length;n++)_.isNull(e[n].parent_id)?t.root.push(e[n]):(t[e[n].parent_id]=t[e[n].parent_id]||[],t[e[n].parent_id].push(e[n]));return t}function M(){var e=B;return e.$q(function(t,n){var i=[];_.each(e.invoiceGLAccounts,function(e){i.push(T(e))}),i=e.$filter("orderBy")(i,["gl_account_name","new_description_value"]),i.push({id:0}),e.editedInvoice.misc_data.items_data=i,e.editedInvoice.misc_data.items_data_by_id=_.object(_.pluck(i,"id"),i),t(!0)})}function T(e){var t=B,n=angular.copy(e),i=t.glAccountsById[e.gl_account_id];return n.new_gl_account_id=e.gl_account_id,n.gl_account_name=i?i.name:"Unknown",n.amount_value=t.cakeCommon.parseCakeFloatValue(e.amount,null),n.new_amount_value=n.amount_value,n.new_description_value=e.description,n.item_object=e,n}function S(){var e=B;return e.$q(function(t,n){var i=[],o={};e.items.length>0?(_.each(e.items,function(t){t.category=e.glAccountsById[t.gl_account_id],t.category&&(t.category_id=t.category.id,t.category_name=t.category.name,t.displayed=!1,t.counted=!1,t.vendor_items_data=[],t.counted_vendor_items_data=[],_.each(e.vendorItems,function(n){if(n.inv_item_id==t.id){var i=e.itemUnitsbyId[n.inv_item_unit_id],o=i?e.unitsById[i.unit_id]:null,r=(i?e.unitsById[i.common_unit_id]:null,i?_.findWhere(e.invoiceItems,{inv_item_id:t.id,vendor_inventory_item_id:n.id}):null),a=e.cakeCommon.parseCakeFloatValue(n.last_price,null);n.item=t,n.name=t.name,n.quantity_label=n.pack_size?n.pack_size:o?o.name+(i.description?" ("+i.description+")":""):"",r?(n.quantity_value=e.cakeCommon.parseCakeFloatValue(r.quantity,null),n.new_quantity_value=angular.copy(n.quantity_value),n.unit_price_value=e.cakeCommon.parseCakeFloatValue(r.unit_price,null),n.new_unit_price_value=angular.copy(n.unit_price_value),n.extended_price_value=e.cakeCommon.parseCakeFloatValue(r.extended_price,null),n.new_extended_price_value=angular.copy(n.extended_price_value),n.invoice_object=r,t.category.invoice_item_ids.push(r.id),n.counted=!0,t.counted=!0):(n.quantity_value=null,n.new_quantity_value=null,n.unit_price_value=null,n.new_unit_price_value=a,n.extended_price_value=null,n.new_extended_price_value=null,n.invoice_object=null,n.counted=!1),t.vendor_items_data.push(n),t.displayed=!0,e.editedInvoice.misc_data.opened_by_default=!1}})),t.displayed&&i.push(t)}),i=e.$filter("orderBy")(i,["category_name","name"]),_.each(i,function(t){t.vendor_items_data=e.$filter("orderBy")(t.vendor_items_data,["number","name"]),t.counted_vendor_items_data=e.$filter("filter")(t.vendor_items_data,{counted:!0}),o[t.category_name]?(o[t.category_name].items.push(t),t.counted&&o[t.category_name].counted_items.push(t)):(o[t.category_name]={items:[],counted_items:[],category:t.category},o[t.category_name].items.push(t),t.counted&&o[t.category_name].counted_items.push(t))}),e.editedInvoice.items_data=o,t(!0)):(e.editedInvoice.items_data={},t(!0))})}function N(){var e=B;return e.$q(function(t,n){e.units=e.cakeUnits.getUnits(),e.unitsById=e.cakeUnits.getUnitsCollection(),e.unitsByAbbr=_.object(_.pluck(e.units,"abbr"),e.units),t(!0)})}function D(e){var t=B;return t.$q(function(n,i){var o=_.uniq(_.pluck(_.where(t.cakeVendorLocations.getVendorLocations(),{location_id:e}),"vendor_id"));t.availableVendors=[],t.vendors=t.cakeVendors.getVendors(),t.vendorsById=t.cakeVendors.getVendorsCollection(),_.each(t.vendors,function(e){o.indexOf(e.id)>=0&&t.availableVendors.push(e)}),n(!0)})}function O(){var e=B;e.$peach.event.subscribe(e.$peach.event.events.LOCATION_CHANGE,function(t){e.goBack()})}function L(e,t){var n=B,i=_.isUndefined(t)?!0:t,o=Big(0);return e?(_.each(e.invoice_item_ids,function(e){n.invoiceItemsById[e]&&(o=o.plus(Big(n.invoiceItemsById[e].extended_price)))}),e.total_price_value=n.cakeCommon.parseCakeFloatValue(o),e.total_price_value_formatted=n.cakeCommon.parseCakeCostFloatValue(o,"0.00",2),void(i&&H())):(_.each(n.glAccounts,function(e){L(e,!1)}),P(!1),void H())}function H(){var e=B,t=Big(0);_.each(e.glAccounts,function(e){t=t.plus(Big(e.total_price_value))}),t=t.plus(Big(e.editedInvoice.misc_data.total_price_value)),e.editedInvoice.total_price_value=e.cakeCommon.parseCakeFloatValue(t),e.editedInvoice.total_price_value_formatted=e.cakeCommon.parseCakeCostFloatValue(t,"0.00",2)}function P(e){var t=B,n=_.isUndefined(e)?!0:e,i=Big(0);_.each(t.editedInvoice.misc_data.items_data,function(e){i=e.amount_value?i.plus(Big(e.amount_value)):i}),t.editedInvoice.misc_data.total_price_value=t.cakeCommon.parseCakeFloatValue(i),t.editedInvoice.misc_data.total_price_value_formatted=t.cakeCommon.parseCakeCostFloatValue(i,"0.00",2),n&&H()}function q(e,t){var n=B;e&&(e.updated_by||e.created_by)&&(_.isObject(t)?j(e,t):n.$peach.account.getUsers(e.updated_by?e.updated_by:e.created_by).then(function(t){j(e,t)},function(e){n.editedInvoice.update_timestamp=""}))}function j(e,t){var n=B;n.editingPreviouslyCreatedInvoice?n.editedInvoice.update_timestamp="Last Updated by "+t.first_name+" "+t.last_name+" on "+moment(e.updated_at,moment.ISO_8601).tz(n.locationTime.timezone).format("llll")+" "+moment(e.updated_at,moment.ISO_8601).tz(n.locationTime.timezone).zoneAbbr():(n.editedInvoice.update_timestamp="Auto-Saved "+moment(e.updated_at,moment.ISO_8601).tz(n.locationTime.timezone).fromNow()+" by "+t.first_name+" "+t.last_name,U&&(n.$timeout.cancel(U),U=null),U=n.$timeout(function(){q(e,t)},R),U.then(function(){U=null}))}n(this,o);var B=this,R=6e4,U=null;B.activate=function(){var e=B;e.isDeveloperMode=e.cakeCommon.isDevPreviewModeRunning(),e.$scope.$on("$destroy",function(){U&&(e.$timeout.cancel(U),U=null)}),e.$q.all({is_account_admin:e.cakeCommon.isUserAccountAdmin(),active_locations:e.cakeSettings.getSettings("active_locations"),can_edit_invoices:e.cakePermissions.userHasPermission("edit_invoices"),current_utc_timestamp:e.cakeSettings.refreshSettings("current_utc_timestamp")}).then(function(t){e.activeLocations=t.active_locations,e.activeLocationsById=_.object(_.pluck(e.activeLocations,"id"),e.activeLocations),e.isAccountAdmin=t.is_account_admin,e.canEditInvoice=t.can_edit_invoices;var n=moment(t.current_utc_timestamp,moment.ISO_8601).unix(),i=moment().utc().unix(),o=n-i;e.locationTime.utc_time_diff=Math.abs(o)<60?0:o;var r=e.$peach.session.getActiveLocation();e.activeLocationsById[r]?(e.locationTime.timezone=e.activeLocationsById[r].timezone?e.activeLocationsById[r].timezone:e.locationTime.timezone,e.$q.all({gl_accounts:e.cakeGLAccounts.loadGLAccounts(null,{sort:"name"}),vendors:e.cakeVendors.loadVendors({is_active:!0},{sort:"name"}),vendor_locations:e.cakeVendorLocations.loadVendorLocations({location_id:r}),units:e.cakeUnits.loadUnits(null,{sort:"name"})}).then(function(){e.$q.all([A(),D(r),N()]).then(function(){e.editedInvoice.form_data.location_id=r,e.editedInvoice.form_data.invoice_date=e.editedInvoice.form_data.receipt_date=moment().toDate(),e.$location.search().id?e.cakeInvoices.loadInvoices(parseInt(e.$location.search().id,10)).then(function(t){if(t.id){var n=e.vendorsById[t.vendor_id];n?(e.editedInvoice.data=t,e.editedInvoice.data.formatted_receipt_date=moment(e.editedInvoice.data.receipt_date,"YYYY-MM-DD").format("l"),e.editedInvoice.data.formatted_invoice_date=moment(e.editedInvoice.data.invoice_date,"YYYY-MM-DD").format("l"),e.editedInvoice.data.vendor=n,e.editedInvoice.data.notes=null,e.editedInvoice.form_data=angular.copy(e.editedInvoice.data),e.editedInvoice.form_data.receipt_date=moment(e.editedInvoice.form_data.receipt_date,"YYYY-MM-DD").toDate(),e.editedInvoice.form_data.invoice_date=moment(e.editedInvoice.form_data.invoice_date,"YYYY-MM-DD").toDate(),e.editedInvoice.was_complete=e.editedInvoice.data.is_complete?!0:!1,e.editingPreviouslyCreatedInvoice=!0,e.$q.all({event:e.cakeEvents.loadEvents(t.inv_event_id?t.inv_event_id:0),invoice_items:C()}).then(function(t){O(),t.event.id&&(e.editedInvoice.data.notes=e.editedInvoice.form_data.notes=t.event.notes),e.blockers.initializing=!1},function(t){e.canEditInvoice=!1,e.blockers.initializing=!1,e.errorHandler(t)})):(e.canEditInvoice=!1,e.blockers.initializing=!1,e.errorHandler("Vendor for this invoice no longer exists"))}else e.canEditInvoice=!1,e.blockers.initializing=!1,e.errorHandler("Couldn't find an invoice with id: "+e.$location.search().id)},function(t){e.canEditInvoice=!1,e.blockers.initializing=!1,e.errorHandler(t)}):(O(),e.blockers.initializing=!1)})},function(t){e.canEditInvoice=!1,e.blockers.initializing=!1,e.errorHandler(t)})):(O(),r&&e.showMessage("Selected location is not an active Cake location."),e.canEditInvoice=!1,e.blockers.initializing=!1)},function(t){e.canEditInvoice=!1,e.blockers.initializing=!1,e.errorHandler(t)})},B.closeModal=function(){var e=B;e.editedInvoice.data.id&&!e.editedInvoice.data.is_complete?e.confirmSaveInvoice():e.goBack()},B.confirmDeleteInvoice=function(e){var t=B,n="Are you sure you want to delete"+(t.editedInvoice.data.is_complete?" the Complete":" the")+" Invoice for "+t.editedInvoice.data.vendor.name+" on "+moment(t.editedInvoice.form_data.receipt_date).format("l")+"?";t.$mdDialog.show({disableParentScroll:!0,hasBackdrop:!0,template:'<md-dialog flex-sm="90" flex-md="55" flex-gt-md="35" flex-gt-lg="25">  <md-dialog-content>     <p>         <div layout="row" flex>'+n+'<br /><br /></div>         <div layout="row" layout-align="center" flex>             <md-button class="md-primary" ng-click="cancel();" title="Cancel" aria-label="Cancel">                 <span>CANCEL</span>             </md-button>             <md-button class="md-primary" ng-click="confirm();" title="Delete invoice" aria-label="Delete invoice">                 <span>DELETE INVOICE</span>             </md-button>         </div>     </p>  </md-dialog-content></md-dialog>',
controller:["$scope","$mdDialog",function(e,n){e.confirm=function(){t.deleteInvoice(),n.hide()},e.cancel=function(){n.hide()}}]})},B.confirmSaveInvoice=function(e){var t=B,n="You've chosen to save the Invoice for "+moment(t.editedInvoice.form_data.receipt_date).format("l")+". Do you want to mark this Invoice as Complete?<br /><br />Completed Invoice values will be calculated and will affect your item values.";t.$mdDialog.show({disableParentScroll:!0,hasBackdrop:!0,template:'<md-dialog flex-sm="90" flex-md="55" flex-gt-md="35" flex-gt-lg="25">  <md-dialog-content>     <p>         <div layout="row" flex>'+n+'<br /><br /></div>         <div layout="row" layout-align="center" flex>             <md-button class="md-primary" ng-click="simpleSave();" title="NO, SAVE WITHOUT COMPLETING" aria-label="NO, SAVE WITHOUT COMPLETING">                 <span>NO, SAVE WITHOUT COMPLETING</span>             </md-button>         </div>         <div layout="row" layout-align="center" flex>             <md-button class="md-primary" ng-click="completeSave();" title="YES, MARK INVOICE AS COMPLETE" aria-label="YES, MARK INVOICE AS COMPLETE">                 <span>YES, MARK INVOICE AS COMPLETE</span>             </md-button>         </div>     </p>  </md-dialog-content></md-dialog>',controller:["$scope","$mdDialog",function(e,n){e.simpleSave=function(){t.updateInvoice(!1),n.hide()},e.completeSave=function(){t.updateInvoice(!0),n.hide()}}]})},B.createInvoice=function(){var e=B;if(e.canEditInvoice){var t={vendor_id:parseInt(e.editedInvoice.form_data.vendor_id,10),receipt_date:moment(e.editedInvoice.form_data.receipt_date).format("YYYY-MM-DD"),invoice_date:moment(e.editedInvoice.form_data.receipt_date).format("YYYY-MM-DD"),is_complete:!1,total:0,invoice_number:e.editedInvoice.form_data.invoice_number,location_id:e.editedInvoice.form_data.location_id};e.blockers.api_processing=!0,e.cakeInvoices.createInvoice(t).then(function(t){e.editedInvoice.data=t,e.editedInvoice.data.formatted_receipt_date=moment(e.editedInvoice.data.receipt_date,"YYYY-MM-DD").format("l"),e.editedInvoice.data.formatted_invoice_date=moment(e.editedInvoice.data.invoice_date,"YYYY-MM-DD").format("l"),e.editedInvoice.data.vendor=e.vendorsById[t.vendor_id],e.editedInvoice.form_data=angular.copy(e.editedInvoice.data),e.editedInvoice.form_data.receipt_date=moment(e.editedInvoice.form_data.receipt_date,"YYYY-MM-DD").toDate(),e.editedInvoice.form_data.invoice_date=moment(e.editedInvoice.form_data.invoice_date,"YYYY-MM-DD").toDate(),C().then(function(){e.blockers.api_processing=!1},function(t){e.blockers.api_processing=!1,e.errorHandler(t)})},function(t){e.blockers.api_processing=!1,e.errorHandler(t)})}},B.deleteInvoice=function(){var e=B;e.canEditInvoice&&e.editedInvoice.data.id&&(e.blockers.api_processing=!0,e.cakeInvoices.removeInvoice(e.editedInvoice.data.id).then(function(){e.blockers.api_processing=!1,e.goBack()},function(t){e.blockers.api_processing=!1,e.errorHandler(t)}))},B.deleteInvoiceMiscItem=function(e){var t=B;if(t.canEditInvoice&&t.editedInvoice.data.id){var n=t.editedInvoice.misc_data.items_data_by_id[e];n&&0!==n.id&&(t.blockers.api_processing=!0,t.cakeInvoiceGLAccounts.removeInvoiceGLAccount(n.id).then(function(){delete t.invoiceGLAccountsById[n.id],_.remove(t.invoiceGLAccounts,function(e){return e.id===n.id}),delete t.editedInvoice.misc_data.items_data_by_id[n.id],_.remove(t.editedInvoice.misc_data.items_data,function(e){return e.id===n.id}),P(),t.blockers.api_processing=!1},function(e){t.blockers.api_processing=!1,t.errorHandler(e)}))}},B.errorHandler=function(e,t,n){var i=B,o="";return t=t||!1,o=_.isString(e)?"There was an error: "+e:"There was an error, please check console log for more details.",i.showMessage(o,"alert"),t&&i.cakeCommon.apiErrorHandler(e),_.isFunction(n)?n():void 0},B.goBack=function(){var e=B;e.$location.path("/invoices").search("id",null)},B.hideMessage=function(){var e=B;e.userInfo={message:"",type:""}},B.saveInvoiceItemExtendedPrice=function(e){var t=B;if(t.canEditInvoice&&t.editedInvoice.data.id){var n=t.vendorItemsById[e];n&&n.new_extended_price_value!==n.extended_price_value&&n.new_quantity_value&&n.invoice_object&&(_.isNumber(n.new_extended_price_value)?(n.new_unit_price_value=n.new_quantity_value&&n.new_extended_price_value?t.cakeCommon.parseCakeFloatValue(Big(n.new_extended_price_value).div(n.new_quantity_value)):0,t.blockers.api_processing=!0,t.cakeInvoiceItems.updateInvoiceItem({id:n.invoice_object.id,unit_price:n.new_unit_price_value,extended_price:n.new_extended_price_value}).then(function(e){t.invoiceItemsById[e.id]=e,n.invoice_object=e,n.unit_price_value=angular.copy(n.new_unit_price_value),n.extended_price_value=angular.copy(n.new_extended_price_value),q(e),L(n.item.category),t.blockers.api_processing=!1},function(e){n.new_unit_price_value=angular.copy(n.unit_price_value),n.new_extended_price_value=angular.copy(n.extended_price_value),t.blockers.api_processing=!1,t.errorHandler(e)})):n.invoice_object&&(n.new_unit_price_value=0,t.blockers.api_processing=!0,t.cakeInvoiceItems.updateInvoiceItem({id:n.invoice_object.id,unit_price:0,extended_price:0}).then(function(e){t.invoiceItemsById[e.id]=e,n.invoice_object=e,n.new_extended_price_value=null,n.extended_price_value=null,n.unit_price_value=0,q(e),L(n.item.category),t.blockers.api_processing=!1},function(e){n.new_unit_price_value=angular.copy(n.unit_price_value),n.new_extended_price_value=angular.copy(n.extended_price_value),t.blockers.api_processing=!1,t.errorHandler(e)})))}},B.saveInvoiceItemPrice=function(e){var t=B;if(t.canEditInvoice&&t.editedInvoice.data.id){var n=t.vendorItemsById[e];n&&n.new_unit_price_value!==n.unit_price_value&&n.new_quantity_value&&n.invoice_object&&(_.isNumber(n.new_unit_price_value)?(n.new_extended_price_value=n.new_quantity_value&&n.new_unit_price_value?t.cakeCommon.parseCakeFloatValue(Big(n.new_quantity_value).times(n.new_unit_price_value)):0,t.blockers.api_processing=!0,t.cakeInvoiceItems.updateInvoiceItem({id:n.invoice_object.id,unit_price:n.new_unit_price_value,extended_price:n.new_extended_price_value}).then(function(e){t.invoiceItemsById[e.id]=e,n.invoice_object=e,n.unit_price_value=angular.copy(n.new_unit_price_value),n.extended_price_value=angular.copy(n.new_extended_price_value),q(e),L(n.item.category),t.blockers.api_processing=!1},function(e){n.new_unit_price_value=angular.copy(n.unit_price_value),n.new_extended_price_value=angular.copy(n.extended_price_value),t.blockers.api_processing=!1,t.errorHandler(e)})):n.invoice_object&&(n.new_extended_price_value=0,t.blockers.api_processing=!0,t.cakeInvoiceItems.updateInvoiceItem({id:n.invoice_object.id,unit_price:0,extended_price:0}).then(function(e){t.invoiceItemsById[e.id]=e,n.invoice_object=e,n.new_unit_price_value=null,n.unit_price_value=null,n.extended_price_value=0,q(e),L(n.item.category),t.blockers.api_processing=!1},function(e){n.new_unit_price_value=angular.copy(n.unit_price_value),n.new_extended_price_value=angular.copy(n.extended_price_value),t.blockers.api_processing=!1,t.errorHandler(e)})))}},B.saveInvoiceItemQuantity=function(e){var t=B;if(t.canEditInvoice&&t.editedInvoice.data.id){var n=t.vendorItemsById[e];n&&n.new_quantity_value!==n.quantity_value&&(_.isNumber(n.new_quantity_value)?(n.new_extended_price_value=n.new_quantity_value&&n.new_unit_price_value?t.cakeCommon.parseCakeFloatValue(Big(n.new_quantity_value).times(n.new_unit_price_value)):0,n.invoice_object?(t.blockers.api_processing=!0,t.cakeInvoiceItems.updateInvoiceItem({id:n.invoice_object.id,quantity:n.new_quantity_value,extended_price:n.new_extended_price_value}).then(function(e){t.invoiceItemsById[e.id]=e,n.invoice_object=e,n.quantity_value=angular.copy(n.new_quantity_value),n.extended_price_value=angular.copy(n.new_extended_price_value),q(e),L(n.item.category),t.blockers.api_processing=!1},function(e){n.new_quantity_value=angular.copy(n.quantity_value),n.new_extended_price_value=angular.copy(n.extended_price_value),t.blockers.api_processing=!1,t.errorHandler(e)})):(t.blockers.api_processing=!0,t.cakeInvoiceItems.createInvoiceItem({invoice_id:t.editedInvoice.data.id,vendor_id:t.editedInvoice.data.vendor_id,vendor_inventory_item_id:n.id,inv_item_id:n.item.id,quantity:n.new_quantity_value,unit_price:n.new_unit_price_value?n.new_unit_price_value:0,extended_price:n.new_extended_price_value,location_id:t.editedInvoice.data.location_id}).then(function(e){t.invoiceItemsById[e.id]=e,t.invoiceItems.push(e),n.invoice_object=e,n.quantity_value=angular.copy(n.new_quantity_value),n.extended_price_value=angular.copy(n.new_extended_price_value),n.item.category.invoice_item_ids.push(e.id),q(e),L(n.item.category),t.blockers.api_processing=!1},function(e){n.new_quantity_value=angular.copy(n.quantity_value),n.new_extended_price_value=angular.copy(n.extended_price_value),t.blockers.api_processing=!1,t.errorHandler(e)}))):n.invoice_object&&(t.blockers.api_processing=!0,t.cakeInvoiceItems.removeInvoiceItem({id:n.invoice_object.id}).then(function(e){delete t.invoiceItemsById[n.invoice_object.id],_.remove(t.invoiceItems,function(e){return e.id===n.invoice_object.id}),n.item.category.invoice_item_ids=_.without(n.item.category.invoice_item_ids,n.invoice_object.id),n.quantity_value=null,n.new_quantity_value=null,n.unit_price_value=null,n.new_unit_price_value=null,n.extended_price_value=null,n.new_extended_price_value=null,n.invoice_object=null,q(e),L(n.item.category),t.blockers.api_processing=!1},function(e){n.new_quantity_value=angular.copy(n.quantity_value),t.blockers.api_processing=!1,t.errorHandler(e)})))}},B.saveInvoiceMiscItemAmount=function(e){var t=B;if(t.canEditInvoice&&t.editedInvoice.data.id){var n=t.editedInvoice.misc_data.items_data_by_id[e];n&&0!==n.id&&n.new_amount_value!==n.amount_value&&(t.blockers.api_processing=!0,t.cakeInvoiceGLAccounts.updateInvoiceGLAccount({id:n.id,amount:t.cakeCommon.parseCakeFloatValue(n.new_amount_value)}).then(function(e){t.invoiceGLAccountsById[e.id]=e,n.amount_value=n.new_amount_value,q(e),P(),t.blockers.api_processing=!1},function(e){n.new_amount_value=n.amount_value,t.blockers.api_processing=!1,t.errorHandler(e)}))}},B.saveInvoiceMiscItemDescription=function(e){var t=B;if(t.canEditInvoice&&t.editedInvoice.data.id){var n=t.editedInvoice.misc_data.items_data_by_id[e];n&&0!==n.id&&n.new_description_value!==n.description&&(t.blockers.api_processing=!0,t.cakeInvoiceGLAccounts.updateInvoiceGLAccount({id:n.id,description:n.new_description_value}).then(function(e){t.invoiceGLAccountsById[e.id]=e,n.description=n.new_description_value,q(e),t.blockers.api_processing=!1},function(e){n.new_description_value=n.description,t.blockers.api_processing=!1,t.errorHandler(e)}))}},B.saveInvoiceMiscItemGLAccount=function(e){var t=B;if(t.canEditInvoice&&t.editedInvoice.data.id){var n=t.editedInvoice.misc_data.items_data_by_id[e];n&&0!==n.id&&n.new_gl_account_id&&parseInt(n.new_gl_account_id,10)!==n.gl_account_id?(n.new_gl_account_id=parseInt(n.new_gl_account_id,10),t.blockers.api_processing=!0,t.cakeInvoiceGLAccounts.updateInvoiceGLAccount({id:n.id,gl_account_id:n.new_gl_account_id}).then(function(e){t.invoiceGLAccountsById[e.id]=e,n.gl_account_id=n.new_gl_account_id,q(e),t.blockers.api_processing=!1},function(e){n.new_gl_account_id=n.gl_account_id,t.blockers.api_processing=!1,t.errorHandler(e)})):n&&0==n.id&&n.new_gl_account_id&&(n.new_gl_account_id=parseInt(n.new_gl_account_id,10),t.blockers.api_processing=!0,t.cakeInvoiceGLAccounts.createInvoiceGLAccount({invoice_id:t.editedInvoice.data.id,vendor_id:t.editedInvoice.data.vendor_id,gl_account_id:n.new_gl_account_id,description:n.new_description_value,amount:n.new_amount_value?n.new_amount_value:0,location_id:t.editedInvoice.data.location_id}).then(function(e){t.invoiceGLAccounts.push(e),t.invoiceGLAccountsById[e.id]=e,delete t.editedInvoice.misc_data.items_data_by_id[0],_.remove(t.editedInvoice.misc_data.items_data,function(e){return 0===e.id}),n=T(e),t.editedInvoice.misc_data.items_data.push(n),t.editedInvoice.misc_data.items_data_by_id[n.id]=n;var i={id:0};t.editedInvoice.misc_data.items_data.push(i),t.editedInvoice.misc_data.items_data_by_id[i.id]=i,q(n),t.blockers.api_processing=!1},function(e){n.new_gl_account_id=n.gl_account_id,t.blockers.api_processing=!1,t.errorHandler(e)}))}},B.showMessage=function(e,t){var n=B;t=t||"info",n.userInfo.message=e,n.userInfo.type=t},B.toggleInvoiceIsComplete=function(){var e=B;e.canEditInvoice&&(e.editedInvoice.form_data.is_complete?e.updateInvoice(!0):(e.blockers.api_processing=!0,e.cakeInvoices.updateInvoice({id:e.editedInvoice.data.id,is_complete:!1}).then(function(t){q(t),e.editedInvoice.data.is_complete=!1,e.editedInvoice.form_data.is_complete=!1,e.blockers.api_processing=!1},function(t){e.blockers.api_processing=!1,e.errorHandler(t)})))},B.updateInvoice=function(e){var t=B;if(e=e||!1,t.canEditInvoice&&t.editedInvoice.data.id){var n={id:t.editedInvoice.data.id,receipt_date:moment(t.editedInvoice.form_data.receipt_date).format("YYYY-MM-DD"),invoice_date:moment(t.editedInvoice.form_data.invoice_date).format("YYYY-MM-DD"),invoice_number:t.editedInvoice.form_data.invoice_number,notes:t.editedInvoice.form_data.notes},i=function(e){t.blockers.api_processing=!1,t.errorHandler(e)},o=function(e){t.blockers.api_processing=!1,t.goBack()};e&&(n.is_complete=!0),t.blockers.api_processing=!0,t.cakeInvoices.updateInvoice(n).then(function(t){q(t),o(e?t:t)},i)}}};i.$inject=["$filter","$location","$mdDialog","$peach","$q","$scope","$timeout","commonService","eventsService","glAccountsService","invoicesService","invoiceGLAccountsService","invoiceItemsService","itemsService","itemLocationsService","itemUnitsService","permissionsService","settingsService","unitsService","vendorsService","vendorItemsService","vendorLocationsService"],t["default"]=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t,i,r,a,s,c,u,l,d,m,f,p,h,v,g,b,$,y,k,E,w){function C(e){var t=X;return t.$q(function(n,i){var o=[];_.each(t.editedItem.locations.data_array,function(n){n.was_checked&&o.push({inv_item_id:t.editedItem.data.id,location_id:n.id,inv_item_unit_id:e,is_count_unit:!0})}),o.length>0?t.cakeItemUnitLocations.bulkCreateItemUnitLocations(o).then(function(e){t.cakeItemUnitLocations.loadItemUnitLocations({id:e.collection},null,!0).then(function(e){O(e),n(!0)},function(e){i(e)})},function(e){i(e)}):n(!0)})}function A(){var e=X;e.editedItem.units.reporting_unit?e.cakeItemUnits.updateItemUnit({id:e.editedItem.units.reporting_unit.id,is_report_unit:!1}).then(function(){M().then(function(){e.blockers.api_processing=!1},function(t){e.blockers.api_processing=!1,e.errorHandler(t)})},function(t){e.blockers.api_processing=!1,e.errorHandler(t),e.cancelReportingUnitIdUpdate()}):M().then(function(){e.blockers.api_processing=!1},function(t){e.blockers.api_processing=!1,e.errorHandler(t)})}function I(e,t){var n=X;return n.$q(function(e,i){var o=null;if("each"==t.type)o=_.findWhere(n.editedItem.units.data_array,{unit_id:t.id});else{var r=_.findWhere(n.editedItem.units.data_array,{unit_id:t.id});if(r)o=r;else if(_.each(n.editedItem.units.data_array,function(e){return e.unit.type==t.type?(r=e,!1):void 0}),r){var a="english_base";r.unit.is_metric&&(a="metric_base");var s=Big(r.unit[a]),c=Big(n.unitsById[t.id][a]),u=Big(r.unit_quantity),l=n.cakeCommon.parseCakeFloatValue(c.div(s).times(u));o={unit_id:t.id,unit_quantity:l,is_report_unit:!1,inv_item_id:n.editedItem.form_data.id,common_unit_id:n.editedItem.form_data.common_unit_id,description:n.unitsById[n.editedItem.form_data.common_unit_id].name+" "+l+" "+n.unitsById[n.editedItem.data.common_unit_id].abbr}}}e(o)})}function x(e,t){var n=X;return n.$q(function(e,i){var o=null;if("each"!=t.type){var r=null;if(_.each(n.editedItem.units.data_array,function(e){return e.unit.type==t.type?(r=e,!1):void 0}),r){var a="english_base";r.unit.is_metric&&(a="metric_base");var s=Big(r.unit[a]),c=Big(n.unitsById[t.id][a]),u=Big(r.unit_quantity),l=n.cakeCommon.parseCakeFloatValue(c.div(s).times(u));o={unit_id:t.id,unit_quantity:l,is_report_unit:!0,inv_item_id:n.editedItem.data.id,common_unit_id:n.editedItem.data.common_unit_id,description:n.unitsById[n.editedItem.form_data.common_unit_id].name+" "+l+" "+n.unitsById[n.editedItem.data.common_unit_id].abbr}}}e(o)})}function M(){var e=X;return e.$q(function(t,n){var i={item_locations:e.cakeItemLocations.loadItemLocations({$and:[{location_id:_.pluck(e.activeLocations,"id")},{inv_item_id:e.editedItem.data.id}]}),item_units:e.cakeItemUnits.loadItemUnits({inv_item_id:e.editedItem.data.id}),item_unit_locations:e.cakeItemUnitLocations.loadItemUnitLocations({inv_item_id:e.editedItem.data.id}),count_items:e.cakeCountItems.loadCountItems({inv_item_id:e.editedItem.data.id}),event_items:e.cakeEventItems.loadEventItems({inv_item_id:e.editedItem.data.id}),recipe_items:e.$peach.api(s.getObjectKey("recipe_items")).find({item_id:e.editedItem.data.id}),item_vendors:e.cakeVendorItems.loadVendorItems({inv_item_id:e.editedItem.data.id})};e.editedItem.data.item_db_id&&(i.items_db_item=e.cakeItemsDBItems.getData({id:e.editedItem.data.item_db_id},{fields:"id,name"})),e.$q.all(i).then(function(i){i.items_db_item&&i.items_db_item.results&&i.items_db_item.results.length>0&&(e.editedItem.items_db_item=i.items_db_item.results[0]),e.countItems=i.count_items.results,e.eventItems=i.event_items.results,e.recipeItems=i.recipe_items.results,e.vendorItems=i.item_vendors.results,e.itemUnitLocations=[],O(i.item_unit_locations),e.$q.all([T(),P(i.item_locations),q(i.item_units)]).then(function(){e.$q.all([j(),R()]).then(function(){t(!0)})},function(e){n(e)})},function(e){n(e)})})}function T(){var e=X;return e.$q(function(t,n){var i=_.pluck(e.vendorItems,"id");i.length>0?e.cakeInvoiceItems.loadInvoiceItems({vendor_inventory_item_id:i},null,!0).then(function(n){e.relatedInvoiceItems=n.results,t(!0)},function(e){n(e)}):t(!0)})}function S(){var e=X;return e.$q(function(t,n){e.$q.all({is_account_admin:e.cakeCommon.isUserAccountAdmin(),can_edit_items:e.cakePermissions.userHasPermission("edit_items"),can_delete_item:e.cakeItems.canItemBeDeleted(e.editedItem.data.id),can_change_unit:e.cakeItems.canItemCommonUnitBeChanged(e.editedItem.data.id)}).then(function(n){e.isAccountAdmin=n.is_account_admin,e.canEditItem=n.can_edit_items,e.canChangeCommonUnit=n.can_change_unit?e.canEditItem:!1,e.canDeleteItem=n.can_delete_item?e.canEditItem:!1,t(!0)},function(e){n(e)})})}function N(e,t,n,i){var o=X;o.$mdDialog.show({locals:{cakeFloatPattern:o.cakeFloatPattern},template:'<md-dialog flex-gt-md="50">  <md-dialog-content>     <p>         <div layout="row" flex>             The unit you have selected for your item ('+t.name+") must be converted to the common unit ("+e.name+') in order for it to be used throughout the app. Add a conversion below to allow each units to be used for this item. You can also choose to change your common unit keeping in mind that this should be a universal unit for this ingredient.             <br /><br />         </div>         <div layout="row" layout-align="center" flex>             <form name="conversionForm" novalidate>                 <div layout="row" layout-align="center center" flex>                     <md-input-container flex>                         <label>'+t.name+'(s)</label>                         <input type="number" step="0.00001" min="0" max="999999999.99999" ng-pattern="cakeFloatPattern" name="conv1" ng-model="conversion.new_unit_conversion" aria-label="'+t.name+'" required />                     </md-input-container>                     <div layout layout-padding>=</div>                     <md-input-container flex>                         <label>'+e.name+'(s)</label>                         <input type="number" step="0.00001" min="0" max="999999999.99999" ng-pattern="cakeFloatPattern" name="conv2" ng-model="conversion.old_unit_conversion" aria-label="'+e.name+'" required />                    </md-input-container>                 </div>             </form>         </div>     </p>  </md-dialog-content>  <div class="md-actions" layout="row">     <span flex=""></span>     <md-button ng-click="cancel();" title="Cancel" aria-label="Cancel">         <span>CANCEL</span>     </md-button>     <md-button class="md-primary" ng-click="addConversion();" ng-disabled="conversionForm.$invalid" title="Add conversion" aria-label="Add conversion">         <span>ADD CONVERSION</span>     </md-button>  </div></md-dialog>',controller:["$scope","$mdDialog","cakeFloatPattern",function(e,t,o){e.cakeFloatPattern=o,e.conversion={old_unit_conversion:null,new_unit_conversion:null},e.addConversion=function(){n(e.conversion),t.hide()},e.cancel=function(){i(),t.hide()}}]})}function D(e,t){var n=X;e=e||function(){},t=t||function(){};var i=n.unitsById[n.editedItem.data.common_unit_id].name;X.openNewItemUnitForm(),n.$mdDialog.show({locals:{vm:n},template:'<md-dialog flex-gt-md="50">  <md-dialog-content>     <p>         <div layout="row" flex>             To add new item unit for your vendor product select the unit description from the dropdown below. Then enter the conversion to the common unit ('+i+') so this unit may be used throughout the app.             <br /><br />         </div>         <div layout="row" layout-align="center" flex ng-form="vm.forms.newItemUnitForm">                 <div layout="row" layout-align="center center" flex>                     <md-input-container flex ng-class="{\'md-input-has-value\': vm.editedItem.units.new_unit_form.unit_id}">                          <md-select                              name="itemUnitUnit"                              ng-model="vm.editedItem.units.new_unit_form.unit_id"                              ng-change="vm.autoCalculateConversionForNewUnit();"                              ng-disabled="!vm.canEditItem || vm.blockers.api_processing"                              aria-label="Unit Description"                              required                          >                              <md-option ng-repeat="unit in vm.editedItem.units.new_unit_form.available_units" value="{{ ::unit.id }}">{{ ::unit.name }}</md-option>                          </md-select>                     </md-input-container>                     <div layout layout-padding>=</div>                     <md-input-container flex>                         <label>'+i+'(s)</label>                         <input type="number" cake-unique-item-unit="editedItem.units.new_unit_form" cake-unique-item-unit-controller="vm" step="0.00001" min="0" max="999999999.99999" ng-pattern="vm.cakeFloatPattern" name="itemUnitQuantity" ng-model="vm.editedItem.units.new_unit_form.unit_quantity" aria-label="'+i+'(s)" ng-readonly="vm.blockers.api_processing" ng-disabled="vm.editedItem.units.new_unit_form.disable_conversion || !vm.editedItem.units.new_unit_form.unit_id || !vm.canEditItem" required />                         <div ng-messages="vm.forms.newItemUnitForm.itemUnitQuantity.$error" ng-if="vm.forms.newItemUnitForm.itemUnitQuantity.$invalid && vm.forms.newItemUnitForm.itemUnitQuantity.$dirty">                              <div ng-message="required">Please provide a conversion</div>                              <div ng-message="number">This is not a valid number</div>                              <div ng-message="unique">There is already item unit like this</div>                          </div>                     </md-input-container>                 </div>         </div>     </p>  </md-dialog-content>  <div class="md-actions" layout="row">     <span flex=""></span>     <md-button ng-click="cancel();" title="Cancel" aria-label="Cancel">         <span>CANCEL</span>     </md-button>     <md-button class="md-primary" ng-click="addUnit();" ng-disabled="vm.forms.newItemUnitForm.$invalid" title="Add unit" aria-label="Add unit">         <span>ADD UNIT</span>     </md-button>  </div></md-dialog>',controller:["$scope","$mdDialog","vm",function(i,o,r){i.vm=r,i.addUnit=function(){e(),o.hide()},i.cancel=function(){t(),n.closeNewItemUnitForm(),o.hide()}}]})}function O(e){var t=X;_.each(e.results,function(e){t.itemUnitLocationsByLocationIdAndItemUnitId[e.location_id]||(t.itemUnitLocationsByLocationIdAndItemUnitId[e.location_id]={}),t.itemUnitLocationsByLocationIdAndItemUnitId[e.location_id][e.inv_item_unit_id]=e.id,t.itemUnitLocations.push(e)})}function L(){var e=X;return e.$q(function(t,n){e.countGroups=e.cakeCountGroups.getCountGroups(),e.countGroupsById=e.cakeCountGroups.getCountGroupsCollection(),t(!0)})}function H(){var e=X;return e.$q(function(t,n){e.glAccounts=e.cakeGLAccounts.getGLAccounts(),e.glAccountsById=e.cakeGLAccounts.getGLAccountsCollection(),t(!0)})}function P(e){var t=X;return t.$q(function(n,i){var o=[],r=[],a=t.unitsById[t.editedItem.data.common_unit_id]?"per "+t.unitsById[t.editedItem.data.common_unit_id].name:"";_.each(t.activeLocations,function(n){var i=angular.copy(n),s=_.find(e.results,{location_id:i.id});s?(i.was_checked=!0,r.push(i),i.item_location=s,i.starting_cost=t.cakeCommon.parseCakeCostFloatValue(s.starting_cost,"--",2),i.last_cost=t.cakeCommon.parseCakeCostFloatValue(s.last_cost,"--",2)):(i.was_checked=!1,i.starting_cost="--",i.last_cost="--"),i.cost_additional_label=a,i.display_name=i.number?i.number+" - ":"",i.display_name=i.display_name+i.name,o.push(i)}),t.editedItem.locations={checked_locations:[],data_array:_.sortBy(o,"display_name"),data_collection:_.object(_.pluck(o,"id"),o)},t.$timeout(function(){t.editedItem.locations.checked_locations=r},1e3),t.editedItem.locations.data_array.length>1?t.tabs.availableTabs[3].visible=!0:t.tabs.availableTabs[3].visible=!1,n(!0)})}function q(e){var t=X;return t.$q(function(n,i){var o=[],r=null;_.each(e.results,function(e){var t=B(e);t.common_unit&&t.unit&&(r||e.common_unit_id!=e.unit_id?o.push(t):(t.is_common_unit=!0,t.can_be_deleted=!1,r=t))}),o=_.sortBy(o,"name"),r&&(o.unshift(r),t.editedItem.units.common_unit=r),t.editedItem.units.data_array=o,n(!0)})}function j(){var e=X;return e.editedItem.units.available_reporting_units=[],e.$q(function(t,n){var i=1,o=[];_.each(e.units,function(t){var n=_.where(e.editedItem.units.data_array,{unit_id:t.id});if(n.length>0){if(_.each(n,function(t){var n=_.extend(t,{reporting_unit_key:i});n.id!==e.editedItem.units.common_unit.id?n.reporting_name=n.description?n.description:n.name:n.reporting_name=n.name,o.push(n),i++,n.is_report_unit&&(e.editedItem.units.reporting_unit=n)}),"each"==t.type){var r=_.extend(t,{reporting_unit_key:i,reporting_name:t.name});o.push(r),i++}}else{var r=_.extend(t,{reporting_unit_key:i,reporting_name:t.name});o.push(r),i++}}),e.editedItem.units.available_reporting_units=_.sortBy(o,"name"),e.editedItem.form_data.reporting_unit_key=e.editedItem.units.reporting_unit?e.editedItem.units.reporting_unit.reporting_unit_key:null,t(!0)})}function B(e){var t=X,n=_.omit(e,["created_at","created_by","updated_at","updated_by","uri"]),i=t.unitsById[e.common_unit_id],o=t.unitsById[e.unit_id],r=_.where(t.itemUnitLocations,{inv_item_unit_id:e.id}),a=_.where(t.countItems,{inv_item_unit_id:e.id}),c=_.where(t.eventItems,{inv_item_unit_id:e.id}),u=_.where(t.recipeItems,{unit_id:e.unit_id,common_unit_id:e.common_unit_id,common_quantity:e.unit_quantity}),l=_.where(t.vendorItems,{inv_item_unit_id:e.id});return i&&o&&(n.common_unit=i,n.unit=o,n.is_type_conversion=!1,n.conversion_type_label=null,n.name=o.name,n.conversion_value=t.cakeCommon.parseCakeFloatValue(e.unit_quantity),n.conversion_label=n.conversion_value+" "+i.abbr,n.description=e.description,n.editable_description=e.description,n.edit_description=!1,n.locations=r,n.can_be_deleted=n.is_common_unit||n.is_report_unit||n.is_wv_conversion?!1:c.length>0||a.length>0||u.length>0||l.length>0?!1:!0,n.related_data={unit_events:c,unit_counts:a,unit_recipes:u,unit_vendors:l},i.type!=o.type&&(n.is_type_conversion=!0,n.conversion_type_label=s.uppercaseWord(i.type)+" / "+s.uppercaseWord(o.type)+" conversion unit")),n}function R(){var e=X;return e.$q(function(t,n){var i=[];_.each(e.vendorItems,function(e){var t=U(e);t.vendor&&t.unit&&i.push(t)}),i=_.sortBy(i,"name"),e.editedItem.vendors.data_array=i,t(!0)})}function U(e){var t=X,n=_.omit(e,["created_at","created_by","updated_at","updated_by","uri"]),i=t.vendorsById[e.vendor_id],o=_.findWhere(t.editedItem.units.data_array,{id:e.inv_item_unit_id}),r=_.where(t.relatedInvoiceItems,{vendor_inventory_item_id:e.id});return i&&o&&(n.vendor=i,n.name=i.name,n.unit=o,n.unit_description=o.description?o.description:o.name,n.last_price=t.cakeCommon.parseCakeFloatValue(n.last_price,null),n.last_price_formatted=t.cakeCommon.parseCakeCostFloatValue(e.last_price,"--",2),n.is_edited=!1,n.can_be_deleted=r.length>0?!1:!0,n.already_used=r.length>0?!0:!1),n}function F(){var e=X;return e.$q(function(t,n){e.units=e.cakeUnits.getUnits(),e.unitsById=e.cakeUnits.getUnitsCollection(),t(!0)})}function V(){var e=X;return e.$q(function(t,n){e.vendors=e.cakeVendors.getVendors(),e.vendorsById=e.cakeVendors.getVendorsCollection(),t(!0)})}function G(){var e=X;return e.$q(function(t,n){var i=[],o=[],r=[],a=[],s=[],c=[],u=[];_.each(e.editedItem.locations.data_array,function(t){var n=_.findWhere(e.editedItem.locations.checked_locations,{id:t.id});!n&&t.was_checked&&o.push(t)}),_.each(e.editedItem.locations.checked_locations,function(e){e.was_checked?r.push(e):i.push(e)}),_.each(i,function(t){a.push({inv_item_id:e.editedItem.data.id,location_id:t.id,last_cost:0,starting_cost:0}),_.each(e.editedItem.units.data_array,function(n){c.push({inv_item_id:e.editedItem.data.id,location_id:t.id,inv_item_unit_id:n.id,is_count_unit:!0})})}),_.each(o,function(t){s.push(t.item_location.id),_.each(e.editedItem.units.data_array,function(n){e.itemUnitLocationsByLocationIdAndItemUnitId[t.id]&&e.itemUnitLocationsByLocationIdAndItemUnitId[t.id][n.id]&&u.push(e.itemUnitLocationsByLocationIdAndItemUnitId[t.id][n.id])})}),_.each(r,function(t){_.each(e.editedItem.units.data_array,function(n){e.itemUnitLocationsByLocationIdAndItemUnitId[t.id]&&e.itemUnitLocationsByLocationIdAndItemUnitId[t.id][n.id]||c.push({inv_item_id:e.editedItem.data.id,location_id:t.id,inv_item_unit_id:n.id,is_count_unit:!0})})}),t({newItemLocationsCollection:a,removeItemLocationsCollection:s,newItemUnitLocationsCollection:c,removeItemUnitLocationsCollection:u})})}function z(e){var t=X;e.id?W(e):_createItemUnit(e).then(function(t){W(e)},function(e){t.blockers.api_processing=!1,t.errorHandler(e),t.cancelCommonUnitIdUpdate()})}function Y(e){var t=X;e.is_report_unit=!0,e.id?t.cakeItemUnits.updateItemUnit({id:e.id,is_report_unit:!0}).then(function(e){A()},function(e){t.blockers.api_processing=!1,t.errorHandler(e),t.cancelReportingUnitIdUpdate()}):_createItemUnit(e).then(function(e){A()},function(e){t.blockers.api_processing=!1,t.errorHandler(e),t.cancelReportingUnitIdUpdate()})}function W(e){var t=X;t.cakeItems.updateItem({id:t.editedItem.form_data.id,common_unit_id:t.editedItem.form_data.common_unit_id},{extended:!0,conv_unit_quantity:e.unit_quantity}).then(function(e){M().then(function(){t.editedItem.data.common_unit_id=e.common_unit_id,t.editedItem.form_data.common_unit_id=e.common_unit_id,t.blockers.api_processing=!1},function(e){t.blockers.api_processing=!1,t.errorHandler(e)})},function(e){t.blockers.api_processing=!1,t.errorHandler(e),t.cancelCommonUnitIdUpdate()})}function K(){var e=X;return e.$q(function(t,n){G().then(function(i){e.$q.all([e.cakeItemLocations.bulkCreateItemLocations(i.newItemLocationsCollection),e.cakeItemLocations.bulkDeleteItemLocations(i.removeItemLocationsCollection),e.cakeItemUnitLocations.bulkCreateItemUnitLocations(i.newItemUnitLocationsCollection),e.cakeItemUnitLocations.bulkDeleteItemUnitLocations(i.removeItemUnitLocationsCollection)]).then(function(){t(!0)},function(e){n(e)})})})}n(this,o);var X=this;_createItemUnit=function(e){var t=X;return t.$q(function(n,i){var o=t.unitsById[e.common_unit_id],r=t.unitsById[e.unit_id],a=_.where(t.editedItem.units.data_array,{is_wv_conversion:!0
});0==a.length&&("weight"==o.type&&"volume"==r.type||"volume"==o.type&&"weight"==r.type)&&(e.is_wv_conversion=!0),e.description||(e.description=t.unitsById[e.unit_id].name+" "+e.unit_quantity+" "+t.unitsById[e.common_unit_id].abbr),t.cakeItemUnits.createItemUnit(e).then(function(e){C(e.id).then(function(){n(e)},function(e){i(e)})},function(e){i(e)})})},X.activate=function(){var e=X,t=function(t){e.canChangeCommonUnit=!1,e.canDeleteItem=!1,e.canEditItem=!1,e.blockers.initializing=!1,e.errorHandler(t)};e.isDeveloperMode=e.cakeCommon.isDevPreviewModeRunning(),e.$q.all({active_locations:e.cakeSettings.getSettings("active_locations"),gl_accounts:e.cakeGLAccounts.loadGLAccounts(null,{sort:"name"}),count_groups:e.cakeCountGroups.loadCountGroups(null,{sort:"name"}),units:e.cakeUnits.loadUnits(null,{sort:"name"}),vendors:e.cakeVendors.loadVendors(null,{sort:"name"})}).then(function(n){e.activeLocations=n.active_locations,e.activeLocationsById=_.object(_.pluck(e.activeLocations,"id"),e.activeLocations),e.$q.all([H(),L(),F(),V()]).then(function(){e.$location.search().id?e.cakeItems.loadItems({id:parseInt(e.$location.search().id)},null,!0).then(function(n){n.results&&n.results.length>0?(n.results[0].gl_account_id=e.glAccountsById[n.results[0].gl_account_id]?n.results[0].gl_account_id:null,n.results[0].count_group_id=e.countGroupsById[n.results[0].count_group_id]?n.results[0].count_group_id:null,n.results[0].common_unit_id=e.unitsById[n.results[0].common_unit_id]?n.results[0].common_unit_id:null,e.editedItem.data=n.results[0],e.editedItem.form_data=angular.copy(e.editedItem.data),S().then(function(){M().then(function(){e.blockers.initializing=!1},t)},t)):t("Couldn't load item with given ID: "+e.$location.search().id+".")},t):t("ID of the item to edit was not specified.")})},t)},X.addNewItemUnit=function(){var e=X;return e.canEditItem&&e.editedItem.data.id?e.$q(function(t,n){e.blockers.api_processing=!0,e.editedItem.units.new_unit_form.description||(e.editedItem.units.new_unit_form.description=e.unitsById[e.editedItem.units.new_unit_form.unit_id].name+" "+e.editedItem.units.new_unit_form.unit_quantity+" "+e.unitsById[e.editedItem.units.common_unit.unit_id].abbr);var i={unit_id:e.editedItem.units.new_unit_form.unit_id,unit_quantity:e.editedItem.units.new_unit_form.unit_quantity,is_report_unit:!1,inv_item_id:e.editedItem.form_data.id,common_unit_id:e.editedItem.form_data.common_unit_id,description:e.editedItem.units.new_unit_form.description};_createItemUnit(i).then(function(n){var i=B(n);e.editedItem.units.data_array.unshift(i),e.blockers.api_processing=!1,e.closeNewItemUnitForm(),t(i)},function(t){e.blockers.api_processing=!1,e.errorHandler(t),n(t)})}):void 0},X.addNewItemVendor=function(){var e=X;if(e.canEditItem&&e.editedItem.form_data.id){e.blockers.api_processing=!0;var t={vendor_id:parseInt(e.editedItem.vendors.new_vendor_form.vendor_id,10),inv_item_id:e.editedItem.form_data.id,inv_item_unit_id:parseInt(e.editedItem.vendors.new_vendor_form.inv_item_unit_id,10),description:e.editedItem.vendors.new_vendor_form.description,number:e.editedItem.vendors.new_vendor_form.number,is_active:!0};e.editedItem.vendors.new_vendor_form.last_price&&(t.last_price=e.cakeCommon.parseCakeFloatValue(e.editedItem.vendors.new_vendor_form.last_price,null)),e.cakeVendorItems.createVendorItem(t).then(function(t){var n=U(t);n.unit.related_data.unit_vendors.push(t.id),n.unit.can_be_deleted=n.unit.is_common_unit||n.unit.is_report_unit||n.unit.is_wv_conversion?!1:n.unit.related_data.unit_events.length>0||n.unit.related_data.unit_counts.length>0||n.unit.related_data.unit_recipes.length>0||n.unit.related_data.unit_vendors.length>0?!1:!0,e.editedItem.vendors.data_array.unshift(n),e.blockers.api_processing=!1,e.closeNewItemVendorForm()},function(t){e.blockers.api_processing=!1,e.errorHandler(t)})}},X.autoCalculateConversionForNewUnit=function(){var e=X,t=e.unitsById[e.editedItem.units.new_unit_form.unit_id];if(t&&"each"!==t.type&&"each"!==e.editedItem.units.common_unit.unit.type){if(t.type==e.editedItem.units.common_unit.unit.type){var n="english_base";t.is_metric&&(n="metric_base");var i=Big(t[n]),o=Big(e.editedItem.units.common_unit.unit[n]),r=e.cakeCommon.parseCakeFloatValue(i.div(o));return e.editedItem.units.new_unit_form.unit_quantity=r,void(e.editedItem.units.new_unit_form.disable_conversion=!0)}var a=_.findWhere(e.editedItem.units.data_array,{is_wv_conversion:!0});if(a){var n="english_base";t.is_metric&&(n="metric_base");var i=Big(a.unit[n]),o=Big(t[n]),s=Big(a.unit_quantity),r=e.cakeCommon.parseCakeFloatValue(o.div(i).times(s));return e.editedItem.units.new_unit_form.unit_quantity=r,void(e.editedItem.units.new_unit_form.disable_conversion=!0)}}e.editedItem.units.new_unit_form.unit_quantity=1,e.editedItem.units.new_unit_form.disable_conversion=!1},X.calculateConversionAndChangeCommonUnit=function(e){var t=X,n=e.old_unit_conversion?Big(e.old_unit_conversion):Big(1),i=e.new_unit_conversion?Big(e.new_unit_conversion):Big(1),o=t.cakeCommon.parseCakeFloatValue(n.div(i)),r={unit_id:t.editedItem.form_data.common_unit_id,is_report_unit:!1,unit_quantity:o,inv_item_id:t.editedItem.data.id,common_unit_id:t.editedItem.form_data.common_unit_id,description:t.unitsById[t.editedItem.form_data.common_unit_id].name+" "+t.cakeCommon.parseCakeFloatValue(o)+" "+t.unitsById[t.editedItem.data.common_unit_id].abbr};z(r)},X.calculateConversionAndChangeReportingUnit=function(e){var t=X,n=e.old_unit_conversion?Big(e.old_unit_conversion):Big(1),i=e.new_unit_conversion?Big(e.new_unit_conversion):Big(1),o=t.cakeCommon.parseCakeFloatValue(n.div(i)),r=_.findWhere(t.editedItem.units.available_reporting_units,{reporting_unit_key:t.editedItem.form_data.reporting_unit_key}),a={unit_id:r.id,is_report_unit:!0,unit_quantity:o,inv_item_id:t.editedItem.data.id,common_unit_id:t.editedItem.data.common_unit_id,description:t.unitsById[r.id].name+" "+t.cakeCommon.parseCakeFloatValue(o)+" "+t.unitsById[t.editedItem.data.common_unit_id].abbr};Y(a)},X.cancelCommonUnitIdUpdate=function(){var e=X;e.editedItem.form_data.common_unit_id=e.editedItem.data.common_unit_id,e.blockers.api_processing=!1},X.cancelReportingUnitIdUpdate=function(){var e=X;e.editedItem.form_data.reporting_unit_key=e.editedItem.units.reporting_unit.reporting_unit_key,e.blockers.api_processing=!1},X.changeCommonUnit=function(){var e=X;if(e.editedItem.form_data.common_unit_id=parseInt(e.editedItem.form_data.common_unit_id,10),e.canEditItem&&e.editedItem.data.common_unit_id!=e.editedItem.form_data.common_unit_id){e.blockers.api_processing=!0;var t=e.unitsById[e.editedItem.data.common_unit_id],n=e.unitsById[e.editedItem.form_data.common_unit_id];I(t,n).then(function(i){i?z(i):N(t,n,e.calculateConversionAndChangeCommonUnit,e.cancelCommonUnitIdUpdate)})}},X.changeReportingUnit=function(){var e=X;if(e.editedItem.form_data.reporting_unit_key=parseInt(e.editedItem.form_data.reporting_unit_key,10),e.canEditItem&&(!e.editedItem.units.reporting_unit||e.editedItem.units.reporting_unit.reporting_unit_key!=e.editedItem.form_data.reporting_unit_key)){var t=_.findWhere(e.editedItem.units.available_reporting_units,{reporting_unit_key:e.editedItem.form_data.reporting_unit_key});if(t)if(e.blockers.api_processing=!0,t.unit_id)Y(t);else{var n=e.unitsById[e.editedItem.data.common_unit_id],i=e.unitsById[t.id];x(n,i).then(function(t){t?Y(t):N(n,i,e.calculateConversionAndChangeReportingUnit,e.cancelReportingUnitIdUpdate)})}}},X.checkForDuplicateVendorItem=function(e,t){var n=X,i=e.vendor_id?parseInt(e.vendor_id,10):null,o=e.inv_item_unit_id?parseInt(e.inv_item_unit_id,10):null,r=e.number?e.number:null;t.itemVendorVendor.$setValidity("unique",!0);var a=_.where(n.editedItem.vendors.data_array,{vendor_id:i,inv_item_unit_id:o,number:r});e.id&&(a=_.filter(a,function(t){return t.id!==parseInt(e.id,10)})),a.length>0&&t.itemVendorVendor.$setValidity("unique",!1)},X.closeEditItemVendorForm=function(){var e=X;_.each(e.editedItem.vendors.data_array,function(e){e.is_edited=!1}),e.editedItem.vendors.edited_vendor_form_data={}},X.closeNewItemUnitForm=function(){var e=X;e.editedItem.units.new_unit_form.show_form&&(e.editedItem.units.new_unit_form.unit_id=null,e.editedItem.units.new_unit_form.unit_quantity=null,e.editedItem.units.new_unit_form.description=null,e.editedItem.units.new_unit_form.available_units=[],e.editedItem.units.new_unit_form.disable_conversion=!1,e.editedItem.units.new_unit_form.show_form=!1)},X.closeNewItemVendorForm=function(){var e=X;e.editedItem.vendors.new_vendor_form.show_form&&(e.editedItem.vendors.new_vendor_form.vendor_id=null,e.editedItem.vendors.new_vendor_form.description=null,e.editedItem.vendors.new_vendor_form.number=null,e.editedItem.vendors.new_vendor_form.inv_item_unit_id=null,e.editedItem.vendors.new_vendor_form.last_price=null,e.editedItem.vendors.new_vendor_form.show_form=!1)},X.confirmDeleteItem=function(){var e=X;e.$mdDialog.show({template:'<md-dialog>  <md-dialog-content>     <p>         <div layout="row" flex>Are you sure you want to delete your item?<br /><br /></div>         <div layout="row" layout-align="center" flex>             <md-button class="md-primary" ng-click="confirm();" title="YES, DELETE MY ITEM" aria-label="YES, DELETE MY ITEM" flex>                 <span>YES, DELETE MY ITEM</span>             </md-button>         </div>         <div layout="row" layout-align="center" flex>             <md-button class="md-primary" ng-click="cancel();" title="NO, TAKE ME BACK" aria-label="NO, TAKE ME BACK" flex>                 <span>NO, TAKE ME BACK</span>             </md-button>         </div>     </p>  </md-dialog-content></md-dialog>',controller:["$scope","$mdDialog",function(t,n){t.confirm=function(){e.deleteItem(),n.hide()},t.cancel=function(){n.hide()}}]})},X.countGroupsFilter=function(e){var t=X;return e.is_active||e.id==t.editedItem.form_data.count_group_id?!0:!1},X.deleteItem=function(){var e=X;e.editedItem.data.id&&e.canDeleteItem&&(e.blockers.api_processing=!0,e.cakeItems.removeItem(e.editedItem.data.id).then(function(t){e.blockers.api_processing=!1,e.goBack()},function(t){e.blockers.api_processing=!1,e.errorHandler(t)}))},X.deleteItemUnit=function(e){var t=X;t.canEditItem&&(t.closeNewItemUnitForm(),t.blockers.api_processing=!0,t.cakeItemUnits.deleteItemUnit(e).then(function(n){var i=_.where(t.itemUnitLocations,{inv_item_unit_id:e}),o=_.map(_.pluck(i,"id"),function(e){return parseInt(e)}),r=[];o.length>0?t.cakeItemUnitLocations.bulkDeleteItemUnitLocations(o).then(function(n){_.each(t.itemUnitLocations,function(e){o.indexOf(e.id)<0&&r.push(e)}),t.itemUnitLocations=r,_.each(i,function(n){t.itemUnitLocationsByLocationIdAndItemUnitId[n.location_id]&&t.itemUnitLocationsByLocationIdAndItemUnitId[n.location_id][e]&&delete t.itemUnitLocationsByLocationIdAndItemUnitId[n.location_id][e]}),_.each(t.editedItem.units.data_array,function(n,i){return n.id==e?(t.editedItem.units.data_array.splice(i,1),!1):void 0}),t.blockers.api_processing=!1},function(e){t.blockers.api_processing=!1,t.errorHandler(e)}):(_.each(t.editedItem.units.data_array,function(n,i){return n.id==e?(t.editedItem.units.data_array.splice(i,1),!1):void 0}),t.blockers.api_processing=!1)},function(e){t.blockers.api_processing=!1,t.errorHandler(e)}))},X.deleteItemVendor=function(e){var t=X;t.canEditItem&&(t.closeNewItemVendorForm(),t.blockers.api_processing=!0,t.cakeVendorItems.deleteVendorItem(e).then(function(n){_.each(t.editedItem.vendors.data_array,function(n,i){return n.id==e?(n.unit.related_data.unit_vendors=_.without(n.unit.related_data.unit_vendors,e),n.unit.can_be_deleted=n.unit.is_common_unit||n.unit.is_report_unit||n.unit.is_wv_conversion?!1:n.unit.related_data.unit_events.length>0||n.unit.related_data.unit_counts.length>0||n.unit.related_data.unit_recipes.length>0||n.unit.related_data.unit_vendors.length>0?!1:!0,t.editedItem.vendors.data_array.splice(i,1),!1):void 0}),t.blockers.api_processing=!1},function(e){t.blockers.api_processing=!1,t.errorHandler(e)}))},X.editedItemVendorUnitDropdownCallback=function(){var e=X;e.canEditItem&&0===parseInt(e.editedItem.vendors.edited_vendor_form_data.inv_item_unit_id,10)?D(function(){e.addNewItemUnit().then(function(t){e.editedItem.vendors.edited_vendor_form_data.inv_item_unit_id=t.id},function(t){e.editedItem.vendors.edited_vendor_form_data.inv_item_unit_id=null})},function(){e.editedItem.vendors.edited_vendor_form_data.inv_item_unit_id=null}):e.checkForDuplicateVendorItem(e.editedItem.vendors.edited_vendor_form_data,e.forms.editItemVendorForm)},X.errorHandler=function(e,t,n){var i=X,o="";return t=t||!1,o=_.isString(e)?"There was an error: "+e:"There was an error, please check console log for more details.",i.showMessage(o,"alert"),t&&i.cakeCommon.apiErrorHandler(e),_.isFunction(n)?n():void 0},X.goBack=function(){var e=X;e.$location.path("/settings/items").search("id",null)},X.hideMessage=function(){var e=X;e.userInfo={message:"",type:""}},X.nameBlurCallback=function(){var e=X;e.editedItem.form_data.name||(e.editedItem.form_data.name=e.editedItem.data.name)},X.nameChangeCallback=function(){var e=X;if(e.forms.itemForm.itemName.$setValidity("duplicate",!0),e.editedItem.form_data.name&&e.editedItem.form_data.name!==e.editedItem.data.name){var t=[];t.push(e.editedItem.form_data.id),e.cakeItems.loadItems({$and:[{name:e.editedItem.form_data.name},{id:{$nin:t}}]},{limit:1,fields:"id"},!0).then(function(t){t.results&&t.results.length>0&&e.forms.itemForm.itemName.$setValidity("duplicate",!1)},function(e){})}},X.newItemVendorUnitDropdownCallback=function(){var e=X;e.canEditItem&&0===parseInt(e.editedItem.vendors.new_vendor_form.inv_item_unit_id,10)?D(function(){e.addNewItemUnit().then(function(t){e.editedItem.vendors.new_vendor_form.inv_item_unit_id=t.id},function(t){e.editedItem.vendors.new_vendor_form.inv_item_unit_id=null})},function(){e.editedItem.vendors.new_vendor_form.inv_item_unit_id=null}):e.checkForDuplicateVendorItem(e.editedItem.vendors.new_vendor_form,e.forms.newItemVendorForm)},X.openEditItemVendorForm=function(e){var t=X;t.closeNewItemVendorForm(),t.closeEditItemVendorForm(),t.editedItem.vendors.edited_vendor_form_data=angular.copy(_.omit(e,["vendor","name","unit","unit_description"])),t.editedItem.vendors.edited_vendor_form_data.new_last_price=t.editedItem.vendors.edited_vendor_form_data.last_price,e.is_edited=!0},X.openItemUnitsPage=function(){var e=X;e.$location.path("/settings/item_units").search("id",null)},X.openNewItemUnitForm=function(){var e=X;e.editedItem.units.new_unit_form.available_units=e.prepareNewItemUnitAvailableUnits(),e.editedItem.units.new_unit_form.show_form=!0},X.openNewItemVendorForm=function(){var e=X;e.closeEditItemVendorForm(),e.editedItem.vendors.new_vendor_form.show_form=!0},X.prepareNewItemUnitAvailableUnits=function(){var e=X,t=[];return _.each(e.units,function(n){var i=_.where(e.editedItem.units.data_array,{unit_id:n.id});("each"==n.type||0==i.length)&&t.push(n)}),_.sortBy(t,"name")},X.saveItem=function(){var e=X;e.canEditItem&&e.editedItem.data.id&&(e.blockers.api_processing=!0,e.cakeItems.updateItem({id:e.editedItem.data.id,name:e.editedItem.form_data.name,gl_account_id:parseInt(e.editedItem.form_data.gl_account_id,10),count_group_id:parseInt(e.editedItem.form_data.count_group_id,10),is_active:e.editedItem.form_data.is_active}).then(function(t){K().then(function(t){e.blockers.api_processing=!1,e.goBack()},function(t){e.blockers.api_processing=!1,e.errorHandler(t)})},function(t){e.blockers.api_processing=!1,e.errorHandler(t)}))},X.showMessage=function(e,t){var n=X;t=t||"info",n.userInfo.message=e,n.userInfo.type=t},X.updateEditedItemVendor=function(){var e=X;if(e.canEditItem&&e.editedItem.form_data.id){e.blockers.api_processing=!0;var t={vendor_id:parseInt(e.editedItem.vendors.edited_vendor_form_data.vendor_id,10),inv_item_unit_id:parseInt(e.editedItem.vendors.edited_vendor_form_data.inv_item_unit_id,10),description:e.editedItem.vendors.edited_vendor_form_data.description,number:e.editedItem.vendors.edited_vendor_form_data.number,id:e.editedItem.vendors.edited_vendor_form_data.id};e.editedItem.vendors.edited_vendor_form_data.new_last_price!==e.editedItem.vendors.edited_vendor_form_data.last_price&&(t.last_price=e.cakeCommon.parseCakeFloatValue(e.editedItem.vendors.edited_vendor_form_data.new_last_price,null),t.last_price_on=moment().format("YYYY-MM-DD")),e.cakeVendorItems.updateVendorItem(t).then(function(t){var n=U(t),i=_.findWhere(e.editedItem.vendors.data_array,{id:n.id});n.inv_item_unit_id!==i.inv_item_unit_id&&(i.unit.related_data.unit_vendors=_.without(i.unit.related_data.unit_vendors,i.id),i.unit.can_be_deleted=i.unit.is_common_unit||i.unit.is_report_unit||i.unit.is_wv_conversion?!1:i.unit.related_data.unit_events.length>0||i.unit.related_data.unit_counts.length>0||i.unit.related_data.unit_recipes.length>0||i.unit.related_data.unit_vendors.length>0?!1:!0,n.unit.related_data.unit_vendors.push(n.id),n.unit.can_be_deleted=n.unit.is_common_unit||n.unit.is_report_unit||n.unit.is_wv_conversion?!1:n.unit.related_data.unit_events.length>0||n.unit.related_data.unit_counts.length>0||n.unit.related_data.unit_recipes.length>0||n.unit.related_data.unit_vendors.length>0?!1:!0),i.vendor_id=n.vendor_id,i.inv_item_unit_id=n.inv_item_unit_id,i.description=n.description,i.number=n.number,i.vendor=n.vendor,i.name=n.name,i.unit=n.unit,i.unit_description=n.unit_description,i.last_price_formatted=n.last_price_formatted,i.last_price=n.last_price,e.closeEditItemVendorForm(),e.blockers.api_processing=!1},function(t){e.blockers.api_processing=!1,e.errorHandler(t)})}},X.updateItemUnitDescription=function(e,t){var n=X,i=_.findWhere(n.editedItem.units.data_array,{id:e});i&&i.editable_description!=i.description&&n.canEditItem?(n.closeNewItemUnitForm(),n.blockers.api_processing=!0,n.cakeItemUnits.updateItemUnit({id:i.id,description:i.editable_description}).then(function(e){t&&(i.edit_description=!1),i.description=i.editable_description,n.blockers.api_processing=!1},function(e){n.blockers.api_processing=!1,n.errorHandler(e)})):i.edit_description=!1}};i.$inject=["$location","$mdDialog","$timeout","$peach","$q","commonService","countGroupsService","countItemsService","eventItemsService","glAccountsService","invoiceItems","itemsService","itemsDBItemsService","itemLocationsService","cakeItemUnitsService","itemUnitLocationsSevice","permissionsService","settingsService","sharedDataService","unitsService","vendorsService","vendorItemsService"],t["default"]=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t,i,r,a,s,c,u,l,d,m){function f(){var e=y;return e.$q(function(t,n){var i={vendor_locations:e.cakeVendorLocations.loadVendorLocations({$and:[{location_id:_.pluck(e.activeLocations,"id")},{vendor_id:e.editedVendor.data.id}]},{limit:1e3})};e.$q.all(i).then(function(i){e.$q.all([g(i.vendor_locations)]).then(function(){t(!0)},function(e){n(e)})},function(e){n(e)})})}function p(){var e=y;return e.$q(function(t,n){e.$q.all({is_account_admin:e.cakeCommon.isUserAccountAdmin(),can_edit_vendors:e.cakePermissions.userHasPermission("edit_vendors"),can_delete_vendor:e.cakeVendors.canVendorBeDeleted(e.editedVendor.data.id)}).then(function(n){e.isAccountAdmin=n.is_account_admin,e.canEditVendor=e.isAccountAdmin?!0:n.can_edit_vendors,e.canDeleteVendor=n.can_delete_vendor?e.canEditVendor:!1,t(!0)},function(e){n(e)})})}function h(){var e=y;return e.$q(function(t,n){e.countries=e.cakeCountries.getCountries(),e.countriesById=e.cakeCountries.getCountriesCollection(),t(!0)})}function v(){var e=y;return e.$q(function(t,n){e.states=e.cakeStates.getStates(),e.statesById=e.cakeStates.getStatesCollection(),t(!0)})}function g(e){var t=y;return t.$q(function(n,i){var o=[],r=[];_.each(t.activeLocations,function(n){var i=angular.copy(n),a=_.find(e.results,{location_id:i.id}),s=!1;a?(i.was_checked=!0,s=!0,i.vendor_location=a,i.customer_number=a.customer_number):(s=!1,i.was_checked=!1,i.customer_number=""),t.editedVendor.data.id||(s=!0),s&&r.push(i),i.display_name=i.number?i.number+" - ":"",i.display_name=i.display_name+i.name,o.push(i)}),t.editedVendor.locations={checked_locations:r,data_array:_.sortBy(o,"display_name"),data_collection:_.object(_.pluck(o,"id"),o)},t.editedVendor.locations.data_array.length>1&&(t.tabs.availableTabs[2].visible=!0),n(!0)})}function b(){var e=y;return e.$q(function(t,n){var i=[],o=[],r=[],a=[],s=[],c=[];_.each(e.editedVendor.locations.data_array,function(t){var n=_.findWhere(e.editedVendor.locations.checked_locations,{id:t.id});!n&&t.was_checked&&o.push(t)}),_.each(e.editedVendor.locations.checked_locations,function(e){e.was_checked?r.push(e):i.push(e)}),_.each(i,function(t){a.push({vendor_id:e.editedVendor.data.id,location_id:t.id,customer_number:t.customer_number})}),_.each(r,function(t){s.push({vendor_id:e.editedVendor.data.id,id:t.vendor_location.id,location_id:t.id,customer_number:t.customer_number})}),_.each(o,function(e){c.push(e.vendor_location.id)}),t({newVendorLocationsCollection:a,updateVendorLocationsCollection:s,removeVendorLocationsCollection:c})})}function $(){var e=y;return e.$q(function(t,n){b().then(function(i){e.$q.all([e.$q(function(t,n){i.newVendorLocationsCollection.length>0?e.cakeVendorLocations.bulkCreateVendorLocations(i.newVendorLocationsCollection).then(t,n):t(!0)}),e.$q(function(t,n){i.updateVendorLocationsCollection.length>0?e.cakeVendorLocations.bulkUpdateVendorLocations(i.updateVendorLocationsCollection).then(t,n):t(!0)}),e.$q(function(t,n){i.removeVendorLocationsCollection.length>0?e.cakeVendorLocations.bulkDeleteVendorLocations(i.removeVendorLocationsCollection).then(t,n):t(!0)})]).then(function(){t(!0)},function(e){n(e)})})})}n(this,o);var y=this;y.activate=function(){function e(){r.blockers.initializing=!1}function t(e){r.blockers.initializing=!1,r.canDeleteVendor=!1,r.canEditVendor=!1,r.errorHandler(e)}function n(){return r.cakeCountries.loadCountries(null,{sort:"name"}).then(function(){return h()},function(e){r.errorHandler(e)})}function i(){return r.cakeSettings.getSettings("active_locations").then(function(e){return r.activeLocations=e,r.activeLocationsById=_.object(_.pluck(r.activeLocations,"id"),r.activeLocations)},function(e){r.errorHandler(e)})}function o(e){var t=r.$q.defer();return e?r.cakeVendors.loadVendors({id:e},null,!0).then(function(e){e.results&&e.results.length>0?(r.editedVendor.data=e.results[0],r.editedVendor.form_data=angular.copy(r.editedVendor.data),r.editedVendor.form_data.country_id&&r.loadStates(r.editedVendor.form_data.country_id),t.resolve(r.editedVendor.form_data)):t.resolve(!1)},function(e){r.errorHandler(e),t.reject(e)}):(r.editedVendor.form_data=angular.copy(r.editedVendor.data),t.resolve(r.editedVendor.form_data)),t.promise}var r=y;r.isDeveloperMode=r.cakeCommon.isDevPreviewModeRunning(),r.$q.all({activeLocations:i(),countires:n(),vendor:o(r.$location.search().id)}).then(function(n){n.vendor?p().then(function(){f().then(e,t)},t):t("Couldn't load item with given ID: "+r.$location.search().id+".")},t)},y.confirmDeleteVendor=function(){var e=y;setTimeout(function(){e.$mdDialog.show({scope:e,preserveScope:!0,template:'<md-dialog>  <md-dialog-content>     <p>         <div layout="row" flex>Are you sure you want to delete this vendor?<br /><br /></div>         <div layout="row" layout-align="center" flex>             <md-button class="md-primary" ng-click="vm.cancel();" title="Cancel" aria-label="Cancel">                 <span>CANCEL</span>             </md-button>             <md-button class="md-primary" ng-click="vm.confirm();" title="Delete vendort" aria-label="Delete vendor">                 <span>DELETE VENDOR</span>             </md-button>         </div>     </p>  </md-dialog-content></md-dialog>',controller:["$scope","$mdDialog",function(e,t){e.confirm=function(){e.deleteVendor(),t.hide()},e.cancel=function(){t.hide()}}]})},500)},y.deleteVendor=function(){var e=y;e.editedVendor.data.id&&e.canDeleteVendor&&(e.blockers.api_processing=!0,e.cakeVendors.removeVendor(e.editedVendor.data.id).then(function(t){e.blockers.api_processing=!1,e.goBack()},function(t){e.blockers.api_processing=!1,e.errorHandler(t)}))},y.errorHandler=function(e,t,n){var i=y,o="";return t=t||!1,o=_.isString(e)?"There was an error: "+e:"There was an error, please check console log for more details.",i.showMessage(o,"alert"),t&&i.cakeCommon.apiErrorHandler(e),_.isFunction(n)?n():void 0},y.goBack=function(){var e=y;e.$location.path("/settings/vendors").search("id",null)},y.openItemsPage=function(){var e=y;e.editedVendor.data.id&&(e.cakeSharedData.setValue("items_search",{vendor_id:e.editedVendor.data.id}),e.$location.path("/settings/items").search("id",null))},y.hideMessage=function(){var e=y;e.userInfo={message:"",type:""}},y.loadStates=function(e){var t=y;t.cakeStates.loadStates(parseInt(e),null,{sort:"name"}).then(function(){v()},function(e){t.errorHandler(e)})},y.nameBlurCallback=function(){var e=y;e.editedVendor.form_data.name||(e.editedVendor.form_data.name=e.editedVendor.data.name)},y.nameChangeCallback=function(){var e=y;if(e.forms.vendorForm.vendorName.$setValidity("duplicate",!0),e.editedVendor.form_data.name&&e.editedVendor.form_data.name!==e.editedVendor.data.name){var t=[];t.push(e.editedVendor.form_data.id),e.cakeVendors.loadVendors({$and:[{name:e.editedVendor.form_data.name},{id:{$nin:t}}]},{limit:1,fields:"id"},!0).then(function(t){t.results&&t.results.length>0&&e.forms.vendorForm.vendorName.$setValidity("duplicate",!1)},function(e){})}},y.saveVendor=function(){var e=y,t="";e.editedVendor.form_data.state_id&&(t=e.cakeStates.getState(e.editedVendor.form_data.state_id).state),e.canEditVendor&&e.editedVendor.data.id?(e.blockers.api_processing=!0,e.cakeVendors.updateVendor({id:e.editedVendor.data.id,name:e.editedVendor.form_data.name,address:e.editedVendor.form_data.address,address2:e.editedVendor.form_data.address2,city:e.editedVendor.form_data.city,state:t,state_id:e.editedVendor.form_data.state_id,zip:e.editedVendor.form_data.zip,country:e.editedVendor.form_data.country,country_id:e.editedVendor.form_data.country_id,phone:e.editedVendor.form_data.phone,fax:e.editedVendor.form_data.fax,notes:e.editedVendor.form_data.notes,is_active:e.editedVendor.form_data.is_active,contact_first_name:e.editedVendor.form_data.contact_first_name,contact_last_name:e.editedVendor.form_data.contact_last_name,contact_email:e.editedVendor.form_data.contact_email,contact_mobile:e.editedVendor.form_data.contact_mobile}).then(function(t){$().then(function(t){e.blockers.api_processing=!1,e.goBack()},function(t){e.blockers.api_processing=!1,e.errorHandler(t)})},function(t){e.blockers.api_processing=!1,e.errorHandler(t)})):e.canEditVendor&&!e.editedVendor.data.id&&(e.blockers.api_processing=!0,e.cakeVendors.createVendor({name:e.editedVendor.form_data.name,address:e.editedVendor.form_data.address,address2:e.editedVendor.form_data.address2,city:e.editedVendor.form_data.city,state:t,state_id:e.editedVendor.form_data.state_id,zip:e.editedVendor.form_data.zip,country:e.editedVendor.form_data.country,country_id:e.editedVendor.form_data.country_id,phone:e.editedVendor.form_data.phone,fax:e.editedVendor.form_data.fax,notes:e.editedVendor.form_data.notes,is_active:e.editedVendor.form_data.is_active,contact_first_name:e.editedVendor.form_data.contact_first_name,contact_last_name:e.editedVendor.form_data.contact_last_name,contact_email:e.editedVendor.form_data.contact_email,contact_mobile:e.editedVendor.form_data.contact_mobile}).then(function(t){e.editedVendor.data=t,e.editedVendor.form_data=angular.copy(e.editedVendor.data),$().then(function(t){e.blockers.api_processing=!1,e.goBack()},function(t){e.blockers.api_processing=!1,e.errorHandler(t)}),e.blockers.api_processing=!1},function(t){e.blockers.api_processing=!1,e.errorHandler(t)}))},y.showMessage=function(e,t){var n=y;t=t||"info",n.userInfo.message=e,n.userInfo.type=t},y.isLocationChecked=function(e){return!!_.find(y.editedVendor.locations.checked_locations,"id",e.id)}};i.$inject=["$location","$mdDialog","$q","commonService","permissionsService","settingsService","sharedDataService","vendorsService","countriesService","statesService","cakeVendorLocationsService"],t["default"]=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t,i,r,a,s,c,u,l,d,m,f,p,h){function v(){var e=g;e.introCompletion=0,(e.inventoryLocations.length>0||1===e.accountLocations.length)&&(e.stepsCompletion[1]=!0,e.introCompletion+=10,e.selectedLocationId=e.inventoryLocations[0].id,e.stepOneTitle+=" ("+e.accountLocationsById[e.inventoryLocations[0].id].name+")"),e.inventoryVendorsCount>0&&e.stepsCompletion[1]&&(e.stepsCompletion[2]=!0,e.introCompletion+=10),e.stepsCompletion[1]&&e.stepsCompletion[1]&&e.stepsCompletion[2]&&(e.inventoryItemsCount>=10?(e.stepsCompletion[3]=!0,e.introCompletion+=20):e.introCompletion+=2*e.inventoryItemsCount),_.find(e.inventoryCounts,function(e){return e.is_complete===!0})&&e.stepsCompletion[1]&&e.stepsCompletion[2]&&e.stepsCompletion[3]&&(e.stepsCompletion[4]=!0,e.introCompletion+=20),e.inventoryInvoicesCount>0&&e.stepsCompletion[1]&&e.stepsCompletion[2]&&e.stepsCompletion[3]&&e.stepsCompletion[4]&&(e.stepsCompletion[5]=!0,e.introCompletion+=20),_.max(_.values(_.countBy(_.filter(e.inventoryCounts,function(e){return e.is_complete===!0}),"count_group_id")))>1&&e.stepsCompletion[1]&&e.stepsCompletion[2]&&e.stepsCompletion[3]&&e.stepsCompletion[4]&&e.stepsCompletion[5]&&(e.stepsCompletion[6]=!0,e.introCompletion+=20)}n(this,o);var g=e;g.activate=function(){var e=g;e.blockers.api_processing=!0,e.isDeveloperMode=e.cakeCommon.isDevPreviewModeRunning(),e.$q.all({locations:e.cakeActiveLocations.loadActiveLocations(null,{sort:"created_at"}),items:e.cakeItems.loadItems(null,{}),counts:e.cakeCounts.loadCounts(null,{}),invoices:e.cakeInvoices.loadInvoices(null,{}),accountLocations:e.$peach.account.getLocations(),appInfo:e.$peach.app.getInfo(),vendors:e.cakeVendors.loadVendors(null,{}),isAccountAdmin:e.cakeCommon.isUserAccountAdmin()}).then(function(t){console.log(t),e.inventoryLocations=t.locations.results||[],e.inventoryItemsCount=t.items.count||0,e.inventoryCounts=t.counts.results||[],e.inventoryInvoicesCount=t.invoices.count||0,e.accountLocations=t.accountLocations||[],e.accountLocationsById=_.object(_.pluck(t.accountLocations,"id"),t.accountLocations),e.appInfo=t.appInfo,e.inventoryVendorsCount=t.vendors.count,e.isAccountAdmin=t.isAccountAdmin,e.accountLocationsIds=_.pluck(e.accountLocations,"id"),1===e.accountLocations.length&&!_.find(e.inventoryLocations,function(t){return t.location_id===e.accountLocations[0].id})&&e.isAccountAdmin?(e.selectedLocationId=e.accountLocations[0].id,e.setupLocation(e.selectedLocationId)):v()},function(t){e.$log.error(t)})["finally"](function(){e.blockers.api_processing=!1})},g.createStartingCount=function(){var e=g;e.blockers.api_processing=!0;var t=moment();e.cakeCounts.createCount({date:t.format("YYYY-MM-DD"),time:t.format("HH:mm:ss"),is_opening:!0,location_id:e.inventoryLocations[0].location_id}).then(function(t){e.cakeCounts.updateCount({id:t.id,is_complete:!0}).then(function(t){e.inventoryCounts.push(t),v()},function(t){e.$log.error(t)})["finally"](function(){e.blockers.api_processing=!1})},function(t){e.$log.error(t)})["finally"](function(){e.blockers.api_processing=!1})},g.hideIntroPage=function(){var e=g;e.blockers.api_processing=!0,e.$peach.user.setPref("hide_cake_welcome_page",!0).then(function(t){e.$peach.event.publish(e.$peach.event.events.HIDE_INTRO_PAGE,{key:e.appInfo.key}),e.$location.path("#/intro")},function(t){e.$log.error(t)})["finally"](function(){e.blockers.api_processing=!1})},g.goToItems=function(){var e=g;e.cakeSharedData.setValue("items_page_init_action","open_item_form"),e.$location.path("/settings/items")},g.goToReports=function(){var e=g,t=e.$location.absUrl().replace("apps/cake#/intro","reports");
e.$window.location.href=t},g.setupLocation=function(e){var t=g;t.blockers.api_processing=!0,t.cakeSettings.activateLocation({location_id:parseInt(e)}).then(function(e){t.inventoryLocations.push(e),v()},function(e){t.$log.error(e)})["finally"](function(){t.blockers.api_processing=!1})}};i.$inject=["$scope","$location","$log","$peach","$q","$window","commonService","countsService","itemsService","activeLocationsService","sharedDataService","invoicesService","settingsService","vendorsService"],t["default"]=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t,i,r,a,s,c,u,l,d){function m(){var e=$;return e.$q(function(t,n){var i=[];if(e.requestParams={},""!==e.searchParams.searchQuery){var o=[],r=f(e.searchParams.searchQuery);r.length>0&&o.push({vendor_id:r}),o.push({invoice_number:{$like:e.searchParams.searchQuery}}),moment(e.searchParams.searchQuery,"l").isValid()&&o.push({receipt_date:moment(e.searchParams.searchQuery,"l").format("YYYY-MM-DD")}),_.isNaN(parseFloat(e.searchParams.searchQuery))||o.push({total:parseFloat(e.searchParams.searchQuery)}),o.length>0&&(o.length>1?i.push({$or:o}):i.push(o[0]))}e.filters.location_id&&i.push({location_id:e.filters.location_id}),e.requestParams.page=e.pagination.page_no,e.requestParams.limit=e.pagination.limit,e.requestParams.sort="-receipt_date,-created_at",i.length>0&&(e.requestParams.find={$and:i}),t(!0)})}function f(e){var t=$,n=t.$filter("filter")(t.vendors,{name:e});return _.pluck(n,["id"])}function p(e){var t=$;e?(t.blockers.no_location=!1,t.activeLocationsById[e]?(t.filters.location_id=e,t.onPaginationChangeCallback()):(t.invoices=[],t.invoicesById={},t.pagination.total_items=0,t.showMessage("Selected location is not an active Cake location."),t.blockers.api_processing=!1,t.blockers.no_location=!0)):(t.invoices=[],t.invoicesById={},t.pagination.total_items=0,t.blockers.api_processing=!1,t.blockers.no_location=!0)}function h(){var e=$;return e.$q(function(t,n){m().then(function(){var i=e.requestParams.find||null,o=_.omit(e.requestParams,"find");e.cakeInvoices.loadInvoices(i,o).then(function(n){e.pagination.total_items=n.count||0,t(n)},function(e){n(e)})})})}function v(){var e=$;return e.$q(function(t,n){e.filters.location_id?(e.blockers.api_processing=!0,h().then(function(n){g().then(function(){e.hideMessage(),e.blockers.api_processing=!1,e.blockers.initializing=!1,e.$document[0].getElementById("page_frame").scrollTop=0,t(!0)})},function(t){e.errorHandler(t),e.blockers.api_processing=!1,n(t)})):(e.invoices=[],e.invoicesById={},e.pagination.total_items=0,e.blockers.api_processing=!1,e.blockers.no_location=!0)})}function g(){var e=$;return e.$q(function(t,n){e.invoices=[],e.invoicesById={},_.each(e.cakeInvoices.getInvoices(),function(t){var n=e.vendorsById[t.vendor_id];n&&(t.date_formatted=t.receipt_date?moment(t.receipt_date,"YYYY-MM-DD").format("l"):"--/--/--",t.vendor=n,t.vendor_name=n.name,t.total_formatted=e.cakeCommon.parseCakeCostFloatValue(t.total,"0.00",2),e.invoices.push(t),e.invoicesById[t.id]=t)}),t(!0)})}function b(){var e=$;return e.$q(function(t,n){e.vendors=e.cakeVendors.getVendors(),e.vendorsById=e.cakeVendors.getVendorsCollection(),t(!0)})}n(this,o);var $=this;$.activate=function(){var e=$;e.blockers.api_processing=!0,e.isDeveloperMode=e.cakeCommon.isDevPreviewModeRunning(),e.$q.all({is_account_admin:e.cakeCommon.isUserAccountAdmin(),active_locations:e.cakeSettings.getSettings("active_locations"),vendors:e.cakeVendors.loadVendors(null,{sort:"name"}),can_edit_invoices:e.cakePermissions.userHasPermission("edit_invoices")}).then(function(t){e.activeLocations=t.active_locations,e.activeLocationsById=_.object(_.pluck(e.activeLocations,"id"),e.activeLocations),e.isAccountAdmin=t.is_account_admin,e.canEditInvoices=t.can_edit_invoices,b().then(function(){p(e.$peach.session.getActiveLocation()),e.$peach.event.subscribe(e.$peach.event.events.LOCATION_CHANGE,function(e){(_.isUndefined(e)||_.isNumber(e)||_.isNull(e))&&p(e)})})},function(t){e.blockers.api_processing=!1,e.canEditInvoices=!1,e.errorHandler(t)})},$.errorHandler=function(e,t,n){var i=$,o="";return t=t||!1,o=_.isString(e)?"There was an error: "+e:"There was an error, please check console log for more details.",i.showMessage(o,"alert"),t&&i.cakeCommon.apiErrorHandler(e),_.isFunction(n)?n():void 0},$.hideMessage=function(){var e=$;e.userInfo={message:"",type:""}},$.onPaginationChangeCallback=function(){v()},$.onSearchPhraseUpdateCallback=function(){var e=$;e.pagination.page_no=1,e.onPaginationChangeCallback()},$.openNewInvoiceModal=function(){var e=$;e.blockers.no_location||e.$location.path("/edit_invoice")},$.openEditInvoiceModal=function(e){var t=$;t.$location.path("/edit_invoice").search({id:e})},$.showMessage=function(e,t){var n=$;t=t||"info",n.userInfo.message=e,n.userInfo.type=t}};i.$inject=["$document","$filter","$location","$peach","$q","commonService","invoicesService","permissionsService","settingsService","vendors"],t["default"]=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t,i,r,a,s,c,u,l,d,m,f){function p(e){var t=C;e=e||[];var n=[];return t.$q(function(i,o){t.itemsRequestParams={},""!==t.searchParams.searchQuery&&n.push({name:{$like:t.searchParams.searchQuery}}),t.filters.gl_account_id&&(t.customFiltersApplied=!0,n.push({gl_account_id:t.filters.gl_account_id})),n=n.concat(e),t.itemsRequestParams.page=t.pagination.page_no,t.itemsRequestParams.limit=t.pagination.limit,t.itemsRequestParams.sort="name",n.length>0&&(t.itemsRequestParams.find={$and:n}),i(!0)})}function h(e){var t=C;e?(t.blockers.no_location=!1,t.activeLocationsById[e]?(t.filters.location_id=e,t.onPaginationChangeCallback()):(t.items=[],t.itemsById={},t.pagination.total_items=0,t.showMessage("Selected location is not an active Cake location."),t.blockers.api_processing=!1,t.blockers.no_location=!0)):(t.items=[],t.itemsById={},t.pagination.total_items=0,t.blockers.api_processing=!1,t.blockers.no_location=!0)}function v(e){var t=C;return t.$q(function(n,i){t.cakeItemLocations.loadItemLocations(e).then(function(e){n(e)},function(e){i(e)})})}function g(e){var t=C;return t.$q(function(n,i){p(e).then(function(){var e=t.itemsRequestParams.find||null,o=_.omit(t.itemsRequestParams,"find");t.cakeItems.loadItems(e,o).then(function(e){t.pagination.total_items=e.count||0,n(e)},function(e){i(e)})})})}function b(e){var t=C;return t.$q(function(n,i){t.cakeItemUnits.loadItemUnits(e).then(function(e){n(e)},function(e){i(e)})})}function $(e){var t=C;return t.$q(function(n,i){t.cakeItemUnitLocations.loadItemUnitLocations(e).then(function(e){n(e)},function(e){i(e)})})}function y(){var e=C;return e.$q(function(t,n){e.customFiltersApplied=!1,e.filters.location_id?(e.blockers.api_processing=!0,v({location_id:e.filters.location_id}).then(function(i){var o=_.uniq(_.pluck(i.results,"inv_item_id"));g([{id:o.length>0?o:0}]).then(function(i){var o=_.pluck(i.results,"id");e.$q.all([b({inv_item_id:o.length>0?o:0}),$({$and:[{inv_item_id:o.length>0?o:0},{location_id:e.filters.location_id}]})]).then(function(n){k().then(function(){e.hideMessage(),e.blockers.api_processing=!1,e.$document[0].getElementById("page_frame").scrollTop=0,t(!0)})},function(t){e.errorHandler(t),e.blockers.api_processing=!1,n(t)})},function(t){e.errorHandler(t),e.blockers.api_processing=!1,n(t)})},function(t){e.errorHandler(t),e.blockers.api_processing=!1,n(t)})):(e.showMessage("Please select a location first.","warning"),e.blockers.api_processing=!1)})}function k(){var e=C;return e.$q(function(t,n){e.itemUnits=e.cakeItemUnits.getItemUnits(),e.itemUnitsById=e.cakeItemUnits.getItemUnitsCollection(),e.itemUnitLocations=e.cakeItemUnitLocations.getItemUnitLocations(),e.itemUnitLocationsById=e.cakeItemUnitLocations.getItemUnitLocationsCollection(),e.items=e.cakeItems.getItems(),_.each(e.items,function(t){t.common_unit=null,t.units=[],t.is_expanded=!1,e.itemsById[t.id]=t}),_.each(e.itemUnits,function(t){t.unit=e.unitsById[t.unit_id],t.item=e.itemsById[t.inv_item_id],t.unit_locations=[],t.unit&&t.item&&(t.is_common_unit=t.unit_id===t.common_unit_id,t.display_name=t.unit.name+(!t.is_common_unit&&t.description?" ("+t.description+")":""),t.conversion_value=parseFloat(Big(t.unit_quantity).toFixed(5)),t.conversion_label=t.conversion_value.toString())}),_.each(e.itemUnitLocations,function(t){t.item_unit=e.itemUnitsById[t.inv_item_unit_id],t.item=e.itemsById[t.inv_item_id],t.item&&t.item_unit&&t.item_unit.unit_locations.push(t)}),_.each(e.itemUnits,function(e){e.unit&&e.item&&e.unit_locations.length>0&&(e.single_location_mode_data=e.unit_locations[0],e.is_common_unit?e.item.common_unit=e:e.item.units.push(e))}),_.each(e.items,function(e){e.units=_.sortBy(e.units,"display_name"),e.common_unit&&e.units.unshift(e.common_unit),_.each(e.units,function(t){t.is_common_unit||(t.conversion_label=t.conversion_label+(e.common_unit?" "+e.common_unit.unit.abbr:""))})}),t(!0)})}function E(){var e=C;return e.$q(function(t,n){e.units=e.cakeUnits.getUnits(),e.unitsById=e.cakeUnits.getUnitsCollection(),t(!0)})}function w(){var e=C;return e.$q(function(t,n){e.glAccounts=e.cakeGLAccounts.getGLAccounts(),e.glAccountsById=e.cakeGLAccounts.getGLAccountsCollection(),t(!0)})}n(this,o);var C=this;C.activate=function(){var e=C;e.blockers.api_processing=!0,e.isDeveloperMode=e.cakeCommon.isDevPreviewModeRunning(),e.$q.all({is_account_admin:e.cakeCommon.isUserAccountAdmin(),can_edit_units:e.cakePermissions.userHasPermission("edit_item_units"),account_locations:e.cakeSettings.getSettings("account_locations"),active_locations:e.cakeSettings.getSettings("active_locations"),gl_accounts:e.cakeGLAccounts.loadGLAccounts(null,{sort:"name"}),units:e.cakeUnits.loadUnits(null,{sort:"name"})}).then(function(t){e.isAccountAdmin=t.is_account_admin,e.canEditItemUnits=t.can_edit_units,e.accountLocations=t.account_locations,e.isSingleLocationAccount=e.accountLocations.length<=1?!0:!1,e.activeLocations=t.active_locations,e.activeLocationsById=_.object(_.pluck(e.activeLocations,"id"),e.activeLocations),e.$q.all([w(),E()]).then(function(){h(e.$peach.session.getActiveLocation()),e.$peach.event.subscribe(e.$peach.event.events.LOCATION_CHANGE,function(e){(_.isUndefined(e)||_.isNumber(e)||_.isNull(e))&&h(e)})})},function(t){e.blockers.api_processing=!1,e.errorHandler(t)})},C.clearFilters=function(){var e=C;e.filters.gl_account_id=null,e.customFiltersApplied&&(e.pagination.page_no=1,e.onPaginationChangeCallback())},C.errorHandler=function(e,t,n){var i=C,o="";return t=t||!1,o=_.isString(e)?"There was an error: "+e:"There was an error, please check console log for more details.",i.showMessage(o,"alert"),t&&i.cakeCommon.apiErrorHandler(e),_.isFunction(n)?n():void 0},C.filterTable=function(){var e=C;e.pagination.page_no=1,e.onPaginationChangeCallback()},C.hideMessage=function(){var e=C;e.userInfo={message:"",type:""}},C.onPaginationChangeCallback=function(){y()},C.onSearchPhraseUpdateCallback=function(){var e=C;e.filterTable()},C.saveItemUnitLocation=function(e){var t=C;t.cakeItemUnitLocations.updateItemUnitLocation(e)},C.showMessage=function(e,t){var n=C;t=t||"info",n.userInfo.message=e,n.userInfo.type=t}};i.$inject=["$document","$peach","$q","commonService","glAccountsService","itemsService","itemLocationsService","itemUnitsService","itemUnitLocationsService","permissionsService","settingsService","cakeUnitsService"],t["default"]=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t,i,r,a,s,c,u,l,d,m,f,p,h,v,g,b,$,y,k,E){function w(){var e=Q,t=[],n=[];return e.$q(function(i,o){e.filters.location_id&&(e.customFiltersApplied=!0,t.push(T({location_id:e.filters.location_id}))),e.filters.vendor_id&&(e.customFiltersApplied=!0,t.push(P({vendor_id:e.filters.vendor_id}))),t.length>0?e.$q.all(t).then(function(e){var t=[];t=2==e.length?_.intersection(_.uniq(_.pluck(e[0].results,"inv_item_id")),_.uniq(_.pluck(e[1].results,"inv_item_id"))):_.uniq(_.pluck(e[0].results,"inv_item_id")),n.push({id:t.length>0?t:0}),i(n)},function(e){o(e)}):i(n)})}function C(e){var t=Q;e=e||[];var n=[];return t.$q(function(i,o){t.itemsRequestParams={},""!==t.searchParams.searchQuery&&n.push({name:{$like:t.searchParams.searchQuery}}),t.filters.gl_account_id&&(t.customFiltersApplied=!0,n.push({gl_account_id:t.filters.gl_account_id})),t.filters.count_group_id&&(t.customFiltersApplied=!0,n.push({count_group_id:t.filters.count_group_id})),t.filters.show_inactive_items?t.customFiltersApplied=!0:n.push({is_active:!0}),n=n.concat(e),t.itemsRequestParams.page=t.pagination.page_no,t.itemsRequestParams.limit=t.pagination.limit,t.itemsRequestParams.sort=("desc"===t.tableSort.order?"-":"")+t.tableSort.field,n.length>0&&(t.itemsRequestParams.find={$and:n}),i(!0)})}function A(){var e=Q;if(e.cakeSharedData.getValue("items_page_init_action")){var t=e.cakeSharedData.getValue("items_page_init_action");switch(t){case"open_item_form":e.canEditItems&&e.openNewItemForm()}e.cakeSharedData.unsetValue("items_page_init_action")}}function I(e,t){var n=Q;t=t||!1;var i=["items_db_id","items_db_units","new_vendor_conversion_label","new_vendor_disable_conversion","new_vendor_id","new_vendor_last_price","new_vendor_unit_conversion","new_vendor_unit_id"];return n.$q(function(o,r){var a={extended:!0};e.items_db_id&&(a.item_db_id=e.items_db_id),n.cakeItems.createItem(_.extend(_.omit(e,i),{item_db_id:e.items_db_id}),a).then(function(i){t?n.$q.all([n.cakeItemLocations.loadItemLocations({$and:[{location_id:e.locations},{inv_item_id:i.id}]},null,!0),n.cakeGLAccounts.loadGLAccounts({id:i.gl_account_id},null,!0)]).then(function(e){_.each(e[1].results,function(e){n.glAccountsById[e.id]||(n.glAccounts.push(e),n.glAccountsById[e.id]=e)}),i=U(i),n.items.unshift(i),n.itemsById[i.id]=i,_.each(e[0].results,function(e){e=V(e),n.itemLocations.push(e),n.itemLocationsById[e.id]=e}),o(i)},function(e){r(e)}):o(i)},function(e){r(e)})})}function x(e,t,n,i){var o=Q,r={vendor_id:parseInt(o.newItem.form_data.new_vendor_id,10),inv_item_id:e.id,inv_item_unit_id:null,is_active:!0};o.newItem.form_data.new_vendor_last_price&&(r.last_price=o.cakeCommon.parseCakeFloatValue(o.newItem.form_data.new_vendor_last_price,null),r.last_price_on=moment().format("YYYY-MM-DD")),o.cakeItemUnits.loadItemUnits({inv_item_id:e.id,unit_id:parseInt(o.newItem.form_data.new_vendor_unit_id,10)},null,!0).then(function(a){var s=o.cakeCommon.parseCakeFloatValue(o.newItem.form_data.new_vendor_unit_conversion,null),c=!1;if(_.each(a.results,function(e){var t=o.cakeCommon.parseCakeFloatValue(e.unit_quantity,null);return t===s?(c=e,!1):void 0}),c)r.inv_item_unit_id=c.id,M(r,n,i);else{var u={unit_id:parseInt(o.newItem.form_data.new_vendor_unit_id,10),unit_quantity:s,is_report_unit:!1,inv_item_id:e.id,common_unit_id:e.common_unit_id,description:o.unitsById[parseInt(o.newItem.form_data.new_vendor_unit_id,10)].name+" "+s+" "+o.unitsById[e.common_unit_id].abbr};o.cakeItemUnits.createItemUnit(u).then(function(a){c=a;var s=[];_.each(t,function(t){s.push({inv_item_id:e.id,location_id:t,inv_item_unit_id:c.id,is_count_unit:!0})}),s.length>0?o.cakeItemUnitLocations.bulkCreateItemUnitLocations(s).then(function(e){r.inv_item_unit_id=c.id,M(r,n,i)},function(e){i("New item created fine, but failed to create vendor item.")}):(r.inv_item_unit_id=c.id,M(r,n,i))},function(e){i("New item created fine, but failed to create vendor item.")})}},function(e){i("New item created fine, but failed to create vendor item.")})}function M(e,t,n){var i=Q;i.cakeVendorItems.createVendorItem(e).then(function(e){var n=z(e);i.itemVendors.push(n),i.itemVendorsById[n.id]=n,t()},function(e){n("New item created fine, but failed to create vendor item.")})}function T(e){var t=Q;return t.$q(function(n,i){t.cakeItemLocations.loadItemLocations(e).then(function(e){n(e)},function(e){i(e)})})}function S(){var e=Q;return e.$q(function(t,n){var i=e.itemsRequestParams.find||null,o=_.omit(e.itemsRequestParams,"find");e.cakeItems.loadItems(i,o).then(function(i){e.pagination.total_items=i.count||0,i.results.length>0?e.$q.all([T({$and:[{location_id:_.pluck(e.activeLocations,"id")},{inv_item_id:_.keys(e.cakeItems.getItemsCollection())}]}),P({inv_item_id:_.keys(e.cakeItems.getItemsCollection())})]).then(function(e){q().then(function(){t(!0)},function(e){n(e)})},function(e){n(e)}):q().then(function(){t(!0)},function(e){n(e)})},function(e){n(e)})})}function N(e){var t=Q;return e=e||null,t.$q(function(n,i){t.closeNewItemForm(),t.blockers.api_processing=!0,t.blockers.table_updating=!0,t.customFiltersApplied=!1,w().then(function(o){C(o).then(function(){S().then(function(){if(t.bulkEdit.show_form){var i=_.intersection(_.pluck(t.items,"id"),_.pluck(t.bulkEdit.checked_items,"id")),o=[];_.each(i,function(e){o.push(t.itemsById[e])}),t.$timeout(function(){t.bulkEdit.checked_items=o},1e3)}else t.bulkEdit.checked_items=[];t.blockers.api_processing=!1,t.blockers.table_updating=!1,e&&J(e),t.$document[0].getElementById("page_frame").scrollTop=0,n(!0)},function(e){t.blockers.api_processing=!1,t.blockers.table_updating=!1,i(e)})},function(e){t.blockers.api_processing=!1,t.blockers.table_updating=!1,i(e)})},function(e){t.blockers.api_processing=!1,t.blockers.table_updating=!1,i(e)})})}function D(){var e=Q;return e.cakeTypeaheadHelper.typeaheadDataLoad(e.newItem.typeahead.search_text,"name","new_item_typeahead_loader",[L,O],e.newItem.typeahead,3,"name").then(function(e){var t=[],n=[];return e[0]&&(t=_.map(_.pluck(e[0],"name"),function(e){return e.toLowerCase()})),e[1]&&_.each(e[1],function(e){t.indexOf(e.name.toLowerCase())<0&&n.push(e)}),n})}function O(e,t){var n=Q;return n.$q(function(i,o){n.cakeItemsDBItems.getData({name:{$like:e}},{sort:"name",limit:t}).then(function(e){i(e)},function(e){o(e)})})}function L(e,t){var n=Q;return n.$q(function(i,o){n.cakeItems.loadItems({name:{$like:e}},{sort:"name",fields:"id,name",limit:t},!0).then(function(e){i(e)},function(e){o(e)})})}function H(e){var t=Q;return t.$q(function(n,i){t.cakeItems.loadItems({name:e},{fields:"id",limit:1},!0).then(function(e){n(e)},function(e){i(e)})})}function P(e){var t=Q;return t.$q(function(n,i){t.cakeVendorItems.loadVendorItems(e).then(function(e){n(e)},function(e){i(e)})})}function q(){var e=Q;return e.$q(function(t,n){R().then(function(){e.$q.all([F(),G()]).then(function(){t(!0)},function(e){n(e)})},function(e){n(e)})})}function j(){var e=Q;return e.$q(function(t,n){e.countGroups=e.cakeCountGroups.getCountGroups(),e.countGroupsById=e.cakeCountGroups.getCountGroupsCollection(),t(!0)})}function B(){var e=Q;return e.$q(function(t,n){e.glAccounts=e.cakeGLAccounts.getGLAccounts(),e.glAccountsById=e.cakeGLAccounts.getGLAccountsCollection(),t(!0)})}function R(){var e=Q;return e.$q(function(t,n){e.items=e.cakeItems.getItems(),e.itemsById={},_.each(e.items,function(t){t=U(t),e.itemsById[t.id]=t}),t(!0)})}function U(e){var t=Q;return e.glAccount=t.glAccountsById[e.gl_account_id],e.glAccountName=e.glAccount?e.glAccount.name:"--",e.countGroup=t.countGroupsById[e.count_group_id],e.countGroupName=e.countGroup?e.countGroup.name:"--",e.commonUnit=t.unitsById[e.common_unit_id],e.commonUnitName=e.commonUnit?e.commonUnit.name:"--",e.locations=[],e.itemLocations=[],e.locationsNames=[],e.vendors=[],e.vendorsById={},e.itemVendors=[],e.vendorsNames=[],e}function F(){var e=Q;return e.$q(function(t,n){e.itemLocations=e.cakeItemLocations.getItemLocations(),e.itemLocationsById={},_.each(e.itemLocations,function(t){t=V(t),e.itemLocationsById[t.id]=t}),t(!0)})}function V(e){var t=Q,n=t.activeLocationsById[e.location_id];e.location=n;var i=t.itemsById[e.inv_item_id];return i&&(i.itemLocations.push(e),i.locations.push(n),i.locationsNames.push(n.name)),e}function G(){var e=Q;return e.$q(function(t,n){e.itemVendors=e.cakeVendorItems.getVendorItems(),e.itemVendorsById={},_.each(e.itemVendors,function(t){t=z(t),e.itemVendorsById[t.id]=t}),t(!0)})}function z(e){var t=Q,n=t.vendorsById[e.vendor_id];e.vendor=n;var i=t.itemsById[e.inv_item_id];return i&&(i.itemVendors.push(e),i.vendorsById[n.id]||(i.vendorsById[n.id]=n,i.vendors.push(n),i.vendorsNames.push(n.name))),e}function Y(){var e=Q;return e.$q(function(t,n){e.units=e.cakeUnits.getUnits(),e.unitsById=e.cakeUnits.getUnitsCollection(),e.unitsByAbbr=_.object(_.pluck(e.units,"abbr"),e.units),t(!0)})}function W(){var e=Q;return e.$q(function(t,n){e.vendors=e.cakeVendors.getVendors(),e.vendorsById=e.cakeVendors.getVendorsCollection(),t(!0)})}function K(){var e=Q;e.glAccountsById[0]&&(e.glAccounts=_.filter(e.glAccounts,function(e){return 0!==e.id}),delete e.glAccountsById[0])}function X(){var e=Q;e.newItem.locations=_.pluck(e.activeLocations,"id")}function J(e){var t=Q;t.$peachToast.show(e)}n(this,o);var Q=this;Q.activate=function(){var e=Q;e.blockers.api_processing=!0,e.blockers.table_updating=!0,e.isDeveloperMode=e.cakeCommon.isDevPreviewModeRunning(),e.$q.all({is_account_admin:e.cakeCommon.isUserAccountAdmin(),account_locations:e.cakeSettings.getSettings("account_locations"),active_locations:e.cakeSettings.getSettings("active_locations"),can_edit_items:e.cakePermissions.userHasPermission("edit_items"),gl_accounts:e.cakeGLAccounts.loadGLAccounts(null,{sort:"name"}),count_groups:e.cakeCountGroups.loadCountGroups(null,{sort:"name"}),units:e.cakeUnits.loadUnits(null,{sort:"name"}),vendors:e.cakeVendors.loadVendors(null,{sort:"name"}),default_gl_account:e.cakeGLAccounts.getDefaultGLAccount(),default_count_group:e.cakeCountGroups.getDefaultCountGroup()}).then(function(t){e.isAccountAdmin=t.is_account_admin,e.accountLocations=t.account_locations,e.isSingleLocationAccount=e.accountLocations.length<=1?!0:!1,e.activeLocations=t.active_locations,e.activeLocationsById=_.object(_.pluck(e.activeLocations,"id"),e.activeLocations),e.canEditItems=t.can_edit_items,e.defaultGLAccount=t.default_gl_account,e.defaultCountGroup=t.default_count_group,e.$q.all([B(),j(),Y(),W()]).then(function(){if(e.cakeSharedData.getValue("items_search")){var t=e.cakeSharedData.getValue("items_search");t.count_group_id&&(e.filters.count_group_id=t.count_group_id),t.vendor_id&&(e.filters.vendor_id=t.vendor_id),e.cakeSharedData.unsetValue("items_search")}N().then(function(){A()})})},function(t){e.blockers.api_processing=!1,e.blockers.table_updating=!1,e.errorHandler(t)})},Q.addNewItem=function(){var e=Q;e.blockers.api_processing=!0,e.blockers.saving=!0;var t=function(){e.blockers.api_processing=!1,e.blockers.saving=!1,e.closeNewItemForm(),J("New item added!")},n=function(n){t(),e.errorHandler(n)};I(_.extend({},e.newItem.form_data,{name:e.newItem.typeahead.items_db_item?e.newItem.typeahead.items_db_item.name:e.newItem.typeahead.search_text,locations:_.map(e.newItem.locations,function(e){return parseInt(e,10)})}),!0).then(function(i){e.newItem.form_data.new_vendor_id?x(i,_.map(e.newItem.locations,function(e){return parseInt(e,10)}),t,n):t()},function(t){e.blockers.api_processing=!1,e.blockers.saving=!1})},Q.autoCalculateConversionForNewVendorUnit=function(){var e=Q,t=e.unitsById[parseInt(e.newItem.form_data.new_vendor_unit_id,10)],n=e.unitsById[parseInt(e.newItem.form_data.common_unit_id,10)],i=1,o=!1,r="";if(t&&n&&(r=n.name+"(s) per "+t.name,"each"!==t.type&&"each"!==n.type))if(t.type==n.type){var a="english_base";t.is_metric&&(a="metric_base");var s=Big(t[a]),c=Big(n[a]);i=e.cakeCommon.parseCakeFloatValue(s.div(c)),o=!0}else{var u=e.newItem.form_data.items_db_units?_.findWhere(e.newItem.form_data.items_db_units.all_units,{type:t.type,is_common_unit:!1}):null;if(u){var a="english_base";t.is_metric&&(a="metric_base");var s=Big(u.items_db_item_unit.unit_id[a]),c=Big(t[a]),l=Big(u.items_db_item_unit.unit_quantity);i=e.cakeCommon.parseCakeFloatValue(c.div(s).times(l)),o=!0}}e.newItem.form_data.new_vendor_unit_conversion=i,e.newItem.form_data.new_vendor_disable_conversion=o,e.newItem.form_data.new_vendor_conversion_label=r},Q.bulkEditItemsCategoryCallback=function(){var e=Q,t=[],n=parseInt(e.bulkEdit.form_data.gl_account_id,10);e.blockers.api_processing=!0,e.blockers.table_updating=!0,_.each(e.bulkEdit.checked_items,function(e){t.push({id:e.id,gl_account_id:n})}),e.cakeItems.bulkUpdateItems(t).then(function(t){e.bulkEdit.form_data.gl_account_id=null,N("Data updated!")},function(t){e.blockers.api_processing=!1,e.blockers.table_updating=!1,e.errorHandler(t)})},Q.bulkEditItemsCountGroupCallback=function(){var e=Q,t=[],n=parseInt(e.bulkEdit.form_data.count_group_id,10);e.blockers.api_processing=!0,e.blockers.table_updating=!0,_.each(e.bulkEdit.checked_items,function(e){t.push({id:e.id,count_group_id:n})}),e.cakeItems.bulkUpdateItems(t).then(function(t){e.bulkEdit.form_data.count_group_id=null,N("Data updated!")},function(t){e.blockers.api_processing=!1,e.blockers.table_updating=!1,e.errorHandler(t)})},Q.bulkEditItemsLocationsCallback=function(e){var t=Q,n=_.uniq(_.pluck(e,"inv_item_id")),i=[],o=[],r={},a=[],s=[];t.blockers.api_processing=!0,t.blockers.table_updating=!0,_.each(e,function(e){e.id?e.to_be_removed&&(i.push(e.id),a.push(e.inv_item_id),s.push(e.location_id)):(o.push(_.omit(e,["id","to_be_removed"])),r[e.inv_item_id]||(r[e.inv_item_id]=[]),r[e.inv_item_id].push(e.location_id))}),t.$q.all([t.cakeItemUnits.loadItemUnits({inv_item_id:n},null,!0),t.cakeItemLocations.bulkCreateItemLocations(o),t.cakeItemLocations.bulkDeleteItemLocations(i)]).then(function(e){var n=[],i=_.groupBy(e[0].results,function(e){return e.inv_item_id});_.each(_.keys(r),function(e){var t=i[e];_.each(t,function(t){_.each(r[e],function(i){n.push({inv_item_id:e,location_id:i,inv_item_unit_id:t.id,is_count_unit:!0})})})}),t.$q.all([t.cakeItemUnitLocations.bulkCreateItemUnitLocations(n),t.cakeItemUnitLocations.bulkDeleteItemUnitLocations({location_ids:_.uniq(s),find:{inv_item_id:_.uniq(a)}})]).then(function(e){N("Data updated!")},function(e){t.blockers.api_processing=!1,t.blockers.table_updating=!1,t.errorHandler(e)})},function(e){t.blockers.api_processing=!1,t.blockers.table_updating=!1,t.errorHandler(e)})},Q.clearFilters=function(){var e=Q;e.filters={show_inactive_items:!1,gl_account_id:null,count_group_id:null,location_id:null,vendor_id:null},e.customFiltersApplied&&e.filterTable()},Q.closeBulkEdit=function(){var e=Q;e.bulkEdit={is_enabled:!1,show_form:!1,form_data:{},checked_items:[]}},Q.closeNewItemForm=function(){var e=Q;K(),e.newItem={show_form:!1,form_data:{},locations:[],typeahead:{}}},Q.errorHandler=function(e,t,n){var i=Q,o="";return t=t||!1,o=_.isString(e)?"There was an error: "+e:"There was an error, please check console log for more details.",i.showMessage(o,"alert"),t&&i.cakeCommon.apiErrorHandler(e),_.isFunction(n)?n():void 0},Q.filterTable=function(){var e=Q;e.pagination.page_no=1,e.onPaginationChangeCallback()},Q.hideMessage=function(){var e=Q;e.userInfo={message:"",type:""}},Q.loadNewItemTypeaheadOptions=function(){return D()},Q.newItemFormTypeaheadSearchTextCallback=function(){var e=Q;e.forms.newItemForm.newItemName.$setValidity("unique",!0),e.newItem.typeahead.search_text?(X(),e.newItem.form_data.gl_account_id=e.glAccounts.length>1?null:e.defaultGLAccount.id,e.newItem.form_data.count_group_id=e.defaultCountGroup.id,H(e.newItem.typeahead.search_text).then(function(t){t.results.length>0&&e.forms.newItemForm.newItemName.$setValidity("unique",!1)})):(e.newItem.locations=[],e.newItem.form_data.gl_account_id=null,e.newItem.form_data.count_group_id=null)},Q.newItemFormTypeaheadSelectedItemCallback=function(){var e=Q;e.resetNewItemVendorData(),e.newItem.typeahead.items_db_item?(e.blockers.api_processing=!0,e.cakeItemsDBItems.getItemsDBItemGLAccountFromCategoryId(e.newItem.typeahead.items_db_item.category_id).then(function(t){0==t.id&&(e.glAccounts.push(t),e.glAccountsById[0]=t),X(),e.newItem.form_data.gl_account_id=t.id,e.newItem.form_data.count_group_id=e.defaultCountGroup.id,e.newItem.form_data.items_db_id=e.newItem.typeahead.items_db_item.id,e.newItem.form_data.items_db_units={common_unit:null,all_units:[]},e.cakeItemsDBItems.getItemsDBItemUnits(e.newItem.typeahead.items_db_item.id).then(function(t){_.each(t.results,function(t){var n=angular.copy(e.unitsByAbbr[t.unit_id.abbr]);n&&(n.items_db_item_unit=t,n.is_common_unit=!1,t.common_unit_id.id===t.unit_id.id&&(n.is_common_unit=!0,e.newItem.form_data.items_db_units.common_unit=n),e.newItem.form_data.items_db_units.all_units.push(n))}),e.newItem.form_data.common_unit_id=e.newItem.form_data.items_db_units.common_unit?e.newItem.form_data.items_db_units.common_unit.id:null,e.blockers.api_processing=!1},function(t){e.blockers.api_processing=!1})},function(t){e.blockers.api_processing=!1})):(K(),e.newItem.typeahead.search_text?(X(),e.newItem.form_data.gl_account_id=e.glAccounts.length>1?null:e.defaultGLAccount.id,e.newItem.form_data.count_group_id=e.defaultCountGroup.id):(e.newItem.locations=[],e.newItem.form_data.gl_account_id=null,e.newItem.form_data.count_group_id=null),e.newItem.form_data.items_db_id=null,e.newItem.form_data.common_unit_id=null,e.newItem.form_data.items_db_units={common_unit:null,all_units:[]})},Q.onBulkEditModeChangeCallback=function(){var e=Q;e.bulkEdit.is_enabled?e.openBulkEdit():e.closeBulkEdit()},Q.onPaginationChangeCallback=function(){N()},Q.onSearchPhraseUpdateCallback=function(){var e=Q;e.filterTable()},Q.openAddActiveLocationModal=function(){var e=Q;e.$location.path("/settings/add_active_location")},Q.openBulkEdit=function(){var e=Q;e.closeNewItemForm(),e.bulkEdit.is_enabled=!0,e.bulkEdit.show_form=!0},Q.openEditItemModal=function(e){var t=Q;t.$location.path("/settings/edit_item").search({id:e})},Q.openItemsDBSearchModal=function(e){var t=Q;t.$location.path("/settings/bulk_add_items")},Q.openNewItemForm=function(){var e=Q;e.closeBulkEdit(),e.newItem.form_data.is_active=!0,e.newItem.show_form=!0},Q.resetNewItemVendorData=function(){var e=Q;e.newItem.form_data.new_vendor_id=null,e.newItem.form_data.new_vendor_unit_id=null,e.newItem.form_data.new_vendor_unit_conversion=null,e.newItem.form_data.new_vendor_last_price=null,e.newItem.form_data.new_vendor_disable_conversion=!1,e.newItem.form_data.new_vendor_conversion_label=""},Q.showMessage=function(e,t){var n=Q;t=t||"info",n.userInfo.message=e,n.userInfo.type=t},Q.toggleInactiveItems=function(){var e=Q;e.filters.show_inactive_items=!e.filters.show_inactive_items,e.filterTable()}};i.$inject=["$document","$filter","$location","$peachToast","$q","$timeout","commonService","countGroupsService","glAccountsService","itemsService","itemsDBItemsService","itemLocationsService","itemUnitsService","itemUnitLocationsService","permissionsService","settingsService","sharedDataService","typeaheadHelperService","unitsService","vendorsService","vendorItemsService"],t["default"]=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t,i,r,a,s,c,u,l,d){function m(e){var t=E;e=e||[];var n=[];return t.$q(function(i,o){t.requestParams={},""!==t.searchParams.searchQuery&&n.push({$or:[{name:{$like:t.searchParams.searchQuery}},{city:{$like:t.searchParams.searchQuery}},{state:{$like:t.searchParams.searchQuery}}]}),t.filters.show_inactive_items?t.customFiltersApplied=!0:n.push({is_active:!0}),n=n.concat(e),t.requestParams.page=t.pagination.page_no,t.requestParams.limit=t.pagination.limit,t.requestParams.sort=("desc"===t.tableSort.order?"-":"")+t.tableSort.field,n.length>0&&(t.requestParams.find={$and:n}),i(!0)})}function f(e){var t=E;return t.$q(function(n,i){t.cakeVendorLocations.loadVendorLocations(e,{limit:1e3}).then(function(e){n(e)},function(e){i(e)})})}function p(e){var t=E;return t.$q(function(n,i){m(e).then(function(){var e=t.requestParams.find||null,o=_.omit(t.requestParams,"find");t.cakeVendors.loadVendors(e,o).then(function(e){t.pagination.total_items=e.count||0,e.results.length>0?f({
$and:[{location_id:_.pluck(t.activeLocations,"id")},{vendor_id:_.keys(t.cakeVendors.getVendorsCollection())}]}).then(function(e){v().then(function(){n(!0)},function(e){i(e)})},function(e){i(e)}):v().then(function(){n(!0)},function(e){i(e)})},function(e){i(e)})},function(e){i(e)})})}function h(e){var t=E;return e=e||null,t.$q(function(n,i){t.blockers.api_processing=!0,t.blockers.table_updating=!0,t.customFiltersApplied=!1,t.filters.location_id?(t.customFiltersApplied=!0,f({location_id:t.filters.location_id}).then(function(o){var r=_.uniq(_.pluck(o.results,"vendor_id"));p([{id:r.length>0?r:0}]).then(function(){if(t.bulkEdit.show_form){var i=_.intersection(_.pluck(t.vendors,"id"),_.pluck(t.bulkEdit.checked_items,"id")),o=[];_.each(i,function(e){o.push(t.vendorsById[e])}),t.$timeout(function(){t.bulkEdit.checked_items=o},1e3)}else t.bulkEdit.checked_items=[];t.hideMessage(),t.blockers.api_processing=!1,t.blockers.table_updating=!1,e&&k(e),n(!0)},function(e){i(e)})},function(e){i(e)})):p().then(function(){if(t.bulkEdit.show_form){var i=_.intersection(_.pluck(t.vendors,"id"),_.pluck(t.bulkEdit.checked_items,"id")),o=[];_.each(i,function(e){o.push(t.vendorsById[e])}),t.$timeout(function(){t.bulkEdit.checked_items=o},1e3)}else t.bulkEdit.checked_items=[];t.hideMessage(),t.blockers.api_processing=!1,t.blockers.table_updating=!1,e&&k(e),n(!0)},function(e){i(e)})})}function v(){var e=E;return e.$q(function(e,t){g().then(function(){$().then(function(){e(!0)},function(e){t(e)})},function(e){t(e)})})}function g(){var e=E;return e.$q(function(t,n){e.vendors=e.cakeVendors.getVendors(),e.vendorsById={},_.each(e.vendors,function(t){t=b(t),e.vendorsById[t.id]=t}),t(!0)})}function b(e){return e.locations=[],e.vendorLocations=[],e.locationsNames=[],e}function $(){var e=E;return e.$q(function(t,n){e.vendorLocations=e.cakeVendorLocations.getVendorLocations(),e.vendorLocationsById={},_.each(e.vendorLocations,function(t){t=y(t),e.vendorLocationsById[t.id]=t}),t(!0)})}function y(e){var t=E,n=t.activeLocationsById[e.location_id];e.location=n;var i=t.vendorsById[e.vendor_id];return i&&(i.vendorLocations.push(e),i.locations.push(n),i.locationsNames.push(n.name)),e}function k(e){var t=E;t.$peachToast.show(e)}n(this,o);var E=this;E.activate=function(){var e=E;e.blockers.api_processing=!0,e.blockers.table_updating=!0,e.isDeveloperMode=e.cakeCommon.isDevPreviewModeRunning(),e.$q.all({is_account_admin:e.cakeCommon.isUserAccountAdmin(),active_locations:e.cakeSettings.getSettings("active_locations"),account_locations:e.cakeSettings.getSettings("account_locations"),can_edit_vendors:e.cakePermissions.userHasPermission("edit_vendors")}).then(function(t){e.isAccountAdmin=t.is_account_admin,e.activeLocations=t.active_locations,e.activeLocationsById=_.object(_.pluck(e.activeLocations,"id"),e.activeLocations),e.accountLocations=t.account_locations,e.isSingleLocationAccount=e.accountLocations.length<=1?!0:!1,e.canEditVendors=t.can_edit_vendors,h()},function(t){e.errorHandler(t)})},E.bulkEditVendorLocationsCallback=function(e){var t=E,n=(_.uniq(_.pluck(e,"vendor_id")),[]),i=[];t.blockers.api_processing=!0,t.blockers.table_updating=!0,_.each(e,function(e){e.id?e.to_be_removed&&n.push(e.id):i.push(_.omit(e,["id","to_be_removed"]))}),t.$q.all([t.cakeVendorLocations.bulkCreateVendorLocations(i),t.cakeVendorLocations.bulkDeleteVendorLocations(n)]).then(function(e){h("Data updated!")},function(e){t.blockers.api_processing=!1,t.blockers.table_updating=!1,t.errorHandler(e)})},E.clearFilters=function(){var e=E;e.filters={show_inactive_items:!1,location_id:null},e.customFiltersApplied&&(e.pagination.page_no=1,h())},E.closeBulkEdit=function(){var e=E;e.bulkEdit={is_enabled:!1,show_form:!1,form_data:{},checked_items:[]}},E.errorHandler=function(e,t,n){var i=E,o="";return t=t||!1,o=_.isString(e)?"There was an error: "+e:"There was an error, please check console log for more details.",i.showMessage(o,"alert"),t&&i.cakeCommon.apiErrorHandler(e),_.isFunction(n)?n():void 0},E.filterTable=function(){var e=E;e.pagination.page_no=1,h()},E.hideMessage=function(){var e=E;e.userInfo={message:"",type:""}},E.onBulkEditModeChangeCallback=function(){var e=E;e.bulkEdit.is_enabled?e.openBulkEdit():e.closeBulkEdit()},E.onPaginationChangeCallback=function(){h()},E.onSearchPhraseUpdateCallback=function(){var e=E;e.filterTable()},E.openBulkEdit=function(){var e=E;e.bulkEdit.is_enabled=!0,e.bulkEdit.show_form=!0},E.openEditVendorModal=function(e){var t=E;t.$location.path("/settings/edit_vendor").search({id:e})},E.showMessage=function(e,t){var n=E;t=t||"info",n.userInfo.message=e,n.userInfo.type=t},E.toggleInactiveVendors=function(){var e=E;e.filters.show_inactive_items=!e.filters.show_inactive_items,e.loadTablePageData()}};i.$inject=["$filter","$location","$peachToast","$q","$timeout","commonService","vendorsService","permissionsService","settingsService","vendorLocationsService"],t["default"]=i}]));
//# sourceMappingURL=app.js.map